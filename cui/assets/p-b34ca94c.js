/**
 * Cardholder UI Web Components v0.22.0
 * (c) 2024 Marqeta
 * @license MIT
 */
var t={log:"log",debug:"debug",info:"info",warn:"warn",error:"error"};var n=console;var r={};Object.keys(t).forEach((function(t){r[t]=n[t]}));var e="Datadog Browser SDK:";var i={debug:r.debug.bind(n,e),log:r.log.bind(n,e),info:r.info.bind(n,e),warn:r.warn.bind(n,e),error:r.error.bind(n,e)};function a(t,n){return function(){var r=[];for(var e=0;e<arguments.length;e++){r[e]=arguments[e]}try{return t.apply(void 0,r)}catch(t){i.error(n,t)}}}var u;(function(t){t["WRITABLE_RESOURCE_GRAPHQL"]="writable_resource_graphql";t["CUSTOM_VITALS"]="custom_vitals";t["TOLERANT_RESOURCE_TIMINGS"]="tolerant_resource_timings"})(u||(u={}));var o=new Set;function f(t){t.forEach((function(t){o.add(t)}))}function s(t){return o.has(t)}function c(){return o}function d(t){return t!==0&&Math.random()*100<=t}function v(t,n){return+t.toFixed(n)}function l(t){return h(t)&&t>=0&&t<=100}function h(t){return typeof t==="number"}var _=1e3;var p=60*_;var m=60*p;var g=24*m;var w=365*g;function y(t){return{relative:t,timeStamp:k(t)}}function b(t){return{relative:I(t),timeStamp:t}}function k(t){var n=E()-performance.now();if(n>N()){return Math.round(M(n,t))}return O(t)}function x(){return Math.round(E()-M(N(),performance.now()))}function S(t){if(!h(t)){return t}return v(t*1e6,0)}function E(){return(new Date).getTime()}function A(){return E()}function R(){return performance.now()}function C(){return{relative:R(),timeStamp:A()}}function T(){return{relative:0,timeStamp:N()}}function z(t,n){return n-t}function M(t,n){return t+n}function I(t){return t-N()}function O(t){return Math.round(M(N(),t))}function L(t){return t<w}var U;function N(){if(U===undefined){U=performance.timing.navigationStart}return U}var D=1024;var B=1024*D;var P=/[^\u0000-\u007F]/;function F(t){if(!P.test(t)){return t.length}if(window.TextEncoder!==undefined){return(new TextEncoder).encode(t).length}return new Blob([t]).size}function j(t){var n=t.reduce((function(t,n){return t+n.length}),0);var r=new Uint8Array(n);var e=0;for(var i=0,a=t;i<a.length;i++){var u=a[i];r.set(u,e);e+=u.length}return r}function Z(t,n){return t.indexOf(n)!==-1}function q(t){if(Array.from){return Array.from(t)}var n=[];if(t instanceof Set){t.forEach((function(t){return n.push(t)}))}else{for(var r=0;r<t.length;r++){n.push(t[r])}}return n}function H(t,n){for(var r=0;r<t.length;r+=1){var e=t[r];if(n(e,r)){return e}}return undefined}function V(t,n){for(var r=t.length-1;r>=0;r-=1){var e=t[r];if(n(e,r,t)){return e}}return undefined}function K(t,n){Array.prototype.forEach.call(t,n)}function G(t){return Object.keys(t).map((function(n){return t[n]}))}function W(t){return Object.keys(t).map((function(n){return[n,t[n]]}))}function X(t,n){return t.slice(0,n.length)===n}function J(t,n){return t.slice(-n.length)===n}function $(t){var n=[];for(var r=1;r<arguments.length;r++){n[r-1]=arguments[r]}n.forEach((function(n){for(var r in n){if(Object.prototype.hasOwnProperty.call(n,r)){t[r]=n[r]}}}));return t}function Y(t){return $({},t)}function Q(t,n){return Object.keys(t).some((function(r){return t[r]===n}))}function tt(t){return Object.keys(t).length===0}function nt(t,n){var r={};for(var e=0,i=Object.keys(t);e<i.length;e++){var a=i[e];r[a]=n(t[a])}return r}function rt(){if(typeof globalThis==="object"){return globalThis}Object.defineProperty(Object.prototype,"_dd_temp_",{get:function(){return this},configurable:true});var t=_dd_temp_;delete Object.prototype._dd_temp_;if(typeof t!=="object"){if(typeof self==="object"){t=self}else if(typeof window==="object"){t=window}else{t={}}}return t}function et(t,n){var r=rt();var e;if(r.Zone&&typeof r.Zone.__symbol__==="function"){e=t[r.Zone.__symbol__(n)]}if(!e){e=t[n]}return e}var it=undefined&&undefined.__spreadArray||function(t,n,r){if(r||arguments.length===2)for(var e=0,i=n.length,a;e<i;e++){if(a||!(e in n)){if(!a)a=Array.prototype.slice.call(n,0,e);a[e]=n[e]}}return t.concat(a||Array.prototype.slice.call(n))};var at;var ut=false;function ot(t){at=t}function ft(t){ut=t}function st(t){return function(){return ct(t,this,arguments)}}function ct(t,n,r){try{return t.apply(n,r)}catch(t){dt(t);if(at){try{at(t)}catch(t){dt(t)}}}}function dt(){var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}if(ut){i.error.apply(i,it(["[MONITOR]"],t,false))}}function vt(t,n){return et(rt(),"setTimeout")(st(t),n)}function lt(t){et(rt(),"clearTimeout")(t)}function ht(t,n){return et(rt(),"setInterval")(st(t),n)}function _t(t){et(rt(),"clearInterval")(t)}var pt=function(){function t(t){this.onFirstSubscribe=t;this.observers=[]}t.prototype.subscribe=function(t){var n=this;if(!this.observers.length&&this.onFirstSubscribe){this.onLastUnsubscribe=this.onFirstSubscribe(this)||undefined}this.observers.push(t);return{unsubscribe:function(){n.observers=n.observers.filter((function(n){return t!==n}));if(!n.observers.length&&n.onLastUnsubscribe){n.onLastUnsubscribe()}}}};t.prototype.notify=function(t){this.observers.forEach((function(n){return n(t)}))};return t}();function mt(){var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}return new pt((function(n){var r=t.map((function(t){return t.subscribe((function(t){return n.notify(t)}))}));return function(){return r.forEach((function(t){return t.unsubscribe()}))}}))}function gt(t,n,r){var e=r&&r.leading!==undefined?r.leading:true;var i=r&&r.trailing!==undefined?r.trailing:true;var a=false;var u;var o;return{throttled:function(){var r=[];for(var f=0;f<arguments.length;f++){r[f]=arguments[f]}if(a){u=r;return}if(e){t.apply(void 0,r)}else{u=r}a=true;o=vt((function(){if(i&&u){t.apply(void 0,u)}a=false;u=undefined}),n)},cancel:function(){lt(o);a=false;u=undefined}}}function wt(){}function yt(t){return t?(parseInt(t,10)^Math.random()*16>>parseInt(t,10)/4).toString(16):"".concat(1e7,"-").concat(1e3,"-").concat(4e3,"-").concat(8e3,"-").concat(1e11).replace(/[018]/g,yt)}var bt=/([\w-]+)\s*=\s*([^;]+)/g;function kt(t,n){bt.lastIndex=0;while(true){var r=bt.exec(t);if(r){if(r[1]===n){return r[2]}}else{break}}}function xt(t){var n=new Map;bt.lastIndex=0;while(true){var r=bt.exec(t);if(r){n.set(r[1],r[2])}else{break}}return n}function St(t,n,r){if(r===void 0){r=""}var e=t.charCodeAt(n-1);var i=e>=55296&&e<=56319;var a=i?n+1:n;if(t.length<=a){return t}return"".concat(t.slice(0,a)).concat(r)}function Et(){return Tt()===0}function At(){return Tt()===1}function Rt(){return Tt()===2}var Ct;function Tt(){return Ct!==null&&Ct!==void 0?Ct:Ct=zt()}function zt(t){var n;if(t===void 0){t=window}var r=t.navigator.userAgent;if(t.chrome||/HeadlessChrome/.test(r)){return 1}if(((n=t.navigator.vendor)===null||n===void 0?void 0:n.indexOf("Apple"))===0||/safari/i.test(r)&&!/chrome|android/i.test(r)){return 2}if(t.document.documentMode){return 0}return 3}function Mt(t,n,r,e){var i=new Date;i.setTime(i.getTime()+r);var a="expires=".concat(i.toUTCString());var u=e&&e.crossSite?"none":"strict";var o=e&&e.domain?";domain=".concat(e.domain):"";var f=e&&e.secure?";secure":"";var s=e&&e.partitioned?";partitioned":"";document.cookie="".concat(t,"=").concat(n,";").concat(a,";path=/;samesite=").concat(u).concat(o).concat(f).concat(s)}function It(t){return kt(document.cookie,t)}var Ot;function Lt(t){if(!Ot){Ot=xt(document.cookie)}return Ot.get(t)}function Ut(t,n){Mt(t,"",0,n)}function Nt(t){if(document.cookie===undefined||document.cookie===null){return false}try{var n="dd_cookie_test_".concat(yt());var r="test";Mt(n,r,p,t);var e=It(n)===r;Ut(n,t);return e}catch(t){i.error(t);return false}}var Dt;function Bt(){if(Dt===undefined){var t="dd_site_test_".concat(yt());var n="test";var r=window.location.hostname.split(".");var e=r.pop();while(r.length&&!It(t)){e="".concat(r.pop(),".").concat(e);Mt(t,n,_,{domain:e})}Ut(t,{domain:e});Dt=e}return Dt}var Pt="_dd_s";var Ft=4*m;var jt=15*p;var Zt=/^([a-zA-Z]+)=([a-z0-9-]+)$/;var qt="&";var Ht="1";function Vt(){return{isExpired:Ht}}function Kt(t){return tt(t)}function Gt(t){return!Kt(t)}function Wt(t){return t.isExpired!==undefined||!Xt(t)}function Xt(t){return(t.created===undefined||E()-Number(t.created)<Ft)&&(t.expire===undefined||E()<Number(t.expire))}function Jt(t){t.expire=String(E()+jt)}function $t(t){return W(t).map((function(t){var n=t[0],r=t[1];return"".concat(n,"=").concat(r)})).join(qt)}function Yt(t){var n={};if(Qt(t)){t.split(qt).forEach((function(t){var r=Zt.exec(t);if(r!==null){var e=r[1],i=r[2];n[e]=i}}))}return n}function Qt(t){return!!t&&(t.indexOf(qt)!==-1||Zt.test(t))}var tn="_dd";var nn="_dd_r";var rn="_dd_l";var en="rum";var an="logs";function un(t){var n=Lt(Pt);if(!n){var r=Lt(tn);var e=Lt(nn);var i=Lt(rn);var a={};if(r){a.id=r}if(i&&/^[01]$/.test(i)){a[an]=i}if(e&&/^[012]$/.test(e)){a[en]=e}if(Gt(a)){Jt(a);t.persistSession(a)}}}function on(t){var n=vn(t);return Nt(n)?{type:"Cookie",cookieOptions:n}:undefined}function fn(t){var n={isLockEnabled:At(),persistSession:sn(t),retrieveSession:dn,expireSession:function(){return cn(t)}};un(n);return n}function sn(t){return function(n){Mt(Pt,$t(n),jt,t)}}function cn(t){Mt(Pt,$t(Vt()),Ft,t)}function dn(){var t=It(Pt);return Yt(t)}function vn(t){var n={};n.secure=!!t.useSecureSessionCookie||!!t.usePartitionedCrossSiteSessionCookie||!!t.useCrossSiteSessionCookie;n.crossSite=!!t.usePartitionedCrossSiteSessionCookie||!!t.useCrossSiteSessionCookie;n.partitioned=!!t.usePartitionedCrossSiteSessionCookie;if(t.trackSessionAcrossSubdomains){n.domain=Bt()}return n}var ln="_dd_test_";function hn(){try{var t=yt();var n="".concat(ln).concat(t);localStorage.setItem(n,t);var r=localStorage.getItem(n);localStorage.removeItem(n);return t===r?{type:"LocalStorage"}:undefined}catch(t){return undefined}}function _n(){return{isLockEnabled:false,persistSession:pn,retrieveSession:mn,expireSession:gn}}function pn(t){localStorage.setItem(Pt,$t(t))}function mn(){var t=localStorage.getItem(Pt);return Yt(t)}function gn(){pn(Vt())}var wn=10;var yn=100;var bn=[];var kn;function xn(t,n,r){var e;if(r===void 0){r=0}var i=n.isLockEnabled,a=n.persistSession,u=n.expireSession;var o=function(t){return a($({},t,{lock:s}))};var f=function(){var t=n.retrieveSession();var r=t.lock;if(t.lock){delete t.lock}return{session:t,lock:r}};if(!kn){kn=t}if(t!==kn){bn.push(t);return}if(i&&r>=yn){En(n);return}var s;var c=f();if(i){if(c.lock){Sn(t,n,r);return}s=yt();o(c.session);c=f();if(c.lock!==s){Sn(t,n,r);return}}var d=t.process(c.session);if(i){c=f();if(c.lock!==s){Sn(t,n,r);return}}if(d){if(Wt(d)){u()}else{Jt(d);i?o(d):a(d)}}if(i){if(!(d&&Wt(d))){c=f();if(c.lock!==s){Sn(t,n,r);return}a(c.session);d=c.session}}(e=t.after)===null||e===void 0?void 0:e.call(t,d||c.session);En(n)}function Sn(t,n,r){vt((function(){xn(t,n,r+1)}),wn)}function En(t){kn=undefined;var n=bn.shift();if(n){xn(n,t)}}var An=_;function Rn(t){var n=on(t);if(!n&&t.allowFallbackToLocalStorage){n=hn()}return n}function Cn(t,n,r){var e=new pt;var i=new pt;var a=t.type==="Cookie"?fn(t.cookieOptions):_n();var u=a.expireSession;var o=ht(l,An);var f;_();var s=gt((function(){xn({process:function(t){if(Kt(t)){return}var n=h(t);p(n);return n},after:function(t){if(Gt(t)&&!m()){y(t)}f=t}},a)}),An),c=s.throttled,d=s.cancel;function v(){xn({process:function(t){return m()?h(t):undefined}},a)}function l(){xn({process:function(t){return Wt(t)?Vt():undefined},after:h},a)}function h(t){if(Wt(t)){t=Vt()}if(m()){if(g(t)){w()}else{f=t}}return t}function _(){xn({process:function(t){if(Kt(t)){return Vt()}},after:function(t){f=t}},a)}function p(t){if(Kt(t)){return false}var e=r(t[n]),i=e.trackingType,a=e.isTracked;t[n]=i;delete t.isExpired;if(a&&!t.id){t.id=yt();t.created=String(E())}}function m(){return f[n]!==undefined}function g(t){return f.id!==t.id||f[n]!==t[n]}function w(){f=Vt();i.notify()}function y(t){f=t;e.notify()}return{expandOrRenewSession:c,expandSession:v,getSession:function(){return f},renewObservable:e,expireObservable:i,restartSession:_,expire:function(){d();u();h(Vt())},stop:function(){_t(o)}}}var Tn={GRANTED:"granted",NOT_GRANTED:"not-granted"};function zn(t){var n=new pt;return{tryToInit:function(n){if(!t){t=n}},update:function(r){t=r;n.notify()},isGranted:function(){return t===Tn.GRANTED},observable:n}}function Mn(t,n,r){if(typeof t!=="object"||t===null){return JSON.stringify(t)}var e=In(Object.prototype);var i=In(Array.prototype);var a=In(Object.getPrototypeOf(t));var u=In(t);try{return JSON.stringify(t,n,r)}catch(t){return"<error: unable to serialize object>"}finally{e();i();a();u()}}function In(t){var n=t;var r=n.toJSON;if(r){delete n.toJSON;return function(){n.toJSON=r}}return wt}function On(t){return Nn(t,location.href).href}function Ln(t){try{return!!Nn(t)}catch(t){return false}}function Un(t){var n=Nn(t).pathname;return n[0]==="/"?n:"/".concat(n)}function Nn(t,n){var r=Pn();if(r){try{return n!==undefined?new r(t,n):new r(t)}catch(r){throw new Error("Failed to construct URL: ".concat(String(r)," ").concat(Mn({url:t,base:n})))}}if(n===undefined&&!/:/.test(t)){throw new Error("Invalid URL: '".concat(t,"'"))}var e=document;var i=e.createElement("a");if(n!==undefined){e=document.implementation.createHTMLDocument("");var a=e.createElement("base");a.href=n;e.head.appendChild(a);e.body.appendChild(i)}i.href=t;return i}var Dn=URL;var Bn;function Pn(){if(Bn===undefined){try{var t=new Dn("http://test/path");Bn=t.href==="http://test/path"}catch(t){Bn=false}}return Bn?Dn:undefined}var Fn="datad0g.com";var jn="dd0g-gov.com";var Zn="datadoghq.com";var qn="datadoghq.eu";var Hn="ddog-gov.com";var Vn="pci.browser-intake-datadoghq.com";function Kn(t,n,r){var e=Gn(t,n);return{build:function(i,a){var u=Xn(t,n,r,i,a);return e(u)},urlPrefix:e(""),trackType:n}}function Gn(t,n){var r="/api/v2/".concat(n);var e=t.proxy;if(typeof e==="string"){var i=On(e);return function(t){return"".concat(i,"?ddforward=").concat(encodeURIComponent("".concat(r,"?").concat(t)))}}if(typeof e==="function"){return function(t){return e({path:r,parameters:t})}}var a=Wn(n,t);return function(t){return"https://".concat(a).concat(r,"?").concat(t)}}function Wn(t,n){var r=n.site,e=r===void 0?Zn:r,i=n.internalAnalyticsSubdomain;if(t==="logs"&&n.usePciIntake&&e===Zn){return Vn}if(i&&e===Zn){return"".concat(i,".").concat(Zn)}if(e===jn){return"http-intake.logs.".concat(e)}var a=e.split(".");var u=a.pop();return"browser-intake-".concat(a.join("-"),".").concat(u)}function Xn(t,n,r,e,i){var a=t.clientToken,u=t.internalAnalyticsSubdomain;var o=i.retry,f=i.encoding;var s=["sdk_version:".concat("5.19.0"),"api:".concat(e)].concat(r);if(o){s.push("retry_count:".concat(o.count),"retry_after:".concat(o.lastFailureStatus))}var c=["ddsource=browser","ddtags=".concat(encodeURIComponent(s.join(","))),"dd-api-key=".concat(a),"dd-evp-origin-version=".concat(encodeURIComponent("5.19.0")),"dd-evp-origin=browser","dd-request-id=".concat(yt())];if(f){c.push("dd-evp-encoding=".concat(f))}if(n==="rum"){c.push("batch_time=".concat(A()))}if(u){c.reverse()}return c.join("&")}var Jn=200;function $n(t){var n=t.env,r=t.service,e=t.version,i=t.datacenter;var a=[];if(n){a.push(Qn("env",n))}if(r){a.push(Qn("service",r))}if(e){a.push(Qn("version",e))}if(i){a.push(Qn("datacenter",i))}return a}var Yn=/[^a-z0-9_:./-]/;function Qn(t,n){var r=Jn-t.length-1;if(n.length>r||Yn.test(n)){i.warn("".concat(t," value doesn't meet tag requirements and will be sanitized"))}var e=n.replace(/,/g,"_");return"".concat(t,":").concat(e)}function tr(t){var n=t.site||Zn;var r=$n(t);var e=nr(t,r);var i=er(e,n);var a=rr(t,i,r);return $({isIntakeUrl:function(t){return i.some((function(n){return t.indexOf(n)===0}))},replica:a,site:n},e)}function nr(t,n){return{logsEndpointBuilder:Kn(t,"logs",n),rumEndpointBuilder:Kn(t,"rum",n),sessionReplayEndpointBuilder:Kn(t,"replay",n)}}function rr(t,n,r){if(!t.replica){return}var e=$({},t,{site:Zn,clientToken:t.replica.clientToken});var i={logsEndpointBuilder:Kn(e,"logs",r),rumEndpointBuilder:Kn(e,"rum",r)};n.push.apply(n,G(i).map((function(t){return t.urlPrefix})));return $({applicationId:t.replica.applicationId},i)}function er(t,n){var r=G(t).map((function(t){return t.urlPrefix}));if(n===Zn){r.push("https://".concat(Vn,"/"))}return r}var ir="https://docs.datadoghq.com/getting_started/site/";var ar={ALLOW:"allow",MASK:"mask",MASK_USER_INPUT:"mask-user-input"};var ur={ALL:"all",SAMPLED:"sampled"};function or(t,n){if(t!==undefined&&t!==null&&typeof t!=="string"){i.error("".concat(n," must be defined as a string"));return false}return true}function fr(t){return/(datadog|ddog|datad0g|dd0g)/.test(t)}function sr(t){var n,r,e,o,s;if(!t||!t.clientToken){i.error("Client Token is not configured, we will not send any data.");return}if(t.sessionSampleRate!==undefined&&!l(t.sessionSampleRate)){i.error("Session Sample Rate should be a number between 0 and 100");return}if(t.telemetrySampleRate!==undefined&&!l(t.telemetrySampleRate)){i.error("Telemetry Sample Rate should be a number between 0 and 100");return}if(t.telemetryConfigurationSampleRate!==undefined&&!l(t.telemetryConfigurationSampleRate)){i.error("Telemetry Configuration Sample Rate should be a number between 0 and 100");return}if(t.telemetryUsageSampleRate!==undefined&&!l(t.telemetryUsageSampleRate)){i.error("Telemetry Usage Sample Rate should be a number between 0 and 100");return}if(!or(t.version,"Version")){return}if(!or(t.env,"Env")){return}if(!or(t.service,"Service")){return}if(t.trackingConsent!==undefined&&!Q(Tn,t.trackingConsent)){i.error('Tracking Consent should be either "granted" or "not-granted"');return}if(t.site&&!fr(t.site)){i.error("Site should be a valid Datadog site. Learn more here: ".concat(ir,"."));return}if(Array.isArray(t.enableExperimentalFeatures)){f(t.enableExperimentalFeatures.filter((function(t){return Q(u,t)})))}return $({beforeSend:t.beforeSend&&a(t.beforeSend,"beforeSend threw an error:"),sessionStoreStrategyType:Rn(t),sessionSampleRate:(n=t.sessionSampleRate)!==null&&n!==void 0?n:100,telemetrySampleRate:(r=t.telemetrySampleRate)!==null&&r!==void 0?r:20,telemetryConfigurationSampleRate:(e=t.telemetryConfigurationSampleRate)!==null&&e!==void 0?e:5,telemetryUsageSampleRate:(o=t.telemetryUsageSampleRate)!==null&&o!==void 0?o:5,service:t.service||undefined,silentMultipleInit:!!t.silentMultipleInit,allowUntrustedEvents:!!t.allowUntrustedEvents,trackingConsent:(s=t.trackingConsent)!==null&&s!==void 0?s:Tn.GRANTED,batchBytesLimit:16*D,eventRateLimiterThreshold:3e3,maxTelemetryEventsPerPage:15,flushTimeout:30*_,batchMessagesLimit:50,messageBytesLimit:256*D},tr(t))}function cr(t){return{session_sample_rate:t.sessionSampleRate,telemetry_sample_rate:t.telemetrySampleRate,telemetry_configuration_sample_rate:t.telemetryConfigurationSampleRate,telemetry_usage_sample_rate:t.telemetryUsageSampleRate,use_before_send:!!t.beforeSend,use_cross_site_session_cookie:t.useCrossSiteSessionCookie,use_partitioned_cross_site_session_cookie:t.usePartitionedCrossSiteSessionCookie,use_secure_session_cookie:t.useSecureSessionCookie,use_proxy:!!t.proxy,silent_multiple_init:t.silentMultipleInit,track_session_across_subdomains:t.trackSessionAcrossSubdomains,allow_fallback_to_local_storage:!!t.allowFallbackToLocalStorage,store_contexts_across_pages:!!t.storeContextsAcrossPages,allow_untrusted_events:!!t.allowUntrustedEvents,tracking_consent:t.trackingConsent}}function dr(t,n,r){var e=t[n];if(typeof e!=="function"){if(X(n,"on")){e=wt}else{return{stop:wt}}}var i=vr(e,r);var a=function(){if(typeof i!=="function"){return undefined}return i.apply(this,arguments)};t[n]=a;return{stop:function(){if(t[n]===a){t[n]=e}else{i=e}}}}function vr(t,n){return function(){var r=q(arguments);var e;ct(n,null,[{target:this,parameters:r,onPostCall:function(t){e=t}}]);var i=t.apply(this,r);if(e){ct(e,null,[i])}return i}}function lr(t,n,r){var e=Object.getOwnPropertyDescriptor(t,n);if(!e||!e.set||!e.configurable){return{stop:wt}}var i=wt;var a=function(t,n){vt((function(){if(a!==i){r(t,n)}}),0)};var u=function(t){e.set.call(this,t);a(this,t)};Object.defineProperty(t,n,{set:u});return{stop:function(){var r;if(((r=Object.getOwnPropertyDescriptor(t,n))===null||r===void 0?void 0:r.set)===u){Object.defineProperty(t,n,e)}a=i}}}var hr="?";function _r(t){var n=[];var r=Cr(t,"stack");var e=String(t);if(r&&X(r,e)){r=r.slice(e.length)}if(r){r.split("\n").forEach((function(t){var r=yr(t)||kr(t)||Sr(t)||Rr(t);if(r){if(!r.func&&r.line){r.func=hr}n.push(r)}}))}return{message:Cr(t,"message"),name:Cr(t,"name"),stack:n}}var pr="((?:file|https?|blob|chrome-extension|native|eval|webpack|snippet|<anonymous>|\\w+\\.|\\/).*?)";var mr="(?::(\\d+))";var gr=new RegExp("^\\s*at (.*?) ?\\(".concat(pr).concat(mr,"?").concat(mr,"?\\)?\\s*$"),"i");var wr=new RegExp("\\((\\S*)".concat(mr).concat(mr,"\\)"));function yr(t){var n=gr.exec(t);if(!n){return}var r=n[2]&&n[2].indexOf("native")===0;var e=n[2]&&n[2].indexOf("eval")===0;var i=wr.exec(n[2]);if(e&&i){n[2]=i[1];n[3]=i[2];n[4]=i[3]}return{args:r?[n[2]]:[],column:n[4]?+n[4]:undefined,func:n[1]||hr,line:n[3]?+n[3]:undefined,url:!r?n[2]:undefined}}var br=new RegExp("^\\s*at ?".concat(pr).concat(mr,"?").concat(mr,"??\\s*$"),"i");function kr(t){var n=br.exec(t);if(!n){return}return{args:[],column:n[3]?+n[3]:undefined,func:hr,line:n[2]?+n[2]:undefined,url:n[1]}}var xr=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i;function Sr(t){var n=xr.exec(t);if(!n){return}return{args:[],column:n[4]?+n[4]:undefined,func:n[1]||hr,line:+n[3],url:n[2]}}var Er=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|resource|capacitor|\[native).*?|[^@]*bundle)(?::(\d+))?(?::(\d+))?\s*$/i;var Ar=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i;function Rr(t){var n=Er.exec(t);if(!n){return}var r=n[3]&&n[3].indexOf(" > eval")>-1;var e=Ar.exec(n[3]);if(r&&e){n[3]=e[1];n[4]=e[2];n[5]=undefined}return{args:n[2]?n[2].split(","):[],column:n[5]?+n[5]:undefined,func:n[1]||hr,line:n[4]?+n[4]:undefined,url:n[3]}}function Cr(t,n){if(typeof t!=="object"||!t||!(n in t)){return undefined}var r=t[n];return typeof r==="string"?r:undefined}function Tr(t,n,r,e){var i=[{url:n,column:e,line:r}];var a=Mr(t),u=a.name,o=a.message;return{name:u,message:o,stack:i}}var zr=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?([\s\S]*)$/;function Mr(t){var n;var r;var e;if({}.toString.call(t)==="[object String]"){n=zr.exec(t),r=n[1],e=n[2]}return{name:r,message:e}}var Ir=220*D;var Or="$";var Lr=3;function Ur(t,n){var r;if(n===void 0){n=Ir}var e=In(Object.prototype);var i=In(Array.prototype);var a=[];var u=new WeakMap;var o=Nr(t,Or,undefined,a,u);var f=((r=JSON.stringify(o))===null||r===void 0?void 0:r.length)||0;if(f>n){Fr(n,"discarded",t);return undefined}while(a.length>0&&f<n){var s=a.shift();var c=0;if(Array.isArray(s.source)){for(var d=0;d<s.source.length;d++){var v=Nr(s.source[d],s.path,d,a,u);if(v!==undefined){f+=JSON.stringify(v).length}else{f+=4}f+=c;c=1;if(f>n){Fr(n,"truncated",t);break}s.target[d]=v}}else{for(var d in s.source){if(Object.prototype.hasOwnProperty.call(s.source,d)){var v=Nr(s.source[d],s.path,d,a,u);if(v!==undefined){f+=JSON.stringify(v).length+c+d.length+Lr;c=1}if(f>n){Fr(n,"truncated",t);break}s.target[d]=v}}}}e();i();return o}function Nr(t,n,r,e,i){var a=Pr(t);if(!a||typeof a!=="object"){return Dr(a)}var u=Br(a);if(u!=="[Object]"&&u!=="[Array]"&&u!=="[Error]"){return u}var o=t;if(i.has(o)){return"[Reference seen at ".concat(i.get(o),"]")}var f=r!==undefined?"".concat(n,".").concat(r):n;var s=Array.isArray(a)?[]:{};i.set(o,f);e.push({source:a,target:s,path:f});return s}function Dr(t){if(typeof t==="bigint"){return"[BigInt] ".concat(t.toString())}if(typeof t==="function"){return"[Function] ".concat(t.name||"unknown")}if(typeof t==="symbol"){return"[Symbol] ".concat(t.description||t.toString())}return t}function Br(t){try{if(t instanceof Event){return{isTrusted:t.isTrusted}}var n=Object.prototype.toString.call(t);var r=n.match(/\[object (.*)\]/);if(r&&r[1]){return"[".concat(r[1],"]")}}catch(t){}return"[Unserializable]"}function Pr(t){var n=t;if(n&&typeof n.toJSON==="function"){try{return n.toJSON()}catch(t){}}return t}function Fr(t,n,r){i.warn("The data provided has been ".concat(n," as it is over the limit of ").concat(t," characters:"),r)}function jr(){var t=2;var n=new Error;var r;if(!n.stack){try{throw n}catch(t){}}ct((function(){var e=_r(n);e.stack=e.stack.slice(t);r=Zr(e)}));return r}function Zr(t){var n=qr(t);t.stack.forEach((function(t){var r=t.func==="?"?"<anonymous>":t.func;var e=t.args&&t.args.length>0?"(".concat(t.args.join(", "),")"):"";var i=t.line?":".concat(t.line):"";var a=t.line&&t.column?":".concat(t.column):"";n+="\n  at ".concat(r).concat(e," @ ").concat(t.url).concat(i).concat(a)}));return n}function qr(t){return"".concat(t.name||"Error",": ").concat(t.message)}var Hr="No stack, consider using an instance of Error";function Vr(t){var n=t.stackTrace,r=t.originalError,e=t.handlingStack,i=t.startClocks,a=t.nonErrorPrefix,u=t.source,o=t.handling;var f=r instanceof Error;var s=Kr(n,f,a,r);var c=Gr(f,n)?Zr(n):Hr;var d=f?Xr(r,u):undefined;var v=n===null||n===void 0?void 0:n.name;var l=Wr(r);return{startClocks:i,source:u,handling:o,handlingStack:e,originalError:r,type:v,message:s,stack:c,causes:d,fingerprint:l}}function Kr(t,n,r,e){return(t===null||t===void 0?void 0:t.message)&&(t===null||t===void 0?void 0:t.name)?t.message:!n?"".concat(r," ").concat(Mn(Ur(e))):"Empty message"}function Gr(t,n){if(n===undefined){return false}if(t){return true}return n.stack.length>0&&(n.stack.length>1||n.stack[0].url!==undefined)}function Wr(t){return t instanceof Error&&"dd_fingerprint"in t?String(t.dd_fingerprint):undefined}function Xr(t,n){var r=t;var e=[];while((r===null||r===void 0?void 0:r.cause)instanceof Error&&e.length<10){var i=_r(r.cause);e.push({message:r.cause.message,source:n,type:i===null||i===void 0?void 0:i.name,stack:i&&Zr(i)});r=r.cause}return e.length?e:undefined}var Jr={AGENT:"agent",CONSOLE:"console",CUSTOM:"custom",LOGGER:"logger",NETWORK:"network",SOURCE:"source",REPORT:"report"};function $r(t){var n=function(n,r){var e=Vr({stackTrace:n,originalError:r,startClocks:C(),nonErrorPrefix:"Uncaught",source:Jr.SOURCE,handling:"unhandled"});t.notify(e)};var r=Yr(n).stop;var e=Qr(n).stop;return{stop:function(){r();e()}}}function Yr(t){return dr(window,"onerror",(function(n){var r=n.parameters,e=r[0],i=r[1],a=r[2],u=r[3],o=r[4];var f;if(o instanceof Error){f=_r(o)}else{f=Tr(e,i,a,u)}t(f,o!==null&&o!==void 0?o:e)}))}function Qr(t){return dr(window,"onunhandledrejection",(function(n){var r=n.parameters[0];var e=r.reason||"Empty reason";var i=_r(e);t(i,e)}))}function te(t){var n=$({version:"5.19.0",onReady:function(t){t()}},t);Object.defineProperty(n,"_setDebug",{get:function(){return ft},enumerable:false});return n}function ne(t,n,r){var e=t[n];t[n]=r;if(e&&e.q){e.q.forEach((function(t){return a(t,"onReady callback threw an error:")()}))}}function re(t,n){if(!n.silentMultipleInit){i.error("".concat(t," is already initialized."))}}var ee;(function(t){t["BEFORE_UNLOAD"]="beforeunload";t["CLICK"]="click";t["DBL_CLICK"]="dblclick";t["KEY_DOWN"]="keydown";t["LOAD"]="load";t["POP_STATE"]="popstate";t["SCROLL"]="scroll";t["TOUCH_START"]="touchstart";t["TOUCH_END"]="touchend";t["TOUCH_MOVE"]="touchmove";t["VISIBILITY_CHANGE"]="visibilitychange";t["PAGE_SHOW"]="pageshow";t["FREEZE"]="freeze";t["RESUME"]="resume";t["DOM_CONTENT_LOADED"]="DOMContentLoaded";t["POINTER_DOWN"]="pointerdown";t["POINTER_UP"]="pointerup";t["POINTER_CANCEL"]="pointercancel";t["HASH_CHANGE"]="hashchange";t["PAGE_HIDE"]="pagehide";t["MOUSE_DOWN"]="mousedown";t["MOUSE_UP"]="mouseup";t["MOUSE_MOVE"]="mousemove";t["FOCUS"]="focus";t["BLUR"]="blur";t["CONTEXT_MENU"]="contextmenu";t["RESIZE"]="resize";t["CHANGE"]="change";t["INPUT"]="input";t["PLAY"]="play";t["PAUSE"]="pause";t["SECURITY_POLICY_VIOLATION"]="securitypolicyviolation";t["SELECTION_CHANGE"]="selectionchange";t["STORAGE"]="storage"})(ee||(ee={}));function ie(t,n,r,e,i){return ae(t,n,[r],e,i)}function ae(t,n,r,e,i){var a=i===void 0?{}:i,u=a.once,o=a.capture,f=a.passive;var s=st((function(n){if(!n.isTrusted&&!n.__ddIsTrusted&&!t.allowUntrustedEvents){return}if(u){v()}e(n)}));var c=f?{capture:o,passive:f}:o;var d=et(n,"addEventListener");r.forEach((function(t){return d.call(n,t,s,c)}));function v(){var t=et(n,"removeEventListener");r.forEach((function(r){return t.call(n,r,s,c)}))}return{stop:v}}var ue={intervention:"intervention",deprecation:"deprecation",cspViolation:"csp_violation"};function oe(t,n){var r=[];if(Z(n,ue.cspViolation)){r.push(se(t))}var e=n.filter((function(t){return t!==ue.cspViolation}));if(e.length){r.push(fe(e))}return mt.apply(void 0,r)}function fe(t){return new pt((function(n){if(!window.ReportingObserver){return}var r=st((function(t,r){return t.forEach((function(t){n.notify(ce(t))}))}));var e=new window.ReportingObserver(r,{types:t,buffered:true});e.observe();return function(){e.disconnect()}}))}function se(t){return new pt((function(n){var r=ie(t,document,ee.SECURITY_POLICY_VIOLATION,(function(t){n.notify(de(t))})).stop;return r}))}function ce(t){var n=t.type,r=t.body;return{type:n,subtype:r.id,message:"".concat(n,": ").concat(r.message),originalReport:t,stack:ve(r.id,r.message,r.sourceFile,r.lineNumber,r.columnNumber)}}function de(t){var n=ue.cspViolation;var r="'".concat(t.blockedURI,"' blocked by '").concat(t.effectiveDirective,"' directive");return{type:ue.cspViolation,subtype:t.effectiveDirective,message:"".concat(n,": ").concat(r),stack:ve(t.effectiveDirective,t.originalPolicy?"".concat(r,' of the policy "').concat(St(t.originalPolicy,100,"..."),'"'):"no policy",t.sourceFile,t.lineNumber,t.columnNumber),originalReport:t}}function ve(t,n,r,e,i){return r?Zr({name:t,message:n,stack:[{func:"?",url:r,line:e!==null&&e!==void 0?e:undefined,column:i!==null&&i!==void 0?i:undefined}]}):undefined}function le(t,n){var r=window.__ddBrowserSdkExtensionCallback;if(r){r({type:t,payload:n})}}function he(t){if(t===null){return"null"}if(Array.isArray(t)){return"array"}return typeof t}function _e(t,n,r){if(r===void 0){r=ge()}if(n===undefined){return t}if(typeof n!=="object"||n===null){return n}else if(n instanceof Date){return new Date(n.getTime())}else if(n instanceof RegExp){var e=n.flags||[n.global?"g":"",n.ignoreCase?"i":"",n.multiline?"m":"",n.sticky?"y":"",n.unicode?"u":""].join("");return new RegExp(n.source,e)}if(r.hasAlreadyBeenSeen(n)){return undefined}else if(Array.isArray(n)){var i=Array.isArray(t)?t:[];for(var a=0;a<n.length;++a){i[a]=_e(i[a],n[a],r)}return i}var u=he(t)==="object"?t:{};for(var o in n){if(Object.prototype.hasOwnProperty.call(n,o)){u[o]=_e(u[o],n[o],r)}}return u}function pe(t){return _e(undefined,t)}function me(){var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}var r;for(var e=0,i=t;e<i.length;e++){var a=i[e];if(a===undefined||a===null){continue}r=_e(r,a)}return r}function ge(){if(typeof WeakSet!=="undefined"){var t=new WeakSet;return{hasAlreadyBeenSeen:function(n){var r=t.has(n);if(!r){t.add(n)}return r}}}var n=[];return{hasAlreadyBeenSeen:function(t){var r=n.indexOf(t)>=0;if(!r){n.push(t)}return r}}}function we(){var t;var n=window.navigator;return{status:n.onLine?"connected":"not_connected",interfaces:n.connection&&n.connection.type?[n.connection.type]:undefined,effective_type:(t=n.connection)===null||t===void 0?void 0:t.effectiveType}}function ye(t,n){var r=t.indexOf(n);if(r>=0){t.splice(r,1)}}var be=500;var ke=function(){function t(){this.buffer=[]}t.prototype.add=function(t){var n=this.buffer.push(t);if(n>be){this.buffer.splice(0,1)}};t.prototype.remove=function(t){ye(this.buffer,t)};t.prototype.drain=function(t){this.buffer.forEach((function(n){return n(t)}));this.buffer.length=0};return t}();var xe={log:"log",configuration:"configuration",usage:"usage"};var Se=["https://www.datadoghq-browser-agent.com","https://www.datad0g-browser-agent.com","https://d3uc069fcn7uxw.cloudfront.net","https://d20xtzwzcl0ceb.cloudfront.net","http://localhost","<anonymous>"];var Ee=[Hn];var Ae=new ke;var Re=function(t){Ae.add((function(){return Re(t)}))};function Ce(t,n){var r;var e;var i=new pt;var a=new Set;var u=!Z(Ee,n.site)&&d(n.telemetrySampleRate);var o=(r={},r[xe.log]=u,r[xe.configuration]=u&&d(n.telemetryConfigurationSampleRate),r[xe.usage]=u&&d(n.telemetryUsageSampleRate),r);var f=Te();Re=function(r){var e=Mn(r);if(o[r.type]&&a.size<n.maxTelemetryEventsPerPage&&!a.has(e)){var u=s(t,r,f);i.notify(u);le("telemetry",u);a.add(e)}};ot(Oe);function s(t,n,r){return me({type:"telemetry",date:A(),service:t,version:"5.19.0",source:"browser",_dd:{format_version:2},telemetry:me(n,{runtime_env:r,connectivity:we()}),experimental_features:q(c())},e!==undefined?e():{})}return{setContextProvider:function(t){e=t},observable:i,enabled:u}}function Te(){return{is_local_file:window.location.protocol==="file:",is_worker:"WorkerGlobalScope"in self}}function ze(){Ae.drain()}function Me(t){return t.site===Fn}function Ie(n,r){dt(t.debug,n,r);Re($({type:xe.log,message:n,status:"debug"},r))}function Oe(t,n){Re($({type:xe.log,status:"error"},Ne(t),n))}function Le(t){Re({type:xe.configuration,configuration:t})}function Ue(t){Re({type:xe.usage,usage:t})}function Ne(t){if(t instanceof Error){var n=_r(t);return{error:{kind:n.name,stack:Zr(De(n))},message:n.message}}return{error:{stack:Hr},message:"".concat("Uncaught"," ").concat(Mn(t))}}function De(t){t.stack=t.stack.filter((function(t){return!t.url||Se.some((function(n){return X(t.url,n)}))}));return t}var Be=Infinity;var Pe=p;var Fe=function(){function t(t,n){var r=this;this.expireDelay=t;this.maxEntries=n;this.entries=[];this.clearOldValuesInterval=ht((function(){return r.clearOldValues()}),Pe)}t.prototype.add=function(t,n){var r=this;var e={value:t,startTime:n,endTime:Be,remove:function(){ye(r.entries,e)},close:function(t){e.endTime=t}};if(this.maxEntries&&this.entries.length>=this.maxEntries){this.entries.pop()}this.entries.unshift(e);return e};t.prototype.find=function(t,n){if(t===void 0){t=Be}if(n===void 0){n={returnInactive:false}}for(var r=0,e=this.entries;r<e.length;r++){var i=e[r];if(i.startTime<=t){if(n.returnInactive||t<=i.endTime){return i.value}break}}};t.prototype.closeActive=function(t){var n=this.entries[0];if(n&&n.endTime===Be){n.close(t)}};t.prototype.findAll=function(t,n){if(t===void 0){t=Be}if(n===void 0){n=0}var r=M(t,n);return this.entries.filter((function(n){return n.startTime<=r&&t<=n.endTime})).map((function(t){return t.value}))};t.prototype.reset=function(){this.entries=[]};t.prototype.stop=function(){_t(this.clearOldValuesInterval)};t.prototype.clearOldValues=function(){var t=R()-this.expireDelay;while(this.entries.length>0&&this.entries[this.entries.length-1].endTime<t){this.entries.pop()}};return t}();var je=p;var Ze=Ft;function qe(t,n,r,e){var i=new pt;var a=new pt;var u=Cn(t.sessionStoreStrategyType,n,r);var o=new Fe(Ze);u.renewObservable.subscribe((function(){o.add(f(),R());i.notify()}));u.expireObservable.subscribe((function(){a.notify();o.closeActive(R())}));u.expandOrRenewSession();o.add(f(),T().relative);e.observable.subscribe((function(){if(e.isGranted()){u.expandOrRenewSession()}else{u.expire()}}));He(t,(function(){if(e.isGranted()){u.expandOrRenewSession()}}));Ve(t,(function(){return u.expandSession()}));Ke(t,(function(){return u.restartSession()}));function f(){return{id:u.getSession().id,trackingType:u.getSession()[n]}}return{findSession:function(t,n){return o.find(t,n)},renewObservable:i,expireObservable:a,expire:u.expire}}function He(t,n){ae(t,window,[ee.CLICK,ee.TOUCH_START,ee.KEY_DOWN,ee.SCROLL],n,{capture:true,passive:true}).stop}function Ve(t,n){var r=function(){if(document.visibilityState==="visible"){n()}};ie(t,document,ee.VISIBILITY_CHANGE,r).stop;ht(r,je)}function Ke(t,n){ie(t,window,ee.RESUME,n,{capture:true}).stop}function Ge(t){return t>=500}function We(t){try{return t.clone()}catch(t){return}}var Xe=80*D;var Je=32;var $e=3*B;var Ye=p;var Qe=_;function ti(t,n,r,e,i){if(n.transportStatus===0&&n.queuedPayloads.size()===0&&n.bandwidthMonitor.canHandle(t)){ri(t,n,r,{onSuccess:function(){return ei(0,n,r,e,i)},onFailure:function(){n.queuedPayloads.enqueue(t);ni(n,r,e,i)}})}else{n.queuedPayloads.enqueue(t)}}function ni(t,n,r,e){if(t.transportStatus!==2){return}vt((function(){var i=t.queuedPayloads.first();ri(i,t,n,{onSuccess:function(){t.queuedPayloads.dequeue();t.currentBackoffTime=Qe;ei(1,t,n,r,e)},onFailure:function(){t.currentBackoffTime=Math.min(Ye,t.currentBackoffTime*2);ni(t,n,r,e)}})}),t.currentBackoffTime)}function ri(t,n,r,e){var i=e.onSuccess,a=e.onFailure;n.bandwidthMonitor.add(t);r(t,(function(r){n.bandwidthMonitor.remove(t);if(!ii(r)){n.transportStatus=0;i()}else{n.transportStatus=n.bandwidthMonitor.ongoingRequestCount>0?1:2;t.retry={count:t.retry?t.retry.count+1:1,lastFailureStatus:r.status};a()}}))}function ei(t,n,r,e,i){if(t===0&&n.queuedPayloads.isFull()&&!n.queueFullReported){i({message:"Reached max ".concat(e," events size queued for upload: ").concat($e/B,"MiB"),source:Jr.AGENT,startClocks:C()});n.queueFullReported=true}var a=n.queuedPayloads;n.queuedPayloads=ui();while(a.size()>0){ti(a.dequeue(),n,r,e,i)}}function ii(t){return t.type!=="opaque"&&(t.status===0&&!navigator.onLine||t.status===408||t.status===429||Ge(t.status))}function ai(){return{transportStatus:0,currentBackoffTime:Qe,bandwidthMonitor:oi(),queuedPayloads:ui(),queueFullReported:false}}function ui(){var t=[];return{bytesCount:0,enqueue:function(n){if(this.isFull()){return}t.push(n);this.bytesCount+=n.bytesCount},first:function(){return t[0]},dequeue:function(){var n=t.shift();if(n){this.bytesCount-=n.bytesCount}return n},size:function(){return t.length},isFull:function(){return this.bytesCount>=$e}}}function oi(){return{ongoingRequestCount:0,ongoingByteCount:0,canHandle:function(t){return this.ongoingRequestCount===0||this.ongoingByteCount+t.bytesCount<=Xe&&this.ongoingRequestCount<Je},add:function(t){this.ongoingRequestCount+=1;this.ongoingByteCount+=t.bytesCount},remove:function(t){this.ongoingRequestCount-=1;this.ongoingByteCount-=t.bytesCount}}}function fi(t,n,r,e){var i=ai();var a=function(e,i){return vi(t,n,r,e,i)};return{send:function(t){ti(t,i,a,n.trackType,e)},sendOnExit:function(e){si(t,n,r,e)}}}function si(t,n,r,e){var i=!!navigator.sendBeacon&&e.bytesCount<r;if(i){try{var a=n.build("beacon",e);var u=navigator.sendBeacon(a,e.data);if(u){return}}catch(t){di(t)}}var o=n.build("xhr",e);hi(t,o,e.data)}var ci=false;function di(t){if(!ci){ci=true;Oe(t)}}function vi(t,n,r,e,i){var a=li()&&e.bytesCount<r;if(a){var u=n.build("fetch",e);fetch(u,{method:"POST",body:e.data,keepalive:true,mode:"cors"}).then(st((function(t){return i===null||i===void 0?void 0:i({status:t.status,type:t.type})})),st((function(){var r=n.build("xhr",e);hi(t,r,e.data,i)})))}else{var o=n.build("xhr",e);hi(t,o,e.data,i)}}function li(){try{return window.Request&&"keepalive"in new Request("http://a")}catch(t){return false}}function hi(t,n,r,e){var i=new XMLHttpRequest;i.open("POST",n,true);if(r instanceof Blob){i.setRequestHeader("Content-Type",r.type)}ie(t,i,"loadend",(function(){e===null||e===void 0?void 0:e({status:i.status})}),{once:true});i.send(r)}function _i(){var t=gi();if(!t){return}return{getCapabilities:function(){var n;return JSON.parse(((n=t.getCapabilities)===null||n===void 0?void 0:n.call(t))||"[]")},getPrivacyLevel:function(){var n;return(n=t.getPrivacyLevel)===null||n===void 0?void 0:n.call(t)},getAllowedWebViewHosts:function(){return JSON.parse(t.getAllowedWebViewHosts())},send:function(n,r,e){var i=e?{id:e}:undefined;t.send(JSON.stringify({eventType:n,event:r,view:i}))}}}function pi(t){var n=_i();return!!n&&Z(n.getCapabilities(),t)}function mi(t){var n;if(t===void 0){t=(n=rt().location)===null||n===void 0?void 0:n.hostname}var r=_i();return!!r&&r.getAllowedWebViewHosts().some((function(n){return t===n||J(t,".".concat(n))}))}function gi(){return rt().DatadogEventBridge}var wi={HIDDEN:"visibility_hidden",UNLOADING:"before_unload",PAGEHIDE:"page_hide",FROZEN:"page_frozen"};function yi(t){return new pt((function(n){var r=ae(t,window,[ee.VISIBILITY_CHANGE,ee.FREEZE],(function(t){if(t.type===ee.VISIBILITY_CHANGE&&document.visibilityState==="hidden"){n.notify({reason:wi.HIDDEN})}else if(t.type===ee.FREEZE){n.notify({reason:wi.FROZEN})}}),{capture:true}).stop;var e=ie(t,window,ee.BEFORE_UNLOAD,(function(){n.notify({reason:wi.UNLOADING})})).stop;return function(){r();e()}}))}function bi(t){return Z(G(wi),t)}var ki=function(){function t(t,n,r,e){var i=this;this.encoder=t;this.request=n;this.flushController=r;this.messageBytesLimit=e;this.upsertBuffer={};this.flushSubscription=this.flushController.flushObservable.subscribe((function(t){return i.flush(t)}))}t.prototype.add=function(t){this.addOrUpdate(t)};t.prototype.upsert=function(t,n){this.addOrUpdate(t,n)};t.prototype.stop=function(){this.flushSubscription.unsubscribe()};t.prototype.flush=function(t){var n=G(this.upsertBuffer).join("\n");this.upsertBuffer={};var r=bi(t.reason);var e=r?this.request.sendOnExit:this.request.send;if(r&&this.encoder.isAsync){var i=this.encoder.finishSync();if(i.outputBytesCount){e(xi(i))}var a=[i.pendingData,n].filter(Boolean).join("\n");if(a){e({data:a,bytesCount:F(a)})}}else{if(n){this.encoder.write(this.encoder.isEmpty?n:"\n".concat(n))}this.encoder.finish((function(t){e(xi(t))}))}};t.prototype.addOrUpdate=function(t,n){var r=Mn(t);var e=this.encoder.estimateEncodedBytesCount(r);if(e>=this.messageBytesLimit){i.warn("Discarded a message whose size was bigger than the maximum allowed size ".concat(this.messageBytesLimit,"KB."));return}if(this.hasMessageFor(n)){this.remove(n)}this.push(r,e,n)};t.prototype.push=function(t,n,r){var e=this;this.flushController.notifyBeforeAddMessage(n);if(r!==undefined){this.upsertBuffer[r]=t;this.flushController.notifyAfterAddMessage()}else{this.encoder.write(this.encoder.isEmpty?t:"\n".concat(t),(function(t){e.flushController.notifyAfterAddMessage(t-n)}))}};t.prototype.remove=function(t){var n=this.upsertBuffer[t];delete this.upsertBuffer[t];var r=this.encoder.estimateEncodedBytesCount(n);this.flushController.notifyAfterRemoveMessage(r)};t.prototype.hasMessageFor=function(t){return t!==undefined&&this.upsertBuffer[t]!==undefined};return t}();function xi(t){var n;if(typeof t.output==="string"){n=t.output}else{n=new Blob([t.output],{type:"text/plain"})}return{data:n,bytesCount:t.outputBytesCount,encoding:t.encoding}}function Si(t){var n=t.messagesLimit,r=t.bytesLimit,e=t.durationLimit,i=t.pageExitObservable,a=t.sessionExpireObservable;var u=i.subscribe((function(t){return d(t.reason)}));var o=a.subscribe((function(){return d("session_expire")}));var f=new pt((function(){return function(){u.unsubscribe();o.unsubscribe()}}));var s=0;var c=0;function d(t){if(c===0){return}var n=c;var r=s;c=0;s=0;h();f.notify({reason:t,messagesCount:n,bytesCount:r})}var v;function l(){if(v===undefined){v=vt((function(){d("duration_limit")}),e)}}function h(){lt(v);v=undefined}return{flushObservable:f,get messagesCount(){return c},notifyBeforeAddMessage:function(t){if(s+t>=r){d("bytes_limit")}c+=1;s+=t;l()},notifyAfterAddMessage:function(t){if(t===void 0){t=0}s+=t;if(c>=n){d("messages_limit")}else if(s>=r){d("bytes_limit")}},notifyAfterRemoveMessage:function(t){s-=t;c-=1;if(c===0){h()}}}}function Ei(t,n,r,e,i,a){var u=f(t,n);var o=r&&f(t,r);function f(t,n){var r=n.endpoint,u=n.encoder;return new ki(u,fi(t,r,t.batchBytesLimit,e),Si({messagesLimit:t.batchMessagesLimit,bytesLimit:t.batchBytesLimit,durationLimit:t.flushTimeout,pageExitObservable:i,sessionExpireObservable:a}),t.messageBytesLimit)}return{flushObservable:u.flushController.flushObservable,add:function(t,n){if(n===void 0){n=true}u.add(t);if(o&&n){o.add(r.transformMessage?r.transformMessage(t):t)}},upsert:function(t,n){u.upsert(t,n);if(o){o.upsert(r.transformMessage?r.transformMessage(t):t,n)}},stop:function(){u.stop();o===null||o===void 0?void 0:o.stop()}}}function Ai(){var t="";var n=0;return{isAsync:false,get isEmpty(){return!t},write:function(r,e){var i=F(r);n+=i;t+=r;if(e){e(i)}},finish:function(t){t(this.finishSync())},finishSync:function(){var r={output:t,outputBytesCount:n,rawBytesCount:n,pendingData:""};t="";n=0;return r},estimateEncodedBytesCount:function(t){return t.length}}}var Ri=function(){function t(){this.callbacks={}}t.prototype.notify=function(t,n){var r=this.callbacks[t];if(r){r.forEach((function(t){return t(n)}))}};t.prototype.subscribe=function(t,n){var r=this;if(!this.callbacks[t]){this.callbacks[t]=[]}this.callbacks[t].push(n);return{unsubscribe:function(){r.callbacks[t]=r.callbacks[t].filter((function(t){return n!==t}))}}};return t}();function Ci(t,n,r){var e=0;var i=false;return{isLimitReached:function(){if(e===0){vt((function(){e=0}),p)}e+=1;if(e<=n||i){i=false;return false}if(e===n+1){i=true;try{r({message:"Reached max number of ".concat(t,"s by minute: ").concat(n),source:Jr.AGENT,startClocks:C()})}finally{i=false}}return true}}}function Ti(t,n,r){if(document.readyState===n||document.readyState==="complete"){r()}else{var e=n==="complete"?ee.LOAD:ee.DOM_CONTENT_LOADED;ie(t,window,e,r,{once:true})}}var zi;var Mi=new WeakMap;function Ii(t){if(!zi){zi=Oi(t)}return zi}function Oi(t){return new pt((function(n){var r=dr(XMLHttpRequest.prototype,"open",Li).stop;var e=dr(XMLHttpRequest.prototype,"send",(function(r){Ui(r,t,n)})).stop;var i=dr(XMLHttpRequest.prototype,"abort",Ni).stop;return function(){r();e();i()}}))}function Li(t){var n=t.target,r=t.parameters,e=r[0],i=r[1];Mi.set(n,{state:"open",method:String(e).toUpperCase(),url:On(String(i))})}function Ui(t,n,r){var e=t.target;var i=Mi.get(e);if(!i){return}var a=i;a.state="start";a.startClocks=C();a.isAborted=false;a.xhr=e;var u=false;var o=dr(e,"onreadystatechange",(function(){if(e.readyState===XMLHttpRequest.DONE){f()}})).stop;var f=function(){s();o();if(u){return}u=true;var t=i;t.state="complete";t.duration=z(a.startClocks.timeStamp,A());t.status=e.status;r.notify(Y(t))};var s=ie(n,e,"loadend",f).stop;r.notify(a)}function Ni(t){var n=t.target;var r=Mi.get(n);if(r){r.isAborted=true}}var Di;function Bi(){if(!Di){Di=Pi()}return Di}function Pi(){return new pt((function(t){if(!window.fetch){return}var n=dr(window,"fetch",(function(n){return Fi(n,t)})).stop;return n}))}function Fi(t,n){var r=t.parameters,e=t.onPostCall;var i=r[0],a=r[1];var u=a&&a.method;if(u===undefined&&i instanceof Request){u=i.method}var o=u!==undefined?String(u).toUpperCase():"GET";var f=i instanceof Request?i.url:On(String(i));var s=C();var c={state:"start",init:a,input:i,method:o,startClocks:s,url:f};n.notify(c);r[0]=c.input;r[1]=c.init;e((function(t){return ji(n,t,c)}))}function ji(t,n,r){var e=function(n){var e=r;e.state="resolve";if("stack"in n||n instanceof Error){e.status=0;e.isAborted=n instanceof DOMException&&n.code===DOMException.ABORT_ERR;e.error=n}else if("status"in n){e.response=n;e.responseType=n.type;e.status=n.status;e.isAborted=false}t.notify(e)};n.then(st(e),st(e))}var Zi={};function qi(t){var n=t.map((function(t){if(!Zi[t]){Zi[t]=Hi(t)}return Zi[t]}));return mt.apply(void 0,n)}function Hi(t){return new pt((function(r){var e=n[t];n[t]=function(){var n=[];for(var i=0;i<arguments.length;i++){n[i]=arguments[i]}e.apply(console,n);var a=jr();ct((function(){r.notify(Vi(n,t,a))}))};return function(){n[t]=e}}))}function Vi(n,r,e){var i=n.map((function(t){return Ki(t)})).join(" ");var a;var u;var o;if(r===t.error){var f=H(n,(function(t){return t instanceof Error}));a=f?Zr(_r(f)):undefined;u=Wr(f);o=f?Xr(f,"console"):undefined}return{api:r,message:i,stack:a,handlingStack:e,fingerprint:u,causes:o}}function Ki(t){if(typeof t==="string"){return Ur(t)}if(t instanceof Error){return qr(_r(t))}return Mn(Ur(t),undefined,2)}function Gi(t){var n={};var r=new pt;var e={getContext:function(){return pe(n)},setContext:function(i){if(he(i)==="object"){n=Ur(i);t.updateCustomerData(n)}else{e.clearContext()}r.notify()},setContextProperty:function(e,i){n[e]=Ur(i);t.updateCustomerData(n);r.notify()},removeContextProperty:function(e){delete n[e];t.updateCustomerData(n);r.notify()},clearContext:function(){n={};t.resetCustomerData();r.notify()},changeObservable:r};return e}var Wi="_dd_c";var Xi=[];function Ji(t,n,r,e){var i=$i(r,e);Xi.push(ie(t,window,ee.STORAGE,(function(t){var n=t.key;if(i===n){a()}})));n.changeObservable.subscribe(u);n.setContext(me(o(),n.getContext()));function a(){n.setContext(o())}function u(){localStorage.setItem(i,JSON.stringify(n.getContext()))}function o(){var t=localStorage.getItem(i);return t!==null?JSON.parse(t):{}}}function $i(t,n){return"".concat(Wi,"_").concat(t,"_").concat(n)}var Yi=3*D;var Qi=16*D;var ta=200;function na(t){if(t===void 0){t=2}var n=new Map;var r=false;function e(e){if(e===void 0){e=0}if(r||t===0){return}var i=t===2?Yi:Qi;var a=e;n.forEach((function(t){a+=t.getBytesCount()}));if(a>i){ea(i);r=true}}return{createDetachedTracker:function(){var t=ra((function(){return e(t.getBytesCount())}));return t},getOrCreateTracker:function(t){if(!n.has(t)){n.set(t,ra(e))}return n.get(t)},setCompressionStatus:function(n){if(t===0){t=n;e()}},getCompressionStatus:function(){return t},stop:function(){n.forEach((function(t){return t.stop()}));n.clear()}}}function ra(t){var n=0;var r=gt((function(r){n=F(Mn(r));t()}),ta),e=r.throttled,i=r.cancel;var a=function(){i();n=0};return{updateCustomerData:function(t){if(tt(t)){a()}else{e(t)}},resetCustomerData:a,getBytesCount:function(){return n},stop:function(){i()}}}function ea(t){i.warn("Customer data exceeds the recommended ".concat(t/D,"KiB threshold. More details: https://docs.datadoghq.com/real_user_monitoring/browser/troubleshooting/#customer-data-exceeds-the-recommended-threshold-warning"))}function ia(t,n,r){var e=t.getReader();var i=[];var a=0;u();function u(){e.read().then(st((function(t){if(t.done){o();return}if(r.collectStreamBody){i.push(t.value)}a+=t.value.length;if(a>r.bytesLimit){o()}else{u()}})),st((function(t){return n(t)})))}function o(){e.cancel().catch(wt);var t;var u;if(r.collectStreamBody){var o;if(i.length===1){o=i[0]}else{o=new Uint8Array(a);var f=0;i.forEach((function(t){o.set(t,f);f+=t.length}))}t=o.slice(0,r.bytesLimit);u=o.length>r.bytesLimit}n(undefined,t,u)}}var aa="datadog-synthetics-public-id";var ua="datadog-synthetics-result-id";var oa="datadog-synthetics-injects-rum";function fa(){return Boolean(window._DATADOG_SYNTHETICS_INJECTS_RUM||Lt(oa))}function sa(){var t=window._DATADOG_SYNTHETICS_PUBLIC_ID||Lt(aa);return typeof t==="string"?t:undefined}function ca(){var t=window._DATADOG_SYNTHETICS_RESULT_ID||Lt(ua);return typeof t==="string"?t:undefined}function da(t){var n=$({},t);var r=["id","name","email"];r.forEach((function(t){if(t in n){n[t]=String(n[t])}}));return n}function va(t){var n=he(t)==="object";if(!n){i.error("Unsupported user:",t)}return n}function la(t){var n=he(t);return n==="string"||n==="function"||t instanceof RegExp}function ha(t,n,r){if(r===void 0){r=false}return t.some((function(t){try{if(typeof t==="function"){return t(n)}else if(t instanceof RegExp){return t.test(n)}else if(typeof t==="string"){return r?X(n,t):t===n}}catch(t){i.error(t)}return false}))}function _a(t,n,r){return{context:t.getContext(),user:n.getContext(),hasReplay:r.isRecording()?true:undefined}}function pa(t){var n=t;return he(n)==="object"&&la(n.match)&&Array.isArray(n.propagatorTypes)}function ma(t){if(t.status===0&&!t.isAborted){t.traceId=undefined;t.spanId=undefined;t.traceSampled=undefined}}function ga(t,n){return{clearTracingIfNeeded:ma,traceFetch:function(r){return wa(t,r,n,(function(t){var n;if(r.input instanceof Request&&!((n=r.init)===null||n===void 0?void 0:n.headers)){r.input=new Request(r.input);Object.keys(t).forEach((function(n){r.input.headers.append(n,t[n])}))}else{r.init=Y(r.init);var e=[];if(r.init.headers instanceof Headers){r.init.headers.forEach((function(t,n){e.push([n,t])}))}else if(Array.isArray(r.init.headers)){r.init.headers.forEach((function(t){e.push(t)}))}else if(r.init.headers){Object.keys(r.init.headers).forEach((function(t){e.push([t,r.init.headers[t]])}))}r.init.headers=e.concat(W(t))}}))},traceXhr:function(r,e){return wa(t,r,n,(function(t){Object.keys(t).forEach((function(n){e.setRequestHeader(n,t[n])}))}))}}}function wa(t,n,r,e){if(!ya()||!r.findTrackedSession()){return}var i=H(t.allowedTracingUrls,(function(t){return ha([t.match],n.url,true)}));if(!i){return}n.traceSampled=!h(t.traceSampleRate)||d(t.traceSampleRate);if(!n.traceSampled&&t.traceContextInjection!==ur.ALL){return}n.traceId=new xa;n.spanId=new xa;e(ka(n.traceId,n.spanId,n.traceSampled,i.propagatorTypes))}function ya(){return ba()!==undefined}function ba(){return window.crypto||window.msCrypto}function ka(t,n,r,e){var i={};e.forEach((function(e){switch(e){case"datadog":{$(i,{"x-datadog-origin":"rum","x-datadog-parent-id":n.toDecimalString(),"x-datadog-sampling-priority":r?"1":"0","x-datadog-trace-id":t.toDecimalString()});break}case"tracecontext":{$(i,{traceparent:"00-0000000000000000".concat(t.toPaddedHexadecimalString(),"-").concat(n.toPaddedHexadecimalString(),"-0").concat(r?"1":"0")});break}case"b3":{$(i,{b3:"".concat(t.toPaddedHexadecimalString(),"-").concat(n.toPaddedHexadecimalString(),"-").concat(r?"1":"0")});break}case"b3multi":{$(i,{"X-B3-TraceId":t.toPaddedHexadecimalString(),"X-B3-SpanId":n.toPaddedHexadecimalString(),"X-B3-Sampled":r?"1":"0"});break}}}));return i}var xa=function(){function t(){this.buffer=new Uint8Array(8);ba().getRandomValues(this.buffer);this.buffer[0]=this.buffer[0]&127}t.prototype.toString=function(t){var n=this.readInt32(0);var r=this.readInt32(4);var e="";do{var i=n%t*4294967296+r;n=Math.floor(n/t);r=Math.floor(i/t);e=(i%t).toString(t)+e}while(n||r);return e};t.prototype.toDecimalString=function(){return this.toString(10)};t.prototype.toPaddedHexadecimalString=function(){var t=this.toString(16);return Array(17-t.length).join("0")+t};t.prototype.readInt32=function(t){return this.buffer[t]*16777216+(this.buffer[t+1]<<16)+(this.buffer[t+2]<<8)+this.buffer[t+3]};return t}();var Sa=["tracecontext","datadog"];function Ea(t){var n,r;if(!t.applicationId){i.error("Application ID is not configured, no RUM data will be collected.");return}if(t.sessionReplaySampleRate!==undefined&&!l(t.sessionReplaySampleRate)){i.error("Session Replay Sample Rate should be a number between 0 and 100");return}if(t.traceSampleRate!==undefined&&!l(t.traceSampleRate)){i.error("Trace Sample Rate should be a number between 0 and 100");return}if(t.excludedActivityUrls!==undefined&&!Array.isArray(t.excludedActivityUrls)){i.error("Excluded Activity Urls should be an array");return}var e=Aa(t);if(!e){return}var a=sr(t);if(!a){return}return $({applicationId:t.applicationId,version:t.version||undefined,actionNameAttribute:t.actionNameAttribute,sessionReplaySampleRate:(n=t.sessionReplaySampleRate)!==null&&n!==void 0?n:0,startSessionReplayRecordingManually:!!t.startSessionReplayRecordingManually,traceSampleRate:t.traceSampleRate,allowedTracingUrls:e,excludedActivityUrls:(r=t.excludedActivityUrls)!==null&&r!==void 0?r:[],workerUrl:t.workerUrl,compressIntakeRequests:!!t.compressIntakeRequests,trackUserInteractions:!!t.trackUserInteractions,trackViewsManually:!!t.trackViewsManually,trackResources:!!t.trackResources,trackLongTasks:!!t.trackLongTasks,subdomain:t.subdomain,defaultPrivacyLevel:Q(ar,t.defaultPrivacyLevel)?t.defaultPrivacyLevel:ar.MASK,customerDataTelemetrySampleRate:1,traceContextInjection:Q(ur,t.traceContextInjection)?t.traceContextInjection:ur.ALL},a)}function Aa(t){if(t.allowedTracingUrls!==undefined){if(!Array.isArray(t.allowedTracingUrls)){i.error("Allowed Tracing URLs should be an array");return}if(t.allowedTracingUrls.length!==0&&t.service===undefined){i.error("Service needs to be configured when tracing is enabled");return}var n=[];t.allowedTracingUrls.forEach((function(t){if(la(t)){n.push({match:t,propagatorTypes:Sa})}else if(pa(t)){n.push(t)}else{i.warn("Allowed Tracing Urls parameters should be a string, RegExp, function, or an object. Ignoring parameter",t)}}));return n}return[]}function Ra(t){var n=new Set;if(Array.isArray(t.allowedTracingUrls)&&t.allowedTracingUrls.length>0){t.allowedTracingUrls.forEach((function(t){if(la(t)){Sa.forEach((function(t){return n.add(t)}))}else if(he(t)==="object"&&Array.isArray(t.propagatorTypes)){t.propagatorTypes.forEach((function(t){return n.add(t)}))}}))}return q(n)}function Ca(t){var n=cr(t);return $({session_replay_sample_rate:t.sessionReplaySampleRate,start_session_replay_recording_manually:t.startSessionReplayRecordingManually,trace_sample_rate:t.traceSampleRate,trace_context_injection:t.traceContextInjection,action_name_attribute:t.actionNameAttribute,use_allowed_tracing_urls:Array.isArray(t.allowedTracingUrls)&&t.allowedTracingUrls.length>0,selected_tracing_propagators:Ra(t),default_privacy_level:t.defaultPrivacyLevel,use_excluded_activity_urls:Array.isArray(t.excludedActivityUrls)&&t.excludedActivityUrls.length>0,use_worker_url:!!t.workerUrl,compress_intake_requests:t.compressIntakeRequests,track_views_manually:t.trackViewsManually,track_user_interactions:t.trackUserInteractions,track_resources:t.trackResources,track_long_task:t.trackLongTasks},n)}function Ta(t,n,r,e){var a=t.ignoreInitIfSyntheticsWillInjectRum,u=t.startDeflateWorker;var o=new ke;var f;var s;var c;var d;var v=r.observable.subscribe(l);function l(){if(!c||!d||!r.isGranted()){return}v.unsubscribe();var t;if(d.trackViewsManually){if(!f){return}o.remove(f.callback);t=f.options}var n=e(c,d,s,t);o.drain(n)}return{init:function(t){if(!t){i.error("Missing configuration");return}var n=mi();if(n){t=za(t)}c=t;if(d){re("DD_RUM",t);return}if(a&&fa()){return}var e=Ea(t);if(!e){return}if(!n&&!e.sessionStoreStrategyType){i.warn("No storage available for session. We will not send any data.");return}if(e.compressIntakeRequests&&!n&&u){s=u(e,"Datadog RUM",wt);if(!s){return}}d=e;r.tryToInit(e.trackingConsent);l()},get initConfiguration(){return c},getInternalContext:wt,stopSession:wt,addTiming:function(t,n){if(n===void 0){n=A()}o.add((function(r){return r.addTiming(t,n)}))},startView:function(t,n){if(n===void 0){n=C()}var r=function(r){r.startView(t,n)};o.add(r);if(!f){f={options:t,callback:r};l()}},addAction:function(t,r){if(r===void 0){r=n()}o.add((function(n){return n.addAction(t,r)}))},addError:function(t,r){if(r===void 0){r=n()}o.add((function(n){return n.addError(t,r)}))},addFeatureFlagEvaluation:function(t,n){o.add((function(r){return r.addFeatureFlagEvaluation(t,n)}))},startDurationVital:function(t){o.add((function(n){return n.startDurationVital(t)}))},stopDurationVital:function(t){o.add((function(n){return n.stopDurationVital(t)}))}}}function za(t){var n,r;return $({},t,{applicationId:"00000000-aaaa-0000-aaaa-000000000000",clientToken:"empty",sessionSampleRate:100,defaultPrivacyLevel:(n=t.defaultPrivacyLevel)!==null&&n!==void 0?n:(r=_i())===null||r===void 0?void 0:r.getPrivacyLevel()})}var Ma="rum";function Ia(t,n,r){if(r===void 0){r={}}var e=na(0);var i=Gi(e.getOrCreateTracker(2));var a=Gi(e.getOrCreateTracker(1));var o=zn();function f(){return _a(i,a,n)}var c=Ta(r,f,o,(function(d,l,h,_){if(s(u.CUSTOM_VITALS)){v.startDurationVital=st((function(t,n){c.startDurationVital({name:Ur(t),startClocks:(n===null||n===void 0?void 0:n.startTime)?b(n.startTime):C(),context:Ur(n===null||n===void 0?void 0:n.context)});Ue({feature:"start-duration-vital"})}));v.stopDurationVital=st((function(t,n){c.stopDurationVital({name:Ur(t),stopClocks:(n===null||n===void 0?void 0:n.stopTime)?b(n.stopTime):C(),context:Ur(n===null||n===void 0?void 0:n.context)})}))}if(d.storeContextsAcrossPages){Ji(l,i,Ma,2);Ji(l,a,Ma,1)}e.setCompressionStatus(h?1:2);var p=t(d,l,n,e,f,_,h&&r.createDeflateEncoder?function(t){return r.createDeflateEncoder(l,h,t)}:Ai,o);n.onRumStart(p.lifeCycle,l,p.session,p.viewContexts,h);c=Oa(d,p);return p}));var d=st((function(t){var n=typeof t==="object"?t:{name:t};c.startView(n);Ue({feature:"start-view"})}));var v=te({init:st((function(t){return c.init(t)})),setTrackingConsent:st((function(t){o.update(t);Ue({feature:"set-tracking-consent",tracking_consent:t})})),setGlobalContextProperty:st((function(t,n){i.setContextProperty(t,n);Ue({feature:"set-global-context"})})),removeGlobalContextProperty:st((function(t){return i.removeContextProperty(t)})),getGlobalContext:st((function(){return i.getContext()})),setGlobalContext:st((function(t){i.setContext(t);Ue({feature:"set-global-context"})})),clearGlobalContext:st((function(){return i.clearContext()})),getInternalContext:st((function(t){return c.getInternalContext(t)})),getInitConfiguration:st((function(){return pe(c.initConfiguration)})),addAction:st((function(t,n){c.addAction({name:Ur(t),context:Ur(n),startClocks:C(),type:"custom"});Ue({feature:"add-action"})})),addError:function(t,n){var r=jr();ct((function(){c.addError({error:t,handlingStack:r,context:Ur(n),startClocks:C()});Ue({feature:"add-error"})}))},addTiming:st((function(t,n){c.addTiming(Ur(t),n)})),setUser:st((function(t){if(va(t)){a.setContext(da(t))}Ue({feature:"set-user"})})),getUser:st((function(){return a.getContext()})),setUserProperty:st((function(t,n){var r;var e=da((r={},r[t]=n,r))[t];a.setContextProperty(t,e);Ue({feature:"set-user"})})),removeUserProperty:st((function(t){return a.removeContextProperty(t)})),clearUser:st((function(){return a.clearContext()})),startView:d,stopSession:st((function(){c.stopSession();Ue({feature:"stop-session"})})),addFeatureFlagEvaluation:st((function(t,n){c.addFeatureFlagEvaluation(Ur(t),Ur(n));Ue({feature:"add-feature-flag-evaluation"})})),getSessionReplayLink:st((function(){return n.getSessionReplayLink()})),startSessionReplayRecording:st((function(){n.start();Ue({feature:"start-session-replay-recording"})})),stopSessionReplayRecording:st((function(){return n.stop()}))});return v}function Oa(t,n){return $({init:function(t){re("DD_RUM",t)},initConfiguration:t},n)}function La(){var t=Ua();return new pt((function(n){if(!t){return}var r=new t(st((function(){return n.notify()})));r.observe(document,{attributes:true,characterData:true,childList:true,subtree:true});return function(){return r.disconnect()}}))}function Ua(){var t;var n=window;if(n.Zone){t=et(n,"MutationObserver");if(n.MutationObserver&&t===n.MutationObserver){var r=new n.MutationObserver(wt);var e=et(r,"originalInstance");t=e&&e.constructor}}if(!t){t=n.MutationObserver}return t}var Na="initial_document";var Da=[["document",function(t){return Na===t}],["xhr",function(t){return"xmlhttprequest"===t}],["fetch",function(t){return"fetch"===t}],["beacon",function(t){return"beacon"===t}],["css",function(t,n){return/\.css$/i.test(n)}],["js",function(t,n){return/\.js$/i.test(n)}],["image",function(t,n){return Z(["image","img","icon"],t)||/\.(gif|jpg|jpeg|tiff|png|svg|ico)$/i.exec(n)!==null}],["font",function(t,n){return/\.(woff|eot|woff2|ttf)$/i.exec(n)!==null}],["media",function(t,n){return Z(["audio","video"],t)||/\.(mp3|mp4)$/i.exec(n)!==null}]];function Ba(t){var n=t.name;if(!Ln(n)){Ie('Failed to construct URL for "'.concat(t.name,'"'));return"other"}var r=Un(n);for(var e=0,i=Da;e<i.length;e++){var a=i[e],u=a[0],o=a[1];if(o(t.initiatorType,r)){return u}}return"other"}function Pa(){var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}for(var r=1;r<t.length;r+=1){if(t[r-1]>t[r]){return false}}return true}function Fa(t){return t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch"}function ja(t){var n=t.duration,r=t.startTime,e=t.responseEnd;if(n===0&&r<e){return S(z(r,e))}return S(n)}function Za(t){if(!qa(t)){return undefined}var n=t.startTime,r=t.fetchStart,e=t.redirectStart,i=t.redirectEnd,a=t.domainLookupStart,u=t.domainLookupEnd,o=t.connectStart,f=t.secureConnectionStart,s=t.connectEnd,c=t.requestStart,d=t.responseStart,v=t.responseEnd;var l={download:Va(n,d,v),first_byte:Va(n,c,d)};if(r<s){l.connect=Va(n,o,s);if(o<=f&&f<=s){l.ssl=Va(n,f,s)}}if(r<u){l.dns=Va(n,a,u)}if(n<i){l.redirect=Va(n,e,i)}return l}function qa(t){if(s(u.TOLERANT_RESOURCE_TIMINGS)){return true}var n=Pa(t.startTime,t.fetchStart,t.domainLookupStart,t.domainLookupEnd,t.connectStart,t.connectEnd,t.requestStart,t.responseStart,t.responseEnd);var r=Ha(t)?Pa(t.startTime,t.redirectStart,t.redirectEnd,t.fetchStart):true;return n&&r}function Ha(t){return t.redirectEnd>t.startTime}function Va(t,n,r){if(t<=n&&n<=r){return{duration:S(z(n,r)),start:S(z(t,n))}}}function Ka(t){if(t.startTime<t.responseStart){var n=t.encodedBodySize,r=t.decodedBodySize,e=t.transferSize;return{size:r,encoded_body_size:n,decoded_body_size:r,transfer_size:e}}return{size:undefined,encoded_body_size:undefined,decoded_body_size:undefined,transfer_size:undefined}}function Ga(t,n){return n&&!t.isIntakeUrl(n)}var Wa=/data:(.+)?(;base64)?,/g;var Xa=24e3;function Ja(t){if(t.length<=Xa){return false}else if(t.substring(0,5)==="data:"){t=t.substring(0,Xa);return true}return false}function $a(t){return"".concat(t.match(Wa)[0],"[...]")}function Ya(t){return t.nodeType===Node.TEXT_NODE}function Qa(t){return t.nodeType===Node.COMMENT_NODE}function tu(t){return t.nodeType===Node.ELEMENT_NODE}function nu(t){return tu(t)&&Boolean(t.shadowRoot)}function ru(t){var n=t;return!!n.host&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&tu(n.host)}function eu(t){return t.childNodes.length>0||nu(t)}function iu(t,n){var r=t.firstChild;while(r){n(r);r=r.nextSibling}if(nu(t)){n(t.shadowRoot)}}function au(t){return ru(t)?t.host:t.parentNode}var uu=2*p;function ou(t){var n=fu(t)||su(t);if(!n||n.traceTime<=E()-uu){return undefined}return n.traceId}function fu(t){var n=t.querySelector("meta[name=dd-trace-id]");var r=t.querySelector("meta[name=dd-trace-time]");return cu(n&&n.content,r&&r.content)}function su(t){var n=du(t);if(!n){return undefined}return cu(kt(n,"trace-id"),kt(n,"trace-time"))}function cu(t,n){var r=n&&Number(n);if(!t||!r){return undefined}return{traceId:t,traceTime:r}}function du(t){for(var n=0;n<t.childNodes.length;n+=1){var r=vu(t.childNodes[n]);if(r){return r}}if(t.body){for(var n=t.body.childNodes.length-1;n>=0;n-=1){var e=t.body.childNodes[n];var r=vu(e);if(r){return r}if(!Ya(e)){break}}}}function vu(t){if(t&&Qa(t)){var n=/^\s*DATADOG;(.*?)\s*$/.exec(t.data);if(n){return n[1]}}}var lu;(function(t){t["EVENT"]="event";t["FIRST_INPUT"]="first-input";t["LARGEST_CONTENTFUL_PAINT"]="largest-contentful-paint";t["LAYOUT_SHIFT"]="layout-shift";t["LONG_TASK"]="longtask";t["NAVIGATION"]="navigation";t["PAINT"]="paint";t["RESOURCE"]="resource"})(lu||(lu={}));function hu(){return window.performance!==undefined&&"getEntries"in performance}function _u(t){return window.PerformanceObserver&&PerformanceObserver.supportedEntryTypes!==undefined&&PerformanceObserver.supportedEntryTypes.includes(t)}function pu(t,n){var r=[];mu(n,(function(r){bu(t,n,[r])}));if(hu()){var e=performance.getEntries();vt((function(){return bu(t,n,e)}))}if(window.PerformanceObserver){var i=st((function(r){return bu(t,n,r.getEntries())}));var a=[lu.RESOURCE,lu.NAVIGATION,lu.LONG_TASK,lu.PAINT];var u=[lu.LARGEST_CONTENTFUL_PAINT,lu.FIRST_INPUT,lu.LAYOUT_SHIFT,lu.EVENT];try{u.forEach((function(t){var n=new window.PerformanceObserver(i);n.observe({type:t,buffered:true,durationThreshold:40});r.push((function(){return n.disconnect()}))}))}catch(t){a.push.apply(a,u)}var o=new PerformanceObserver(i);o.observe({entryTypes:a});r.push((function(){return o.disconnect()}));if(hu()&&"addEventListener"in performance){var f=ie(n,performance,"resourcetimingbufferfull",(function(){performance.clearResourceTimings()})).stop;r.push(f)}}if(!_u(lu.NAVIGATION)){gu(n,(function(r){bu(t,n,[r])}))}if(!_u(lu.FIRST_INPUT)){var s=wu(n,(function(r){bu(t,n,[r])})).stop;r.push(s)}return{stop:function(){r.forEach((function(t){return t()}))}}}function mu(t,n){Ti(t,"interactive",(function(){var t;var r={entryType:lu.RESOURCE,initiatorType:Na,traceId:ou(document),toJSON:function(){return $({},t,{toJSON:undefined})}};if(_u(lu.NAVIGATION)&&performance.getEntriesByType(lu.NAVIGATION).length>0){var e=performance.getEntriesByType(lu.NAVIGATION)[0];t=$(e.toJSON(),r)}else{var i=yu();t=$(i,{decodedBodySize:0,encodedBodySize:0,transferSize:0,renderBlockingStatus:"non-blocking",duration:i.responseEnd,name:window.location.href,startTime:0},r)}n(t)}))}function gu(t,n){function r(){n($(yu(),{entryType:lu.NAVIGATION}))}Ti(t,"complete",(function(){vt(r)}))}function wu(t,n){var r=E();var e=false;var i=ae(t,window,[ee.CLICK,ee.MOUSE_DOWN,ee.KEY_DOWN,ee.TOUCH_START,ee.POINTER_DOWN],(function(n){if(!n.cancelable){return}var r={entryType:lu.FIRST_INPUT,processingStart:R(),processingEnd:R(),startTime:n.timeStamp,duration:0,name:""};if(n.type===ee.POINTER_DOWN){a(t,r)}else{u(r)}}),{passive:true,capture:true}).stop;return{stop:i};function a(t,n){ae(t,window,[ee.POINTER_UP,ee.POINTER_CANCEL],(function(t){if(t.type===ee.POINTER_UP){u(n)}}),{once:true})}function u(t){if(!e){e=true;i();var a=t.processingStart-t.startTime;if(a>=0&&a<E()-r){n(t)}}}}function yu(){var t={};var n=performance.timing;for(var r in n){if(h(n[r])){var e=r;var i=n[e];t[e]=i===0?0:I(i)}}return t}function bu(t,n,r){var e=r.filter((function(t){return Q(lu,t.entryType)}));var i=e.filter((function(t){return!ku(t)&&!xu(n,t)}));if(i.length){t.notify(0,i)}}function ku(t){return t.entryType===lu.NAVIGATION&&t.loadEventEnd<=0}function xu(t,n){return n.entryType===lu.RESOURCE&&!Ga(t,n.name)}function Su(){var t=sa();var n=ca();if(t&&n){return{test_id:t,result_id:n,injected:fa()}}}function Eu(t,n,r){var e=pe(t);var i=r(e);W(n).forEach((function(n){var r=n[0],i=n[1];var a=Au(e,r);var u=he(a);if(u===i){Ru(t,r,Ur(a))}else if(i==="object"&&(u==="undefined"||u==="null")){Ru(t,r,{})}}));return i}function Au(t,n){var r=t;for(var e=0,i=n.split(".");e<i.length;e++){var a=i[e];if(!Tu(r,a)){return}r=r[a]}return r}function Ru(t,n,r){var e=t;var i=n.split(".");for(var a=0;a<i.length;a+=1){var u=i[a];if(!Cu(e)){return}if(a!==i.length-1){e=e[u]}else{e[u]=r}}}function Cu(t){return he(t)==="object"}function Tu(t,n){return Cu(t)&&Object.prototype.hasOwnProperty.call(t,n)}var zu={"view.name":"string","view.url":"string","view.referrer":"string"};var Mu={context:"object"};var Iu;function Ou(t,n,r,e,i,a,o,f,c,d){var l,h;Iu=(l={},l["view"]=zu,l["error"]=$({"error.message":"string","error.stack":"string","error.resource.url":"string","error.fingerprint":"string"},Mu,zu),l["resource"]=$({"resource.url":"string"},s(u.WRITABLE_RESOURCE_GRAPHQL)&&{"resource.graphql":"object"},Mu,zu),l["action"]=$({"action.target.name":"string"},Mu,zu),l["long_task"]=$({},Mu,zu),l["vital"]=$({},Mu,zu),l);var _=(h={},h["error"]=Ci("error",t.eventRateLimiterThreshold,d),h["action"]=Ci("action",t.eventRateLimiterThreshold,d),h["vital"]=Ci("vital",t.eventRateLimiterThreshold,d),h);var p=Su();n.subscribe(12,(function(u){var s=u.startTime,d=u.rawRumEvent,l=u.domainContext,h=u.savedCommonContext,m=u.customerContext;var g=e.findView(s);var w=i.findUrl(s);var y=r.findTrackedSession(s);if(y&&g&&w){var b=h||c();var k=a.findActionId(s);var S={_dd:{format_version:2,drift:x(),configuration:{session_sample_rate:v(t.sessionSampleRate,3),session_replay_sample_rate:v(t.sessionReplaySampleRate,3)},browser_sdk_version:mi()?"5.19.0":undefined},application:{id:t.applicationId},date:A(),service:g.service||t.service,version:g.version||t.version,source:"browser",session:{id:y.id,type:p?"synthetics":f.get()?"ci_test":"user"},view:{id:g.id,name:g.name,url:w.url,referrer:w.referrer},action:Uu(d)&&k?{id:k}:undefined,synthetics:p,ci_test:f.get(),display:o.get(),connectivity:we()};var E=me(S,d);E.context=me(b.context,m);if(!("has_replay"in E.session)){E.session.has_replay=b.hasReplay}if(E.type==="view"){E.session.sampled_for_replay=y.sessionReplayAllowed}if(!tt(b.user)){E.usr=b.user}if(Lu(E,t.beforeSend,l,_)){if(tt(E.context)){delete E.context}n.notify(13,E)}}}))}function Lu(t,n,r,e){var a;if(n){var u=Eu(t,Iu[t.type],(function(t){return n(t,r)}));if(u===false&&t.type!=="view"){return false}if(u===false){i.warn("Can't dismiss view events using beforeSend!")}}var o=(a=e[t.type])===null||a===void 0?void 0:a.isLimitReached();return!o}function Uu(t){return["error","resource","long_task"].indexOf(t.type)!==-1}function Nu(t,n,r,e,i){return{get:function(a){var u=r.findView(a);var o=i.findUrl(a);var f=n.findTrackedSession(a);if(f&&u&&o){var s=e.findActionId(a);return{application_id:t,session_id:f.id,user_action:s?{id:s}:undefined,view:{id:u.id,name:u.name,referrer:o.referrer,url:o.url}}}}}}var Du=Ri;var Bu=Ft;function Pu(t){var n=new Fe(Bu);t.subscribe(2,(function(t){n.add(r(t),t.startClocks.relative)}));t.subscribe(6,(function(t){var r=t.endClocks;n.closeActive(r.relative)}));t.subscribe(10,(function(){n.reset()}));function r(t){return{service:t.service,version:t.version,id:t.id,name:t.name,startClocks:t.startClocks}}return{findView:function(t){return n.find(t)},stop:function(){n.stop()}}}var Fu=1;function ju(t,n,r){var e=ga(n,r);Zu(t,n,e);qu(t,n,e)}function Zu(t,n,r){var e=Ii(n).subscribe((function(e){var i=e;if(!Ga(n,i.url)){return}switch(i.state){case"start":r.traceXhr(i,i.xhr);i.requestIndex=Hu();t.notify(7,{requestIndex:i.requestIndex,url:i.url});break;case"complete":r.clearTracingIfNeeded(i);t.notify(8,{duration:i.duration,method:i.method,requestIndex:i.requestIndex,spanId:i.spanId,startClocks:i.startClocks,status:i.status,traceId:i.traceId,traceSampled:i.traceSampled,type:"xhr",url:i.url,xhr:i.xhr,isAborted:i.isAborted});break}}));return{stop:function(){return e.unsubscribe()}}}function qu(t,n,r){var e=Bi().subscribe((function(e){var i=e;if(!Ga(n,i.url)){return}switch(i.state){case"start":r.traceFetch(i);i.requestIndex=Hu();t.notify(7,{requestIndex:i.requestIndex,url:i.url});break;case"resolve":Vu(i,(function(n){r.clearTracingIfNeeded(i);t.notify(8,{duration:n,method:i.method,requestIndex:i.requestIndex,responseType:i.responseType,spanId:i.spanId,startClocks:i.startClocks,status:i.status,traceId:i.traceId,traceSampled:i.traceSampled,type:"fetch",url:i.url,response:i.response,init:i.init,input:i.input,isAborted:i.isAborted})}));break}}));return{stop:function(){return e.unsubscribe()}}}function Hu(){var t=Fu;Fu+=1;return t}function Vu(t,n){var r=t.response&&We(t.response);if(!r||!r.body){n(z(t.startClocks.timeStamp,A()))}else{ia(r.body,(function(){n(z(t.startClocks.timeStamp,A()))}),{bytesLimit:Number.POSITIVE_INFINITY,collectStreamBody:false})}}function Ku(t){return h(t)&&t<0?undefined:t}function Gu(t){var n=t.lifeCycle,r=t.isChildEvent,e=t.onChange,i=e===void 0?wt:e;var a={errorCount:0,longTaskCount:0,resourceCount:0,actionCount:0,frustrationCount:0};var u=n.subscribe(13,(function(t){var n;if(t.type==="view"||t.type==="vital"||!r(t)){return}switch(t.type){case"error":a.errorCount+=1;i();break;case"action":a.actionCount+=1;if(t.action.frustration){a.frustrationCount+=t.action.frustration.type.length}i();break;case"long_task":a.longTaskCount+=1;i();break;case"resource":if(!((n=t._dd)===null||n===void 0?void 0:n.discarded)){a.resourceCount+=1;i()}break}}));return{stop:function(){u.unsubscribe()},eventCounts:a}}var Wu=100;var Xu=100;function Ju(t,n,r,e,i){var a=Yu(t,n,r);return $u(a,e,i)}function $u(t,n,r){var e;var i=false;var a=vt(st((function(){return s({hadActivity:false})})),Wu);var u=r!==undefined?vt(st((function(){return s({hadActivity:true,end:A()})})),r):undefined;var o=t.subscribe((function(t){var n=t.isBusy;lt(a);lt(e);var r=A();if(!n){e=vt(st((function(){return s({hadActivity:true,end:r})})),Xu)}}));var f=function(){i=true;lt(a);lt(e);lt(u);o.unsubscribe()};function s(t){if(i){return}f();n(t)}return{stop:f}}function Yu(t,n,r){return new pt((function(e){var i=[];var a;var u=0;i.push(n.subscribe(f),t.subscribe(0,(function(t){if(t.some((function(t){return t.entryType===lu.RESOURCE&&!Qu(r,t.name)}))){f()}})),t.subscribe(7,(function(t){if(Qu(r,t.url)){return}if(a===undefined){a=t.requestIndex}u+=1;f()})),t.subscribe(8,(function(t){if(Qu(r,t.url)||a===undefined||t.requestIndex<a){return}u-=1;f()})));var o=to(f).stop;return function(){o();i.forEach((function(t){return t.unsubscribe()}))};function f(){e.notify({isBusy:u>0})}}))}function Qu(t,n){return ha(t.excludedActivityUrls,n)}function to(t){return dr(window,"open",t)}function no(t){if(window.CSS&&window.CSS.escape){return window.CSS.escape(t)}return t.replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,(function(t,n){if(n){if(t==="\0"){return"�"}return"".concat(t.slice(0,-1),"\\").concat(t.charCodeAt(t.length-1).toString(16)," ")}return"\\".concat(t)}))}function ro(t,n){if(t.matches){return t.matches(n)}if(t.msMatchesSelector){return t.msMatchesSelector(n)}return false}function eo(t){if(t.parentElement){return t.parentElement}while(t.parentNode){if(t.parentNode.nodeType===Node.ELEMENT_NODE){return t.parentNode}t=t.parentNode}return null}function io(t){var n;if(t.classList){return t.classList}var r=(n=t.getAttribute("class"))===null||n===void 0?void 0:n.trim();return r?r.split(/\s+/):[]}var ao=1;var uo=function(){function t(t){var n=this;this.map=new WeakMap;if(t){t.forEach((function(t){return n.map.set(t,ao)}))}}t.prototype.add=function(t){this.map.set(t,ao);return this};t.prototype.delete=function(t){return this.map.delete(t)};t.prototype.has=function(t){return this.map.has(t)};return t}();var oo="data-dd-action-name";function fo(t,n){return so(t,oo)||n&&so(t,n)||ho(t,n,co)||ho(t,n,vo)||""}function so(t,n){var r;if(xo()){r=t.closest("[".concat(n,"]"))}else{var e=t;while(e){if(e.hasAttribute(n)){r=e;break}e=eo(e)}}if(!r){return}var i=r.getAttribute(n);return po(_o(i.trim()))}var co=[function(t,n){if(bo()){if("labels"in t&&t.labels&&t.labels.length>0){return go(t.labels[0],n)}}else if(t.id){var r=t.ownerDocument&&H(t.ownerDocument.querySelectorAll("label"),(function(n){return n.htmlFor===t.id}));return r&&go(r,n)}},function(t){if(t.nodeName==="INPUT"){var n=t;var r=n.getAttribute("type");if(r==="button"||r==="submit"||r==="reset"){return n.value}}},function(t,n){if(t.nodeName==="BUTTON"||t.nodeName==="LABEL"||t.getAttribute("role")==="button"){return go(t,n)}},function(t){return t.getAttribute("aria-label")},function(t,n){var r=t.getAttribute("aria-labelledby");if(r){return r.split(/\s+/).map((function(n){return mo(t,n)})).filter((function(t){return Boolean(t)})).map((function(t){return go(t,n)})).join(" ")}},function(t){return t.getAttribute("alt")},function(t){return t.getAttribute("name")},function(t){return t.getAttribute("title")},function(t){return t.getAttribute("placeholder")},function(t,n){if("options"in t&&t.options.length>0){return go(t.options[0],n)}}];var vo=[function(t,n){return go(t,n)}];var lo=10;function ho(t,n,r){var e=t;var i=0;while(i<=lo&&e&&e.nodeName!=="BODY"&&e.nodeName!=="HTML"&&e.nodeName!=="HEAD"){for(var a=0,u=r;a<u.length;a++){var o=u[a];var f=o(e,n);if(typeof f==="string"){var s=f.trim();if(s){return po(_o(s))}}}if(e.nodeName==="FORM"){break}e=eo(e);i+=1}}function _o(t){return t.replace(/\s+/g," ")}function po(t){return t.length>100?"".concat(St(t,100)," [...]"):t}function mo(t,n){return t.ownerDocument?t.ownerDocument.getElementById(n):null}function go(t,n){if(t.isContentEditable){return}if("innerText"in t){var r=t.innerText;var e=function(n){var e=t.querySelectorAll(n);for(var i=0;i<e.length;i+=1){var a=e[i];if("innerText"in a){var u=a.innerText;if(u&&u.trim().length>0){r=r.replace(u,"")}}}};if(!wo()){e("script, style")}e("[".concat(oo,"]"));if(n){e("[".concat(n,"]"))}return r}return t.textContent}function wo(){return!Et()}var yo;function bo(){if(yo===undefined){yo="labels"in HTMLInputElement.prototype}return yo}var ko;function xo(){if(ko===undefined){ko="closest"in HTMLElement.prototype}return ko}var So=[oo,"data-testid","data-test","data-qa","data-cy","data-test-id","data-qa-id","data-testing","data-component","data-element","data-source-file"];var Eo=[Io,To];var Ao=[Io,zo,Mo];function Ro(t,n){if(!Fo(t)){return}var r="";var e=t;while(e&&e.nodeName!=="HTML"){var i=Lo(e,Eo,Uo,n,r);if(i){return i}var a=Lo(e,Ao,No,n,r);r=a||Do(Oo(e),r);e=eo(e)}return r}function Co(t){return/[0-9]/.test(t)}function To(t){if(t.id&&!Co(t.id)){return"#".concat(no(t.id))}}function zo(t){if(t.tagName==="BODY"){return}var n=io(t);for(var r=0;r<n.length;r+=1){var e=n[r];if(Co(e)){continue}return"".concat(no(t.tagName),".").concat(no(e))}}function Mo(t){return no(t.tagName)}function Io(t,n){if(n){var r=u(n);if(r){return r}}for(var e=0,i=So;e<i.length;e++){var a=i[e];var r=u(a);if(r){return r}}function u(n){if(t.hasAttribute(n)){return"".concat(no(t.tagName),"[").concat(n,'="').concat(no(t.getAttribute(n)),'"]')}}}function Oo(t){var n=eo(t).firstElementChild;var r=1;while(n&&n!==t){if(n.tagName===t.tagName){r+=1}n=n.nextElementSibling}return"".concat(no(t.tagName),":nth-of-type(").concat(r,")")}function Lo(t,n,r,e,i){for(var a=0,u=n;a<u.length;a++){var o=u[a];var f=o(t,e);if(!f){continue}var s=Do(f,i);if(r(t,s)){return s}}}function Uo(t,n){return t.ownerDocument.querySelectorAll(n).length===1}function No(t,n){return eo(t).querySelectorAll(Po()?Do(":scope",n):n).length===1}function Do(t,n){return n?"".concat(t,">").concat(n):t}var Bo;function Po(){if(Bo===undefined){try{document.querySelector(":scope");Bo=true}catch(t){Bo=false}}return Bo}function Fo(t){if("isConnected"in t){return t.isConnected}return t.ownerDocument.documentElement.contains(t)}var jo=_;var Zo=100;function qo(t,n){var r=[];var e=0;var i;a(t);function a(t){t.stopObservable.subscribe(u);r.push(t);lt(i);i=vt(o,jo)}function u(){if(e===1&&r.every((function(t){return t.isStopped()}))){e=2;n(r)}}function o(){lt(i);if(e===0){e=1;u()}}return{tryAppend:function(t){if(e!==0){return false}if(r.length>0&&!Ho(r[r.length-1].event,t.event)){o();return false}a(t);return true},stop:function(){o()}}}function Ho(t,n){return t.target===n.target&&Vo(t,n)<=Zo&&t.timeStamp-n.timeStamp<=jo}function Vo(t,n){return Math.sqrt(Math.pow(t.clientX-n.clientX,2)+Math.pow(t.clientY-n.clientY,2))}function Ko(t,n){var r=n.onPointerDown,e=n.onPointerUp;var i;var a={selection:false,input:false,scroll:false};var u;var o=[ie(t,window,ee.POINTER_DOWN,(function(t){if(Wo(t)){i=Go();a={selection:false,input:false,scroll:false};u=r(t)}}),{capture:true}),ie(t,window,ee.SELECTION_CHANGE,(function(){if(!i||!Go()){a.selection=true}}),{capture:true}),ie(t,window,ee.SCROLL,(function(){a.scroll=true}),{capture:true,passive:true}),ie(t,window,ee.POINTER_UP,(function(t){if(Wo(t)&&u){var n=a;e(u,t,(function(){return n}));u=undefined}}),{capture:true}),ie(t,window,ee.INPUT,(function(){a.input=true}),{capture:true})];return{stop:function(){o.forEach((function(t){return t.stop()}))}}}function Go(){var t=window.getSelection();return!t||t.isCollapsed}function Wo(t){return t.target instanceof Element&&t.isPrimary!==false}var Xo=3;function Jo(t,n){if($o(t)){n.addFrustration("rage_click");if(t.some(Qo)){n.addFrustration("dead_click")}if(n.hasError){n.addFrustration("error_click")}return{isRage:true}}var r=t.some((function(t){return t.getUserActivity().selection}));t.forEach((function(t){if(t.hasError){t.addFrustration("error_click")}if(Qo(t)&&!r){t.addFrustration("dead_click")}}));return{isRage:false}}function $o(t){if(t.some((function(t){return t.getUserActivity().selection||t.getUserActivity().scroll}))){return false}for(var n=0;n<t.length-(Xo-1);n+=1){if(t[n+Xo-1].event.timeStamp-t[n].event.timeStamp<=_){return true}}return false}var Yo='input:not([type="checkbox"]):not([type="radio"]):not([type="button"]):not([type="submit"]):not([type="reset"]):not([type="range"]),'+"textarea,"+"select,"+"[contenteditable],"+"[contenteditable] *,"+"canvas,"+"a[href],"+"a[href] *";function Qo(t){if(t.hasPageActivity||t.getUserActivity().input||t.getUserActivity().scroll){return false}return!ro(t.event.target,Yo)}var tf=10*_;var nf=5*p;function rf(t,n,r){var e=new Fe(nf);var i=new pt;var a;t.subscribe(10,(function(){e.reset()}));t.subscribe(5,s);var u=Ko(r,{onPointerDown:function(e){return ef(r,t,n,e)},onPointerUp:function(a,u,o){var s=a.clickActionBase,c=a.hadActivityOnPointerDown;return af(r,t,n,e,i,f,s,u,o,c)}}).stop;var o={findActionId:function(t){return e.findAll(t)}};return{stop:function(){s();i.notify();u()},actionContexts:o};function f(t){if(!a||!a.tryAppend(t)){var n=t.clone();a=qo(t,(function(t){ff(t,n)}))}}function s(){if(a){a.stop()}}}function ef(t,n,r,e){var i=uf(e,t.actionNameAttribute);var a=false;Ju(n,r,t,(function(t){a=t.hadActivity}),Wu);return{clickActionBase:i,hadActivityOnPointerDown:function(){return a}}}function af(t,n,r,e,i,a,u,o,f,s){var c=of(n,e,f,u,o);a(c);var d=Ju(n,r,t,(function(t){if(t.hadActivity&&t.end<c.startClocks.timeStamp){c.discard()}else{if(t.hadActivity){c.stop(t.end)}else if(s()){c.stop(c.startClocks.timeStamp)}else{c.stop()}}}),tf).stop;var v=n.subscribe(5,(function(t){var n=t.endClocks;c.stop(n.timeStamp)}));var l=i.subscribe((function(){c.stop()}));c.stopObservable.subscribe((function(){v.unsubscribe();d();l.unsubscribe()}))}function uf(t,n){var r=t.target.getBoundingClientRect();return{type:"click",target:{width:Math.round(r.width),height:Math.round(r.height),selector:Ro(t.target,n)},position:{x:Math.round(t.clientX-r.left),y:Math.round(t.clientY-r.top)},name:fo(t.target,n)}}function of(t,n,r,e,i){var a=yt();var u=C();var o=n.add(a,u.relative);var f=Gu({lifeCycle:t,isChildEvent:function(t){return t.action!==undefined&&(Array.isArray(t.action.id)?Z(t.action.id,a):t.action.id===a)}});var s=0;var c;var d=[];var v=new pt;function l(t){if(s!==0){return}c=t;s=1;if(c){o.close(I(c))}else{o.remove()}f.stop();v.notify()}return{event:i,stop:l,stopObservable:v,get hasError(){return f.eventCounts.errorCount>0},get hasPageActivity(){return c!==undefined},getUserActivity:r,addFrustration:function(t){d.push(t)},startClocks:u,isStopped:function(){return s===1||s===2},clone:function(){return of(t,n,r,e,i)},validate:function(n){l();if(s!==1){return}var r=f.eventCounts,o=r.resourceCount,v=r.errorCount,h=r.longTaskCount;var _=$({type:"click",duration:c&&z(u.timeStamp,c),startClocks:u,id:a,frustrationTypes:d,counts:{resourceCount:o,errorCount:v,longTaskCount:h},events:n!==null&&n!==void 0?n:[i],event:i},e);t.notify(1,_);s=2},discard:function(){l();s=2}}}function ff(t,n){var r=Jo(t,n).isRage;if(r){t.forEach((function(t){return t.discard()}));n.stop(A());n.validate(t.map((function(t){return t.event})))}else{n.discard();t.forEach((function(t){return t.validate()}))}}function sf(t,n,r,e){t.subscribe(1,(function(n){return t.notify(12,cf(n,e))}));var i={findActionId:wt};if(r.trackUserInteractions){i=rf(t,n,r).actionContexts}return{addAction:function(n,r){t.notify(12,$({savedCommonContext:r},cf(n,e)))},actionContexts:i}}function cf(t,n){var r=df(t)?{action:{id:t.id,loading_time:Ku(S(t.duration)),frustration:{type:t.frustrationTypes},error:{count:t.counts.errorCount},long_task:{count:t.counts.longTaskCount},resource:{count:t.counts.resourceCount}},_dd:{action:{target:t.target,position:t.position}}}:undefined;var e=!df(t)?t.context:undefined;var i=me({action:{id:yt(),target:{name:t.name},type:t.type},date:t.startClocks.timeStamp,type:"action",view:{in_foreground:n.wasInPageStateAt("active",t.startClocks.relative)}},r);return{customerContext:e,rawRumEvent:i,startTime:t.startClocks.relative,domainContext:df(t)?{events:t.events}:{}}}function df(t){return t.type!=="custom"}function vf(n){var r=qi([t.error]).subscribe((function(t){return n.notify({startClocks:C(),message:t.message,stack:t.stack,fingerprint:t.fingerprint,source:Jr.CONSOLE,handling:"handled",handlingStack:t.handlingStack})}));return{stop:function(){r.unsubscribe()}}}function lf(t,n){var r=oe(t,[ue.cspViolation,ue.intervention]).subscribe((function(t){var r={startClocks:C(),message:t.message,stack:t.stack,type:t.subtype,source:Jr.REPORT,handling:"unhandled",originalError:t.originalReport};if(t.originalReport.type==="securitypolicyviolation"){r.csp={disposition:t.originalReport.disposition}}return n.notify(r)}));return{stop:function(){r.unsubscribe()}}}function hf(t,n,r,e){var i=new pt;vf(i);$r(i);lf(n,i);i.subscribe((function(n){return t.notify(14,{error:n})}));return _f(t,r,e)}function _f(t,n,r){t.subscribe(14,(function(e){var i=e.error,a=e.customerContext,u=e.savedCommonContext;t.notify(12,$({customerContext:a,savedCommonContext:u},pf(i,n,r)))}));return{addError:function(n,r){var e=n.error,i=n.handlingStack,a=n.startClocks,u=n.context;var o=e instanceof Error?_r(e):undefined;var f=Vr({stackTrace:o,originalError:e,handlingStack:i,startClocks:a,nonErrorPrefix:"Provided",source:Jr.CUSTOM,handling:"handled"});t.notify(14,{customerContext:u,savedCommonContext:r,error:f})}}}function pf(t,n,r){var e={date:t.startClocks.timeStamp,error:{id:yt(),message:t.message,source:t.source,stack:t.stack,handling_stack:t.handlingStack,type:t.type,handling:t.handling,causes:t.causes,source_type:"browser",fingerprint:t.fingerprint,csp:t.csp},type:"error",view:{in_foreground:n.wasInPageStateAt("active",t.startClocks.relative)}};var i=r.findFeatureFlagEvaluations(t.startClocks.relative);if(i&&!tt(i)){e.feature_flags=i}return{rawRumEvent:e,startTime:t.startClocks.relative,domainContext:{error:t.originalError}}}function mf(t,n,r){t.subscribe(0,(function(e){for(var i=0,a=e;i<a.length;i++){var u=a[i];if(u.entryType!==lu.LONG_TASK){break}var o=r.findTrackedSession(u.startTime);if(!o||!n.trackLongTasks){break}var f=y(u.startTime);var s={date:f.timeStamp,long_task:{id:yt(),duration:S(u.duration)},type:"long_task",_dd:{discarded:false}};t.notify(12,{rawRumEvent:s,startTime:f.relative,domainContext:{performanceEntry:u}})}}))}var gf=new uo;function wf(t){if(!performance||!("getEntriesByName"in performance)){return}var n=performance.getEntriesByName(t.url,"resource");if(!n.length||!("toJSON"in n[0])){return}var r=n.filter((function(t){return!gf.has(t)})).filter((function(t){return qa(t)})).filter((function(n){return bf(n,t.startClocks.relative,yf({startTime:t.startClocks.relative,duration:t.duration}))}));if(r.length===1){gf.add(r[0]);return r[0].toJSON()}return}function yf(t){return M(t.startTime,t.duration)}function bf(t,n,r){var e=1;return t.startTime>=n-e&&yf(t)<=M(r,e)}function kf(t,n,r,e){t.subscribe(8,(function(i){var a=xf(i,n,r,e);if(a){t.notify(12,a)}}));t.subscribe(0,(function(e){for(var i=0,a=e;i<a.length;i++){var u=a[i];if(u.entryType===lu.RESOURCE&&!Fa(u)){var o=Sf(u,n,r);if(o){t.notify(12,o)}}}}))}function xf(t,n,r,e){var i=wf(t);var a=i?y(i.startTime):t.startClocks;var u=Ef(n,r,a);var o=Rf(t,n);if(!u&&!o){return}var f=t.type==="xhr"?"xhr":"fetch";var s=i?Af(i):undefined;var c=zf(e,a,t.duration);var d=me({date:a.timeStamp,resource:{id:yt(),type:f,duration:c,method:t.method,status_code:t.status,url:Ja(t.url)?$a(t.url):t.url},type:"resource",_dd:{discarded:!u}},o,s);return{startTime:a.relative,rawRumEvent:d,domainContext:{performanceEntry:i,xhr:t.xhr,response:t.response,requestInput:t.input,requestInit:t.init,error:t.error,isAborted:t.isAborted}}}function Sf(t,n,r){var e=y(t.startTime);var i=Ef(n,r,e);var a=Cf(t,n);if(!i&&!a){return}var u=Ba(t);var o=Af(t);var f=me({date:e.timeStamp,resource:{id:yt(),type:u,url:t.name,status_code:Mf(t.responseStatus)},type:"resource",_dd:{discarded:!i}},a,o);return{startTime:e.relative,rawRumEvent:f,domainContext:{performanceEntry:t}}}function Ef(t,n,r){return t.trackResources&&n.findTrackedSession(r.relative)}function Af(t){var n=t.renderBlockingStatus;return{resource:$({duration:ja(t),render_blocking_status:n},Ka(t),Za(t))}}function Rf(t,n){var r=t.traceSampled&&t.traceId&&t.spanId;if(!r){return undefined}return{_dd:{span_id:t.spanId.toDecimalString(),trace_id:t.traceId.toDecimalString(),rule_psr:Tf(n)}}}function Cf(t,n){var r=t.traceId;if(!r){return undefined}return{_dd:{trace_id:t.traceId,rule_psr:Tf(n)}}}function Tf(t){return h(t.traceSampleRate)?t.traceSampleRate/100:undefined}function zf(t,n,r){return!t.wasInPageStateDuringPeriod("frozen",n.relative,r)?S(r):undefined}function Mf(t){return t===0?undefined:t}function If(t,n,r){var e=Gu({lifeCycle:t,isChildEvent:function(t){return t.view.id===n},onChange:r}),i=e.stop,a=e.eventCounts;return{stop:i,eventCounts:a}}var Of=10*p;function Lf(t,n,r){var e=t.subscribe(0,(function(t){var e=H(t,(function(t){return t.entryType===lu.PAINT&&t.name==="first-contentful-paint"&&t.startTime<n.timeStamp&&t.startTime<Of}));if(e){r(e.startTime)}})).unsubscribe;return{stop:e}}function Uf(t,n,r,e){var i=t.subscribe(0,(function(t){var i=H(t,(function(t){return t.entryType===lu.FIRST_INPUT&&t.startTime<r.timeStamp}));if(i){var a=z(i.startTime,i.processingStart);var u=void 0;if(i.target&&tu(i.target)){u=Ro(i.target,n.actionNameAttribute)}e({delay:a>=0?a:0,time:i.startTime,targetSelector:u})}})).unsubscribe;return{stop:i}}function Nf(t,n){var r=t.subscribe(0,(function(t){for(var r=0,e=t;r<e.length;r++){var i=e[r];if(i.entryType===lu.NAVIGATION){n({domComplete:i.domComplete,domContentLoaded:i.domContentLoadedEventEnd,domInteractive:i.domInteractive,loadEvent:i.loadEventEnd,firstByte:i.responseStart>=0&&i.responseStart<=R()?i.responseStart:undefined})}}})).unsubscribe;return{stop:r}}var Df=10*p;function Bf(t,n,r,e,i){var a=Infinity;var u=ae(n,e,[ee.POINTER_DOWN,ee.KEY_DOWN],(function(t){a=t.timeStamp}),{capture:true,once:true}).stop;var o=0;var f=t.subscribe(0,(function(t){var e=V(t,(function(t){return t.entryType===lu.LARGEST_CONTENTFUL_PAINT&&t.startTime<a&&t.startTime<r.timeStamp&&t.startTime<Df&&t.size>o}));if(e){var u=void 0;if(e.element){u=Ro(e.element,n.actionNameAttribute)}i({value:e.startTime,targetSelector:u});o=e.size}})).unsubscribe;return{stop:function(){u();f()}}}function Pf(t,n){if(n===void 0){n=window}var r;var e;if(document.visibilityState==="hidden"){r=0}else{r=Infinity;e=ae(t,n,[ee.PAGE_HIDE,ee.VISIBILITY_CHANGE],(function(t){if(t.type===ee.PAGE_HIDE||document.visibilityState==="hidden"){r=t.timeStamp;e()}}),{capture:true}).stop}return{get timeStamp(){return r},stop:function(){e===null||e===void 0?void 0:e()}}}function Ff(t,n,r,e){var i={};var a=Nf(t,(function(t){r(t.loadEvent);i.navigationTimings=t;e()})).stop;var u=Pf(n);var o=Lf(t,u,(function(t){i.firstContentfulPaint=t;e()})).stop;var f=Bf(t,n,u,window,(function(t){i.largestContentfulPaint=t;e()})).stop;var s=Uf(t,n,u,(function(t){i.firstInput=t;e()})).stop;function c(){a();o();f();s();u.stop()}return{stop:c,initialViewMetrics:i}}function jf(t,n,r){if(!Kf()){return{stop:wt}}var e=0;var i;r({value:0});var a=Vf();var u=n.subscribe(0,(function(n){for(var u=0,o=n;u<o.length;u++){var f=o[u];if(f.entryType===lu.LAYOUT_SHIFT&&!f.hadRecentInput){var s=a.update(f),c=s.cumulatedValue,d=s.isMaxValue;if(d){var l=Zf(f.sources);i=l?new WeakRef(l):undefined}if(c>e){e=c;var l=i===null||i===void 0?void 0:i.deref();r({value:v(e,4),targetSelector:l&&Ro(l,t.actionNameAttribute)})}}}})).unsubscribe;return{stop:u}}function Zf(t){var n;if(!t){return}return(n=H(t,(function(t){return!!t.node&&tu(t.node)})))===null||n===void 0?void 0:n.node}var qf=5*_;var Hf=_;function Vf(){var t=0;var n;var r;var e=0;return{update:function(i){var a=n===undefined||i.startTime-r>=Hf||i.startTime-n>=qf;var u;if(a){n=r=i.startTime;e=t=i.value;u=true}else{t+=i.value;r=i.startTime;u=i.value>e;if(u){e=i.value}}return{cumulatedValue:t,isMaxValue:u}}}}function Kf(){return _u(lu.LAYOUT_SHIFT)}var Gf;var Wf=0;var Xf=Infinity;var Jf=0;function $f(){if("interactionCount"in performance||Gf){return}Gf=new window.PerformanceObserver(st((function(t){t.getEntries().forEach((function(t){var n=t;if(n.interactionId){Xf=Math.min(Xf,n.interactionId);Jf=Math.max(Jf,n.interactionId);Wf=(Jf-Xf)/7+1}}))})));Gf.observe({type:"event",buffered:true,durationThreshold:0})}var Yf=function(){return Gf?Wf:window.performance.interactionCount||0};var Qf=10;var ts=1*p;function ns(t,n,r,e){if(!is()){return{getInteractionToNextPaint:function(){return undefined},setViewEnd:wt,stop:wt}}var i=es(r),a=i.getViewInteractionCount,u=i.stopViewInteractionCount;var o=Infinity;var f=rs(a);var s=-1;var c;var d=e.subscribe(0,(function(r){for(var e=0,i=r;e<i.length;e++){var a=i[e];if((a.entryType===lu.EVENT||a.entryType===lu.FIRST_INPUT)&&a.interactionId&&a.startTime>=n&&a.startTime<=o){f.process(a)}}var u=f.estimateP98Interaction();if(u&&u.duration!==s){s=u.duration;if(u.target&&tu(u.target)){c=Ro(u.target,t.actionNameAttribute)}else{c=undefined}}})).unsubscribe;return{getInteractionToNextPaint:function(){if(s>=0){return{value:Math.min(s,ts),targetSelector:c}}else if(a()){return{value:0}}},setViewEnd:function(t){o=t;u()},stop:d}}function rs(t){var n=[];function r(){n.sort((function(t,n){return n.duration-t.duration})).splice(Qf)}return{process:function(t){var e=n.findIndex((function(n){return t.interactionId===n.interactionId}));var i=n[n.length-1];if(e!==-1){if(t.duration>n[e].duration){n[e]=t;r()}}else if(n.length<Qf||t.duration>i.duration){n.push(t);r()}},estimateP98Interaction:function(){var r=Math.min(n.length-1,Math.floor(t()/50));return n[r]}}}function es(t){$f();var n=t==="initial_load"?0:Yf();var r={stopped:false};function e(){return Yf()-n}return{getViewInteractionCount:function(){if(r.stopped){return r.interactionCount}return e()},stopViewInteractionCount:function(){r={stopped:true,interactionCount:e()}}}}function is(){return _u(lu.EVENT)&&window.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype}function as(t,n,r,e,i,a){var u=e==="initial_load";var o=true;var f=[];function s(){if(!o&&!u&&f.length>0){a(Math.max.apply(Math,f))}}var c=Ju(t,n,r,(function(t){if(o){o=false;if(t.hadActivity){f.push(z(i.timeStamp,t.end))}s()}})).stop;return{stop:c,setLoadEvent:function(t){if(u){u=false;f.push(t);s()}}}}function us(){var t;var n=window.visualViewport;if(n){t=n.pageLeft-n.offsetLeft}else if(window.scrollX!==undefined){t=window.scrollX}else{t=window.pageXOffset||0}return Math.round(t)}function os(){var t;var n=window.visualViewport;if(n){t=n.pageTop-n.offsetTop}else if(window.scrollY!==undefined){t=window.scrollY}else{t=window.pageYOffset||0}return Math.round(t)}var fs;function ss(t){if(!fs){fs=cs(t)}return fs}function cs(t){return new pt((function(n){var r=gt((function(){n.notify(ds())}),200).throttled;return ie(t,window,ee.RESIZE,r,{capture:true,passive:true}).stop}))}function ds(){var t=window.visualViewport;if(t){return{width:Number(t.width*t.scale),height:Number(t.height*t.scale)}}return{width:Number(window.innerWidth||0),height:Number(window.innerHeight||0)}}var vs=_;function ls(t,n,r,e){if(e===void 0){e=_s(t)}var i=0;var a=0;var u=0;var o=e.subscribe((function(t){var e=t.scrollDepth,o=t.scrollTop,f=t.scrollHeight;var s=false;if(e>i){i=e;s=true}if(f>a){a=f;var c=R();u=z(n.relative,c);s=true}if(s){r({maxDepth:Math.min(i,a),maxDepthScrollTop:o,maxScrollHeight:a,maxScrollHeightTime:u})}}));return{stop:function(){return o.unsubscribe()}}}function hs(){var t=os();var n=ds().height;var r=Math.round((document.scrollingElement||document.documentElement).scrollHeight);var e=Math.round(n+t);return{scrollHeight:r,scrollDepth:e,scrollTop:t}}function _s(t,n){if(n===void 0){n=vs}return new pt((function(r){function e(){r.notify(hs())}if(window.ResizeObserver){var i=gt(e,n,{leading:false,trailing:true});var a=document.scrollingElement||document.documentElement;var u=new ResizeObserver(st(i.throttled));u.observe(a);var o=ie(t,window,ee.SCROLL,i.throttled,{passive:true});return function(){i.cancel();u.unobserve(a);o.stop()}}}))}function ps(t,n,r,e,i,a){var u={};var o=as(t,n,r,i,a,(function(t){u.loadingTime=t;e()})),f=o.stop,s=o.setLoadEvent;var c=ls(r,a,(function(t){u.scroll=t})).stop;var d=jf(r,t,(function(t){u.cumulativeLayoutShift=t;e()})).stop;var v=ns(r,a.relative,i,t),l=v.stop,h=v.getInteractionToNextPaint,_=v.setViewEnd;return{stop:function(){f();d();c()},stopINPTracking:l,setLoadEvent:s,setViewEnd:_,getCommonViewMetrics:function(){u.interactionToNextPaint=h();return u}}}var ms=3e3;var gs=5*p;var ws=5*p;function ys(t,n,r,e,i,a,u){var o=new Set;var f=c("initial_load",T(),u);d();var s;if(a){s=v(i)}function c(i,a,u){var f=bs(n,r,e,t,i,a,u);o.add(f);f.stopObservable.subscribe((function(){o.delete(f)}));return f}function d(){n.subscribe(10,(function(){f=c("route_change",undefined,{name:f.name,service:f.service,version:f.version})}));n.subscribe(9,(function(){f.end({sessionIsActive:false})}));n.subscribe(11,(function(t){if(t.reason===wi.UNLOADING){f.end()}}))}function v(t){return t.subscribe((function(t){var n=t.oldLocation,r=t.newLocation;if(xs(n,r)){f.end();f=c("route_change")}}))}return{addTiming:function(t,n){if(n===void 0){n=A()}f.addTiming(t,n)},startView:function(t,n){f.end({endClocks:n});f=c("route_change",n,t)},stop:function(){s===null||s===void 0?void 0:s.unsubscribe();f.end();o.forEach((function(t){return t.stop()}))}}}function bs(t,n,r,e,i,a,u){if(a===void 0){a=C()}var o=yt();var f=new pt;var s={};var c=0;var d;var v=Y(e);var l=true;var h;var _;var p;if(u){h=u.name;_=u.service;p=u.version}var m={id:o,name:h,startClocks:a,service:_,version:p};t.notify(2,m);t.notify(3,m);var g=gt(B,ms,{leading:false}),w=g.throttled,y=g.cancel;var b=ps(t,n,r,w,i,a),k=b.setLoadEvent,x=b.setViewEnd,S=b.stop,E=b.stopINPTracking,R=b.getCommonViewMetrics;var T=i==="initial_load"?Ff(t,r,k,w):{stop:wt,initialViewMetrics:{}},M=T.stop,I=T.initialViewMetrics;var O=If(t,o,w),U=O.stop,N=O.eventCounts;var D=ht(B,gs);B();function B(){y();c+=1;var n=d===undefined?A():d.timeStamp;t.notify(4,{customTimings:s,documentVersion:c,id:o,name:h,service:_,version:p,loadingType:i,location:v,startClocks:a,commonViewMetrics:R(),initialViewMetrics:I,duration:z(a.timeStamp,n),isActive:d===undefined,sessionIsActive:l,eventCounts:N})}return{name:h,service:_,version:p,stopObservable:f,end:function(n){var r=this;var e,i;if(n===void 0){n={}}if(d){return}d=(e=n.endClocks)!==null&&e!==void 0?e:C();l=(i=n.sessionIsActive)!==null&&i!==void 0?i:true;t.notify(5,{endClocks:d});t.notify(6,{endClocks:d});_t(D);x(d.relative);S();B();vt((function(){r.stop()}),ws)},stop:function(){M();U();E();f.notify()},addTiming:function(t,n){if(d){return}var r=L(n)?n:z(a.timeStamp,n);s[ks(t)]=r;w()}}}function ks(t){var n=t.replace(/[^a-zA-Z0-9-_.@$]/g,"_");if(n!==t){i.warn("Invalid timing name: ".concat(t,", sanitized to: ").concat(n))}return n}function xs(t,n){return t.pathname!==n.pathname||!Ss(n.hash)&&Es(n.hash)!==Es(t.hash)}function Ss(t){var n=t.substring(1);return n!==""&&!!document.getElementById(n)}function Es(t){var n=t.indexOf("?");return n<0?t:t.slice(0,n)}function As(t,n,r,e,i,a,u,o,f){t.subscribe(4,(function(r){return t.notify(12,Rs(r,n,a,o,u))}));return ys(r,t,e,n,i,!n.trackViewsManually,f)}function Rs(t,n,r,e,i){var a,u,o,f,s,c,d,v,l,h,_,p,m,g;var w=e.getReplayStats(t.id);var y=r.findFeatureFlagEvaluations(t.startClocks.relative);var b=i.findAll(t.startClocks.relative,t.duration);var k={_dd:{document_version:t.documentVersion,replay_stats:w,page_states:b,configuration:{start_session_replay_recording_manually:n.startSessionReplayRecordingManually}},date:t.startClocks.timeStamp,type:"view",view:{action:{count:t.eventCounts.actionCount},frustration:{count:t.eventCounts.frustrationCount},cumulative_layout_shift:(a=t.commonViewMetrics.cumulativeLayoutShift)===null||a===void 0?void 0:a.value,cumulative_layout_shift_target_selector:(u=t.commonViewMetrics.cumulativeLayoutShift)===null||u===void 0?void 0:u.targetSelector,first_byte:S((o=t.initialViewMetrics.navigationTimings)===null||o===void 0?void 0:o.firstByte),dom_complete:S((f=t.initialViewMetrics.navigationTimings)===null||f===void 0?void 0:f.domComplete),dom_content_loaded:S((s=t.initialViewMetrics.navigationTimings)===null||s===void 0?void 0:s.domContentLoaded),dom_interactive:S((c=t.initialViewMetrics.navigationTimings)===null||c===void 0?void 0:c.domInteractive),error:{count:t.eventCounts.errorCount},first_contentful_paint:S(t.initialViewMetrics.firstContentfulPaint),first_input_delay:S((d=t.initialViewMetrics.firstInput)===null||d===void 0?void 0:d.delay),first_input_time:S((v=t.initialViewMetrics.firstInput)===null||v===void 0?void 0:v.time),first_input_target_selector:(l=t.initialViewMetrics.firstInput)===null||l===void 0?void 0:l.targetSelector,interaction_to_next_paint:S((h=t.commonViewMetrics.interactionToNextPaint)===null||h===void 0?void 0:h.value),interaction_to_next_paint_target_selector:(_=t.commonViewMetrics.interactionToNextPaint)===null||_===void 0?void 0:_.targetSelector,is_active:t.isActive,name:t.name,largest_contentful_paint:S((p=t.initialViewMetrics.largestContentfulPaint)===null||p===void 0?void 0:p.value),largest_contentful_paint_target_selector:(m=t.initialViewMetrics.largestContentfulPaint)===null||m===void 0?void 0:m.targetSelector,load_event:S((g=t.initialViewMetrics.navigationTimings)===null||g===void 0?void 0:g.loadEvent),loading_time:Ku(S(t.commonViewMetrics.loadingTime)),loading_type:t.loadingType,long_task:{count:t.eventCounts.longTaskCount},resource:{count:t.eventCounts.resourceCount},time_spent:S(t.duration)},feature_flags:y&&!tt(y)?y:undefined,display:t.commonViewMetrics.scroll?{scroll:{max_depth:t.commonViewMetrics.scroll.maxDepth,max_depth_scroll_top:t.commonViewMetrics.scroll.maxDepthScrollTop,max_scroll_height:t.commonViewMetrics.scroll.maxScrollHeight,max_scroll_height_time:S(t.commonViewMetrics.scroll.maxScrollHeightTime)}}:undefined,session:{has_replay:w?true:undefined,is_active:t.sessionIsActive?undefined:false},privacy:{replay_level:n.defaultPrivacyLevel}};if(!tt(t.customTimings)){k.view.custom_timings=nt(t.customTimings,S)}return{rawRumEvent:k,startTime:t.startClocks.relative,domainContext:{location:t.location}}}var Cs="rum";function Ts(t,n,r){var e=qe(t,Cs,(function(n){return Ms(t,n)}),r);e.expireObservable.subscribe((function(){n.notify(9)}));e.renewObservable.subscribe((function(){n.notify(10)}));return{findTrackedSession:function(t){var n=e.findSession(t);if(!n||!Os(n.trackingType)){return}return{id:n.id,sessionReplayAllowed:n.trackingType==="1"}},expire:e.expire,expireObservable:e.expireObservable}}function zs(){var t={id:"00000000-aaaa-0000-aaaa-000000000000",sessionReplayAllowed:pi("records")};return{findTrackedSession:function(){return t},expire:wt,expireObservable:new pt}}function Ms(t,n){var r;if(Is(n)){r=n}else if(!d(t.sessionSampleRate)){r="0"}else if(!d(t.sessionReplaySampleRate)){r="2"}else{r="1"}return{trackingType:r,isTracked:Os(r)}}function Is(t){return t==="0"||t==="1"||t==="2"}function Os(t){return t==="2"||t==="1"}function Ls(t,n,r,e,i,a,u){var o=t.replica;var f=Ei(t,{endpoint:t.rumEndpointBuilder,encoder:u(2)},o&&{endpoint:o.rumEndpointBuilder,transformMessage:function(t){return me(t,{application:{id:o.applicationId}})},encoder:u(3)},e,i,a);n.subscribe(13,(function(t){if(t.type==="view"){f.upsert(t,t.view.id)}else{f.add(t)}}));r.subscribe((function(n){return f.add(n,Me(t))}));return f}function Us(t){var n=_i();t.subscribe(13,(function(t){n.send("rum",t)}))}var Ns=Ft;function Ds(t,n,r){var e=new Fe(Ns);var i;t.subscribe(2,(function(t){var n=t.startClocks;var a=r.href;e.add(u({url:a,referrer:!i?document.referrer:i}),n.relative);i=a}));t.subscribe(6,(function(t){var n=t.endClocks;e.closeActive(n.relative)}));var a=n.subscribe((function(t){var n=t.newLocation;var r=e.find();if(r){var i=R();e.closeActive(i);e.add(u({url:n.href,referrer:r.referrer}),i)}}));function u(t){var n=t.url,r=t.referrer;return{url:n,referrer:r}}return{findUrl:function(t){return e.find(t)},stop:function(){a.unsubscribe();e.stop()}}}function Bs(t,n){var r=Y(n);return new pt((function(e){var i=Ps(t,u).stop;var a=Fs(t,u).stop;function u(){if(r.href===n.href){return}var t=Y(n);e.notify({newLocation:t,oldLocation:r});r=t}return function(){i();a()}}))}function Ps(t,n){var r=dr(history,"pushState",(function(t){var r=t.onPostCall;r(n)})).stop;var e=dr(history,"replaceState",(function(t){var r=t.onPostCall;r(n)})).stop;var i=ie(t,window,ee.POP_STATE,n).stop;return{stop:function(){r();e();i()}}}function Fs(t,n){return ie(t,window,ee.HASH_CHANGE,n)}var js=Ft;function Zs(t,n){var r=new Fe(js);t.subscribe(2,(function(t){var e=t.startClocks;r.add({},e.relative);n.resetCustomerData()}));t.subscribe(6,(function(t){var n=t.endClocks;r.closeActive(n.relative)}));return{findFeatureFlagEvaluations:function(t){return r.find(t)},addFeatureFlagEvaluation:function(t,e){var i=r.find();if(i){i[t]=e;n.updateCustomerData(i)}},stop:function(){return n.stop()}}}var qs=10*_;var Hs;var Vs;var Ks;function Gs(t,n,r,e,i){var a=n.enabled&&d(t.customerDataTelemetrySampleRate);if(!a){return}Ys();Qs();r.subscribe(13,(function(t){Ks=true;Js(Vs.globalContextBytes,e.getOrCreateTracker(2).getBytesCount());Js(Vs.userContextBytes,e.getOrCreateTracker(1).getBytesCount());Js(Vs.featureFlagBytes,Z(["view","error"],t.type)?e.getOrCreateTracker(0).getBytesCount():0)}));i.subscribe((function(t){var n=t.bytesCount,r=t.messagesCount;if(!Ks){return}Hs.batchCount+=1;Js(Hs.batchBytesCount,n);Js(Hs.batchMessagesCount,r);$s(Hs.globalContextBytes,Vs.globalContextBytes);$s(Hs.userContextBytes,Vs.userContextBytes);$s(Hs.featureFlagBytes,Vs.featureFlagBytes);Qs()}));ht(Ws,qs)}function Ws(){if(Hs.batchCount===0){return}Ie("Customer data measures",Hs);Ys()}function Xs(){return{min:Infinity,max:0,sum:0}}function Js(t,n){t.sum+=n;t.min=Math.min(t.min,n);t.max=Math.max(t.max,n)}function $s(t,n){t.sum+=n.sum;t.min=Math.min(t.min,n.min);t.max=Math.max(t.max,n.max)}function Ys(){Hs={batchCount:0,batchBytesCount:Xs(),batchMessagesCount:Xs(),globalContextBytes:Xs(),userContextBytes:Xs(),featureFlagBytes:Xs()}}function Qs(){Ks=false;Vs={globalContextBytes:Xs(),userContextBytes:Xs(),featureFlagBytes:Xs()}}var tc=4e3;var nc=500;var rc=Ft;function ec(t,n){if(n===void 0){n=nc}var r=new Fe(rc,tc);var e;a(ac(),R());var i=ae(t,window,[ee.PAGE_SHOW,ee.FOCUS,ee.BLUR,ee.VISIBILITY_CHANGE,ee.RESUME,ee.FREEZE,ee.PAGE_HIDE],(function(t){a(ic(t),t.timeStamp)}),{capture:true}).stop;function a(t,n){if(n===void 0){n=R()}if(t===e){return}e=t;r.closeActive(n);r.add({state:e,startTime:n},n)}var u={findAll:function(t,e){var i=r.findAll(t,e);if(i.length===0){return}var a=[];var u=Math.max(0,i.length-n);for(var o=i.length-1;o>=u;o--){var f=i[o];var s=z(t,f.startTime);a.push({state:f.state,start:S(s)})}return a},wasInPageStateAt:function(t,n){return u.wasInPageStateDuringPeriod(t,n,0)},wasInPageStateDuringPeriod:function(t,n,e){return r.findAll(n,e).some((function(n){return n.state===t}))},addPageState:a,stop:function(){i();r.stop()}};return u}function ic(t){if(t.type===ee.FREEZE){return"frozen"}else if(t.type===ee.PAGE_HIDE){return t.persisted?"frozen":"terminated"}return ac()}function ac(){if(document.visibilityState==="hidden"){return"hidden"}if(document.hasFocus()){return"active"}return"passive"}function uc(t){var n=ds();var r=ss(t).subscribe((function(t){n=t})).unsubscribe;return{get:function(){return{viewport:n}},stop:r}}function oc(t,n){var r=new Map;t.subscribe(10,(function(){r.clear()}));function e(t){return!n.wasInPageStateDuringPeriod("frozen",t.startClocks.relative,t.value)}return{startDurationVital:function(t){r.set(t.name,t)},stopDurationVital:function(n){var i=r.get(n.name);if(!i){return}var a=fc(i,n);r.delete(a.name);if(e(a)){t.notify(12,sc(a,true))}}}}function fc(t,n){return{name:t.name,type:"duration",startClocks:t.startClocks,value:z(t.startClocks.timeStamp,n.stopClocks.timeStamp),context:me(t.context,n.context)}}function sc(t,n){var r;var e={date:t.startClocks.timeStamp,vital:{id:yt(),type:t.type,name:t.name,custom:(r={},r[t.name]=t.value,r)},type:"vital"};if(n){e._dd={vital:{computed_value:true}}}return{rawRumEvent:e,startTime:t.startClocks.relative,customerContext:t.context,domainContext:{}}}function cc(t,n){var r=window.cookieStore?dc(t):lc;return new pt((function(t){return r(n,(function(n){return t.notify(n)}))}))}function dc(t){return function(n,r){var e=ie(t,window.cookieStore,ee.CHANGE,(function(t){var e=H(t.changed,(function(t){return t.name===n}))||H(t.deleted,(function(t){return t.name===n}));if(e){r(e.value)}}));return e.stop}}var vc=_;function lc(t,n){var r=kt(document.cookie,t);var e=ht((function(){var e=kt(document.cookie,t);if(e!==r){n(e)}}),vc);return function(){_t(e)}}var hc="datadog-ci-visibility-test-execution-id";function _c(t,n){var r;if(n===void 0){n=cc(t,hc)}var e=Lt(hc)||((r=window.Cypress)===null||r===void 0?void 0:r.env("traceId"));var i=n.subscribe((function(t){e=t}));return{get:function(){if(typeof e==="string"){return{test_execution_id:e}}},stop:function(){return i.unsubscribe()}}}function pc(t,n,r,e,i,a,u,o){var f=[];var s=new Du;s.subscribe(13,(function(t){return le("rum",t)}));var c=mc(n);c.setContextProvider((function(){var t,r;return{application:{id:n.applicationId},session:{id:(t=_.findTrackedSession())===null||t===void 0?void 0:t.id},view:{id:(r=y.findView())===null||r===void 0?void 0:r.id},action:{id:x.findActionId()}}}));var d=function(t){s.notify(14,{error:t});Ie("Error reported to customer",{"error.message":t.message})};var v=Zs(s,e.getOrCreateTracker(0));var l=yi(n);var h=l.subscribe((function(t){s.notify(11,t)}));f.push((function(){return h.unsubscribe()}));var _=!mi()?Ts(n,s,o):zs();if(!mi()){var p=Ls(n,s,c.observable,d,l,_.expireObservable,u);f.push((function(){return p.stop()}));Gs(n,c,s,e,p.flushObservable)}else{Us(s)}var m=La();var g=Bs(n,location);var w=gc(s,n,location,_,g,m,i,d),y=w.viewContexts,b=w.pageStateHistory,k=w.urlContexts,x=w.actionContexts,S=w.addAction,E=w.stop;f.push(E);ze();Le(Ca(t));mf(s,n,_);kf(s,n,_,b);var A=As(s,n,location,m,g,v,b,r,a),R=A.addTiming,C=A.startView,T=A.stop;f.push(T);var z=hf(s,n,b,v).addError;ju(s,n,_);var M=pu(s,n).stop;f.push(M);var I=oc(s,b);var O=Nu(n.applicationId,_,y,x,k);return{addAction:S,addError:z,addTiming:R,addFeatureFlagEvaluation:v.addFeatureFlagEvaluation,startView:C,lifeCycle:s,viewContexts:y,session:_,stopSession:function(){return _.expire()},getInternalContext:O.get,startDurationVital:I.startDurationVital,stopDurationVital:I.stopDurationVital,stop:function(){f.forEach((function(t){return t()}))}}}function mc(t){var n=Ce("browser-rum-sdk",t);if(mi()){var r=_i();n.observable.subscribe((function(t){return r.send("internal_telemetry",t)}))}return n}function gc(t,n,r,e,i,a,u,o){var f=Pu(t);var s=Ds(t,i,r);var c=ec(n);var d=sf(t,a,n,c),v=d.addAction,l=d.actionContexts;var h=uc(n);var _=_c(n);Ou(n,t,e,f,s,l,h,_,u,o);return{viewContexts:f,pageStateHistory:c,urlContexts:s,addAction:v,actionContexts:l,stop:function(){_.stop();h.stop();c.stop();s.stop();f.stop();c.stop()}}}function wc(t,n){var r=n.session,e=n.viewContext,i=n.errorType;var a=r?r.id:"no-session-id";var u=[];if(i!==undefined){u.push("error-type=".concat(i))}if(e){u.push("seed=".concat(e.id));u.push("from=".concat(e.startClocks.timeStamp))}var o=yc(t);var f="/rum/replay/sessions/".concat(a);return"".concat(o).concat(f,"?").concat(u.join("&"))}function yc(t){var n=t.site;var r=t.subdomain||bc(t);return"https://".concat(r?"".concat(r,"."):"").concat(n)}function bc(t){switch(t.site){case Zn:case qn:return"app";case Fn:return"dd";default:return undefined}}var kc=10;var xc;function Sc(t){return Tc(t).segments_count}function Ec(t){Tc(t).segments_count+=1}function Ac(t){Tc(t).records_count+=1}function Rc(t,n){Tc(t).segments_total_raw_size+=n}function Cc(t){return xc===null||xc===void 0?void 0:xc.get(t)}function Tc(t){if(!xc){xc=new Map}var n;if(xc.has(t)){n=xc.get(t)}else{n={records_count:0,segments_count:0,segments_total_raw_size:0};xc.set(t,n);if(xc.size>kc){zc()}}return n}function zc(){if(!xc){return}if(xc.keys){xc.delete(xc.keys().next().value)}else{var t=true;xc.forEach((function(n,r){if(t){xc.delete(r);t=false}}))}}var Mc={IGNORE:"ignore",HIDDEN:"hidden",ALLOW:ar.ALLOW,MASK:ar.MASK,MASK_USER_INPUT:ar.MASK_USER_INPUT};var Ic="data-dd-privacy";var Oc="allow";var Lc="mask";var Uc="mask-user-input";var Nc="hidden";var Dc="dd-privacy-allow";var Bc="dd-privacy-mask";var Pc="dd-privacy-mask-user-input";var Fc="dd-privacy-hidden";var jc="***";var Zc="data:image/gif;base64,R0lGODlhAQABAIAAAMLCwgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==";var qc={INPUT:true,OUTPUT:true,TEXTAREA:true,SELECT:true,OPTION:true,DATALIST:true,OPTGROUP:true};var Hc="x";function Vc(t,n,r){if(r&&r.has(t)){return r.get(t)}var e=au(t);var i=e?Vc(e,n,r):n;var a=Gc(t);var u=Kc(a,i);if(r){r.set(t,u)}return u}function Kc(t,n){switch(n){case Mc.HIDDEN:case Mc.IGNORE:return n}switch(t){case Mc.ALLOW:case Mc.MASK:case Mc.MASK_USER_INPUT:case Mc.HIDDEN:case Mc.IGNORE:return t;default:return n}}function Gc(t){if(!tu(t)){return}var n=t.getAttribute(Ic);if(t.tagName==="BASE"){return Mc.ALLOW}if(t.tagName==="INPUT"){var r=t;if(r.type==="password"||r.type==="email"||r.type==="tel"){return Mc.MASK}if(r.type==="hidden"){return Mc.MASK}var e=r.getAttribute("autocomplete");if(e&&e.indexOf("cc-")===0){return Mc.MASK}}if(n===Nc||t.classList.contains(Fc)){return Mc.HIDDEN}if(n===Lc||t.classList.contains(Bc)){return Mc.MASK}if(n===Uc||t.classList.contains(Pc)){return Mc.MASK_USER_INPUT}if(n===Oc||t.classList.contains(Dc)){return Mc.ALLOW}if(Yc(t)){return Mc.IGNORE}}function Wc(t,n){switch(n){case Mc.MASK:case Mc.HIDDEN:case Mc.IGNORE:return true;case Mc.MASK_USER_INPUT:return Ya(t)?Xc(t.parentNode):Xc(t);default:return false}}function Xc(t){if(!t||t.nodeType!==t.ELEMENT_NODE){return false}var n=t;if(n.tagName==="INPUT"){switch(n.type){case"button":case"color":case"reset":case"submit":return false}}return!!qc[n.tagName]}var Jc=function(t){return t.replace(/\S/g,Hc)};function $c(t,n,r){var e;var i=(e=t.parentElement)===null||e===void 0?void 0:e.tagName;var a=t.textContent||"";if(n&&!a.trim()){return}var u=r;var o=i==="SCRIPT";if(o){a=jc}else if(u===Mc.HIDDEN){a=jc}else if(Wc(t,u)){if(i==="DATALIST"||i==="SELECT"||i==="OPTGROUP"){if(!a.trim()){return}}else if(i==="OPTION"){a=jc}else{a=Jc(a)}}return a}function Yc(t){if(t.nodeName==="SCRIPT"){return true}if(t.nodeName==="LINK"){var n=i("rel");return/preload|prefetch/i.test(n)&&i("as")==="script"||n==="shortcut icon"||n==="icon"}if(t.nodeName==="META"){var r=i("name");var n=i("rel");var e=i("property");return/^msapplication-tile(image|color)$/.test(r)||r==="application-name"||n==="icon"||n==="apple-touch-icon"||n==="shortcut icon"||r==="keywords"||r==="description"||/^(og|twitter|fb):/.test(e)||/^(og|twitter):/.test(r)||r==="pinterest"||r==="robots"||r==="googlebot"||r==="bingbot"||t.hasAttribute("http-equiv")||r==="author"||r==="generator"||r==="framework"||r==="publisher"||r==="progid"||/^article:/.test(e)||/^product:/.test(e)||r==="google-site-verification"||r==="yandex-verification"||r==="csrf-token"||r==="p:domain_verify"||r==="verify-v1"||r==="verification"||r==="shopify-checkout-api-token"}function i(n){return(t.getAttribute(n)||"").toLowerCase()}return false}var Qc=new WeakMap;function td(t){return Qc.has(t)}function nd(t){var n=t;while(n){if(!td(n)&&!ru(n)){return false}n=au(n)}return true}function rd(t){return Qc.get(t)}function ed(t,n){Qc.set(t,n)}function id(t,n){var r=t.tagName;var e=t.value;if(Wc(t,n)){var i=t.type;if(r==="INPUT"&&(i==="button"||i==="submit"||i==="reset")){return e}else if(!e||r==="OPTION"){return}return jc}if(r==="OPTION"||r==="SELECT"){return t.value}if(r!=="INPUT"&&r!=="TEXTAREA"){return}return e}var ad=/url\((?:(')([^']*)'|(")([^"]*)"|([^)]*))\)/gm;var ud=/^[A-Za-z]+:|^\/\//;var od=/^data:.*,/i;function fd(t,n){return t.replace(ad,(function(t,r,e,i,a,u){var o=e||a||u;if(!n||!o||ud.test(o)||od.test(o)){return t}var f=r||i||"";return"url(".concat(f).concat(sd(o,n)).concat(f,")")}))}function sd(t,n){try{return Nn(t,n).href}catch(n){return t}}var cd=/[^a-z1-6-_]/;function dd(t){var n=t.toLowerCase().trim();if(cd.test(n)){return"div"}return n}function vd(t,n){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='".concat(t,"' height='").concat(n,"' style='background-color:silver'%3E%3C/svg%3E")}var ld={FullSnapshot:2,IncrementalSnapshot:3,Meta:4,Focus:6,ViewEnd:7,VisualViewport:8,FrustrationRecord:9};var hd={Document:0,DocumentType:1,Element:2,Text:3,CDATA:4,DocumentFragment:11};var _d={Mutation:0,MouseMove:1,MouseInteraction:2,Scroll:3,ViewportResize:4,Input:5,TouchMove:6,MediaInteraction:7,StyleSheetRule:8};var pd={MouseUp:0,MouseDown:1,Click:2,ContextMenu:3,DblClick:4,Focus:5,Blur:6,TouchStart:7,TouchEnd:9};var md={Play:0,Pause:1};function gd(t){if(t===undefined||t.length===0){return undefined}return t.map((function(t){var n=t.cssRules||t.rules;var r=Array.from(n,(function(t){return t.cssText}));var e={cssRules:r,disabled:t.disabled||undefined,media:t.media.length>0?Array.from(t.media):undefined};return e}))}function wd(t,n,r,e){if(n===Mc.HIDDEN){return null}var i=t.getAttribute(r);if(n===Mc.MASK&&r!==Ic&&!So.includes(r)&&r!==e.actionNameAttribute){var a=t.tagName;switch(r){case"title":case"alt":case"placeholder":return jc}if(a==="IMG"&&(r==="src"||r==="srcset")){var u=t;if(u.naturalWidth>0){return vd(u.naturalWidth,u.naturalHeight)}var o=t.getBoundingClientRect(),f=o.width,s=o.height;if(f>0||s>0){return vd(f,s)}return Zc}if(a==="SOURCE"&&(r==="src"||r==="srcset")){return Zc}if(a==="A"&&r==="href"){return jc}if(i&&X(r,"data-")){return jc}if(a==="IFRAME"&&r==="srcdoc"){return jc}}if(!i||typeof i!=="string"){return i}if(Ja(i)){return $a(i)}return i}function yd(t,n,r){var e;if(n===Mc.HIDDEN){return{}}var i={};var a=dd(t.tagName);var u=t.ownerDocument;for(var o=0;o<t.attributes.length;o+=1){var f=t.attributes.item(o);var s=f.name;var c=wd(t,n,s,r.configuration);if(c!==null){i[s]=c}}if(t.value&&(a==="textarea"||a==="select"||a==="option"||a==="input")){var d=id(t,n);if(d!==undefined){i.value=d}}if(a==="option"&&n===Mc.ALLOW){var v=t;if(v.selected){i.selected=v.selected}}if(a==="link"){var l=Array.from(u.styleSheets).find((function(n){return n.href===t.href}));var h=bd(l);if(h&&l){i._cssText=h}}if(a==="style"&&t.sheet){var h=bd(t.sheet);if(h){i._cssText=h}}var _=t;if(a==="input"&&(_.type==="radio"||_.type==="checkbox")){if(n===Mc.ALLOW){i.checked=!!_.checked}else if(Wc(_,n)){delete i.checked}}if(a==="audio"||a==="video"){var p=t;i.rr_mediaState=p.paused?"paused":"played"}var m;var g;var w=r.serializationContext;switch(w.status){case 0:m=Math.round(t.scrollTop);g=Math.round(t.scrollLeft);if(m||g){w.elementsScrollPositions.set(t,{scrollTop:m,scrollLeft:g})}break;case 1:if(w.elementsScrollPositions.has(t)){e=w.elementsScrollPositions.get(t),m=e.scrollTop,g=e.scrollLeft}break}if(g){i.rr_scrollLeft=g}if(m){i.rr_scrollTop=m}return i}function bd(t){if(!t){return null}var n;try{n=t.rules||t.cssRules}catch(t){}if(!n){return null}var r=Array.from(n,Rt()?kd:xd).join("");return fd(r,t.href)}function kd(t){if(Ed(t)&&t.selectorText.includes(":")){var n=/(\[[\w-]+[^\\])(:[^\]]+\])/g;return t.cssText.replace(n,"$1\\$2")}return xd(t)}function xd(t){return Sd(t)&&bd(t.styleSheet)||t.cssText}function Sd(t){return"styleSheet"in t}function Ed(t){return"selectorText"in t}function Ad(t,n){var r=zd(t,n);if(!r){return null}var e=rd(t)||Cd();var i=r;i.id=e;ed(t,e);if(n.serializedNodeIds){n.serializedNodeIds.add(e)}return i}var Rd=1;function Cd(){return Rd++}function Td(t,n){var r=[];iu(t,(function(t){var e=Ad(t,n);if(e){r.push(e)}}));return r}function zd(t,n){switch(t.nodeType){case t.DOCUMENT_NODE:return Md(t,n);case t.DOCUMENT_FRAGMENT_NODE:return Id(t,n);case t.DOCUMENT_TYPE_NODE:return Od(t);case t.ELEMENT_NODE:return Ld(t,n);case t.TEXT_NODE:return Nd(t,n);case t.CDATA_SECTION_NODE:return Dd()}}function Md(t,n){return{type:hd.Document,childNodes:Td(t,n),adoptedStyleSheets:gd(t.adoptedStyleSheets)}}function Id(t,n){var r=ru(t);if(r){n.serializationContext.shadowRootsController.addShadowRoot(t)}return{type:hd.DocumentFragment,childNodes:Td(t,n),isShadowRoot:r,adoptedStyleSheets:r?gd(t.adoptedStyleSheets):undefined}}function Od(t){return{type:hd.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId}}function Ld(t,n){var r;var e=dd(t.tagName);var i=Ud(t)||undefined;var a=Kc(Gc(t),n.parentNodePrivacyLevel);if(a===Mc.HIDDEN){var u=t.getBoundingClientRect(),o=u.width,f=u.height;return{type:hd.Element,tagName:e,attributes:(r={rr_width:"".concat(o,"px"),rr_height:"".concat(f,"px")},r[Ic]=Nc,r),childNodes:[],isSVG:i}}if(a===Mc.IGNORE){return}var s=yd(t,a,n);var c=[];if(eu(t)&&e!=="style"){var d=void 0;if(n.parentNodePrivacyLevel===a&&n.ignoreWhiteSpace===(e==="head")){d=n}else{d=$({},n,{parentNodePrivacyLevel:a,ignoreWhiteSpace:e==="head"})}c=Td(t,d)}return{type:hd.Element,tagName:e,attributes:s,childNodes:c,isSVG:i}}function Ud(t){return t.tagName==="svg"||t instanceof SVGElement}function Nd(t,n){var r=$c(t,n.ignoreWhiteSpace||false,n.parentNodePrivacyLevel);if(r===undefined){return}return{type:hd.Text,textContent:r}}function Dd(){return{type:hd.CDATA,textContent:""}}function Bd(t,n,r){return Ad(t,{serializationContext:r,parentNodePrivacyLevel:n.defaultPrivacyLevel,configuration:n})}function Pd(t){return Boolean(t.changedTouches)}function Fd(t){if(t.composed===true&&nu(t.target)){return t.composedPath()[0]}return t.target}var jd=25;function Zd(t){return Math.abs(t.pageTop-t.offsetTop-window.scrollY)>jd||Math.abs(t.pageLeft-t.offsetLeft-window.scrollX)>jd}var qd=function(t,n){var r=window.visualViewport;var e={layoutViewportX:t,layoutViewportY:n,visualViewportX:t,visualViewportY:n};if(!r){return e}else if(Zd(r)){e.layoutViewportX=Math.round(t+r.offsetLeft);e.layoutViewportY=Math.round(n+r.offsetTop)}else{e.visualViewportX=Math.round(t-r.offsetLeft);e.visualViewportY=Math.round(n-r.offsetTop)}return e};var Hd=function(t){return{scale:t.scale,offsetLeft:t.offsetLeft,offsetTop:t.offsetTop,pageLeft:t.pageLeft,pageTop:t.pageTop,height:t.height,width:t.width}};function Vd(t,n){return{data:$({source:t},n),type:ld.IncrementalSnapshot,timestamp:A()}}var Kd=50;function Gd(t,n){var r=gt((function(t){var r=Fd(t);if(td(r)){var e=Wd(t);if(!e){return}var i={id:rd(r),timeOffset:0,x:e.x,y:e.y};n(Vd(Pd(t)?_d.TouchMove:_d.MouseMove,{positions:[i]}))}}),Kd,{trailing:false}),e=r.throttled,i=r.cancel;var a=ae(t,document,[ee.MOUSE_MOVE,ee.TOUCH_MOVE],e,{capture:true,passive:true}).stop;return{stop:function(){a();i()}}}function Wd(t){var n=Pd(t)?t.changedTouches[0]:t,r=n.clientX,e=n.clientY;if(window.visualViewport){var i=qd(r,e),a=i.visualViewportX,u=i.visualViewportY;r=a;e=u}if(!Number.isFinite(r)||!Number.isFinite(e)){if(t.isTrusted){Ie("mouse/touch event without x/y")}return undefined}return{x:r,y:e}}var Xd;var Jd=(Xd={},Xd[ee.POINTER_UP]=pd.MouseUp,Xd[ee.MOUSE_DOWN]=pd.MouseDown,Xd[ee.CLICK]=pd.Click,Xd[ee.CONTEXT_MENU]=pd.ContextMenu,Xd[ee.DBL_CLICK]=pd.DblClick,Xd[ee.FOCUS]=pd.Focus,Xd[ee.BLUR]=pd.Blur,Xd[ee.TOUCH_START]=pd.TouchStart,Xd[ee.TOUCH_END]=pd.TouchEnd,Xd);function $d(t,n,r){var e=function(e){var i=Fd(e);if(Vc(i,t.defaultPrivacyLevel)===Mc.HIDDEN||!td(i)){return}var a=rd(i);var u=Jd[e.type];var o;if(u!==pd.Blur&&u!==pd.Focus){var f=Wd(e);if(!f){return}o={id:a,type:u,x:f.x,y:f.y}}else{o={id:a,type:u}}var s=$({id:r.getIdForEvent(e)},Vd(_d.MouseInteraction,o));n(s)};return ae(t,document,Object.keys(Jd),e,{capture:true,passive:true})}var Yd=100;function Qd(t,n,r,e){if(e===void 0){e=document}var i=gt((function(e){var i=Fd(e);if(!i||Vc(i,t.defaultPrivacyLevel)===Mc.HIDDEN||!td(i)){return}var a=rd(i);var u=i===document?{scrollTop:os(),scrollLeft:us()}:{scrollTop:Math.round(i.scrollTop),scrollLeft:Math.round(i.scrollLeft)};r.set(i,u);n(Vd(_d.Scroll,{id:a,x:u.scrollLeft,y:u.scrollTop}))}),Yd),a=i.throttled,u=i.cancel;var o=ie(t,e,ee.SCROLL,a,{capture:true,passive:true}).stop;return{stop:function(){o();u()}}}function tv(t,n){var r=ss(t).subscribe((function(t){n(Vd(_d.ViewportResize,t))}));return{stop:function(){r.unsubscribe()}}}function nv(t,n){return ae(t,document,[ee.PLAY,ee.PAUSE],(function(r){var e=Fd(r);if(!e||Vc(e,t.defaultPrivacyLevel)===Mc.HIDDEN||!td(e)){return}n(Vd(_d.MediaInteraction,{id:rd(e),type:r.type===ee.PLAY?md.Play:md.Pause}))}),{capture:true,passive:true})}function rv(t){function n(t,n){if(t&&td(t.ownerNode)){n(rd(t.ownerNode))}}var r=[dr(CSSStyleSheet.prototype,"insertRule",(function(r){var e=r.target,i=r.parameters,a=i[0],u=i[1];n(e,(function(n){return t(Vd(_d.StyleSheetRule,{id:n,adds:[{rule:a,index:u}]}))}))})),dr(CSSStyleSheet.prototype,"deleteRule",(function(r){var e=r.target,i=r.parameters[0];n(e,(function(n){return t(Vd(_d.StyleSheetRule,{id:n,removes:[{index:i}]}))}))}))];if(typeof CSSGroupingRule!=="undefined"){e(CSSGroupingRule)}else{e(CSSMediaRule);e(CSSSupportsRule)}function e(e){r.push(dr(e.prototype,"insertRule",(function(r){var e=r.target,i=r.parameters,a=i[0],u=i[1];n(e.parentStyleSheet,(function(n){var r=ev(e);if(r){r.push(u||0);t(Vd(_d.StyleSheetRule,{id:n,adds:[{rule:a,index:r}]}))}}))})),dr(e.prototype,"deleteRule",(function(r){var e=r.target,i=r.parameters[0];n(e.parentStyleSheet,(function(n){var r=ev(e);if(r){r.push(i);t(Vd(_d.StyleSheetRule,{id:n,removes:[{index:r}]}))}}))})))}return{stop:function(){r.forEach((function(t){return t.stop()}))}}}function ev(t){var n=[];var r=t;while(r.parentRule){var e=Array.from(r.parentRule.cssRules);var i=e.indexOf(r);n.unshift(i);r=r.parentRule}if(!r.parentStyleSheet){return}var a=Array.from(r.parentStyleSheet.cssRules);var u=a.indexOf(r);n.unshift(u);return n}function iv(t,n){return ae(t,window,[ee.FOCUS,ee.BLUR],(function(){n({data:{has_focus:document.hasFocus()},type:ld.Focus,timestamp:A()})}))}function av(t,n,r){var e=t.subscribe(12,(function(t){var e,i,a;if(t.rawRumEvent.type==="action"&&t.rawRumEvent.action.type==="click"&&((i=(e=t.rawRumEvent.action.frustration)===null||e===void 0?void 0:e.type)===null||i===void 0?void 0:i.length)&&"events"in t.domainContext&&((a=t.domainContext.events)===null||a===void 0?void 0:a.length)){n({timestamp:t.rawRumEvent.date,type:ld.FrustrationRecord,data:{frustrationTypes:t.rawRumEvent.action.frustration.type,recordIds:t.domainContext.events.map((function(t){return r.getIdForEvent(t)}))}})}}));return{stop:function(){e.unsubscribe()}}}function uv(t,n){var r=t.subscribe(5,(function(){n({timestamp:A(),type:ld.ViewEnd})}));return{stop:function(){r.unsubscribe()}}}function ov(t,n,r){if(r===void 0){r=document}var e=t.defaultPrivacyLevel;var i=new WeakMap;var a=r!==document;var u=ae(t,r,a?[ee.CHANGE]:[ee.INPUT,ee.CHANGE],(function(t){var n=Fd(t);if(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement){s(n)}}),{capture:true,passive:true}).stop;var o;if(!a){var f=[lr(HTMLInputElement.prototype,"value",s),lr(HTMLInputElement.prototype,"checked",s),lr(HTMLSelectElement.prototype,"value",s),lr(HTMLTextAreaElement.prototype,"value",s),lr(HTMLSelectElement.prototype,"selectedIndex",s)];o=function(){f.forEach((function(t){return t.stop()}))}}else{o=wt}return{stop:function(){o();u()}};function s(t){var n=Vc(t,e);if(n===Mc.HIDDEN){return}var r=t.type;var i;if(r==="radio"||r==="checkbox"){if(Wc(t,n)){return}i={isChecked:t.checked}}else{var a=id(t,n);if(a===undefined){return}i={text:a}}c(t,i);var u=t.name;if(r==="radio"&&u&&t.checked){K(document.querySelectorAll('input[type="radio"][name="'.concat(no(u),'"]')),(function(n){if(n!==t){c(n,{isChecked:false})}}))}}function c(t,r){if(!td(t)){return}var e=i.get(t);if(!e||e.text!==r.text||e.isChecked!==r.isChecked){i.set(t,r);n(Vd(_d.Input,$({id:rd(t)},r)))}}}var fv=100;function sv(t){var n=wt;var r=[];function e(){n();t(r);r=[]}return{addMutations:function(t){if(r.length===0){n=cv(e,{timeout:fv})}r.push.apply(r,t)},flush:e,stop:function(){n()}}}function cv(t,n){if(window.requestIdleCallback&&window.cancelIdleCallback){var r=window.requestIdleCallback(st(t),n);return function(){return window.cancelIdleCallback(r)}}var e=window.requestAnimationFrame(st(t));return function(){return window.cancelAnimationFrame(e)}}function dv(t,n,r,e){var i=Ua();if(!i){return{stop:wt,flush:wt}}var a=sv((function(e){vv(e.concat(u.takeRecords()),t,n,r)}));var u=new i(st(a.addMutations));u.observe(e,{attributeOldValue:true,attributes:true,characterData:true,characterDataOldValue:true,childList:true,subtree:true});return{stop:function(){u.disconnect();a.stop()},flush:function(){a.flush()}}}function vv(t,n,r,e){var i=new Map;t.filter((function(t){return t.type==="childList"})).forEach((function(t){t.removedNodes.forEach((function(t){mv(t,e.removeShadowRoot)}))}));var a=t.filter((function(t){return t.target.isConnected&&nd(t.target)&&Vc(t.target,r.defaultPrivacyLevel,i)!==Mc.HIDDEN}));var u=lv(a.filter((function(t){return t.type==="childList"})),r,e,i),o=u.adds,f=u.removes,s=u.hasBeenSerialized;var c=hv(a.filter((function(t){return t.type==="characterData"&&!s(t.target)})),r,i);var d=_v(a.filter((function(t){return t.type==="attributes"&&!s(t.target)})),r,i);if(!c.length&&!d.length&&!f.length&&!o.length){return}n(Vd(_d.Mutation,{adds:o,removes:f,texts:c,attributes:d}))}function lv(t,n,r,e){var i=new Set;var a=new Map;var u=function(t){t.addedNodes.forEach((function(t){i.add(t)}));t.removedNodes.forEach((function(n){if(!i.has(n)){a.set(n,t.target)}i.delete(n)}))};for(var o=0,f=t;o<f.length;o++){var s=f[o];u(s)}var c=Array.from(i);pv(c);var d=new Set;var v=[];for(var l=0,h=c;l<h.length;l++){var _=h[l];if(y(_)){continue}var p=Vc(_.parentNode,n.defaultPrivacyLevel,e);if(p===Mc.HIDDEN||p===Mc.IGNORE){continue}var m=Ad(_,{serializedNodeIds:d,parentNodePrivacyLevel:p,serializationContext:{status:2,shadowRootsController:r},configuration:n});if(!m){continue}var g=au(_);v.push({nextId:b(_),parentId:rd(g),node:m})}var w=[];a.forEach((function(t,n){if(td(n)){w.push({parentId:rd(t),id:rd(n)})}}));return{adds:v,removes:w,hasBeenSerialized:y};function y(t){return td(t)&&d.has(rd(t))}function b(t){var n=t.nextSibling;while(n){if(td(n)){return rd(n)}n=n.nextSibling}return null}}function hv(t,n,r){var e;var i=[];var a=new Set;var u=t.filter((function(t){if(a.has(t.target)){return false}a.add(t.target);return true}));for(var o=0,f=u;o<f.length;o++){var s=f[o];var c=s.target.textContent;if(c===s.oldValue){continue}var d=Vc(au(s.target),n.defaultPrivacyLevel,r);if(d===Mc.HIDDEN||d===Mc.IGNORE){continue}i.push({id:rd(s.target),value:(e=$c(s.target,false,d))!==null&&e!==void 0?e:null})}return i}function _v(t,n,r){var e=[];var i=new Map;var a=t.filter((function(t){var n=i.get(t.target);if(n===null||n===void 0?void 0:n.has(t.attributeName)){return false}if(!n){i.set(t.target,new Set([t.attributeName]))}else{n.add(t.attributeName)}return true}));var u=new Map;for(var o=0,f=a;o<f.length;o++){var s=f[o];var c=s.target.getAttribute(s.attributeName);if(c===s.oldValue){continue}var d=Vc(s.target,n.defaultPrivacyLevel,r);var v=wd(s.target,d,s.attributeName,n);var l=void 0;if(s.attributeName==="value"){var h=id(s.target,d);if(h===undefined){continue}l=h}else if(typeof v==="string"){l=v}else{l=null}var _=u.get(s.target);if(!_){_={id:rd(s.target),attributes:{}};e.push(_);u.set(s.target,_)}_.attributes[s.attributeName]=l}return e}function pv(t){t.sort((function(t,n){var r=t.compareDocumentPosition(n);if(r&Node.DOCUMENT_POSITION_CONTAINED_BY){return-1}else if(r&Node.DOCUMENT_POSITION_CONTAINS){return 1}else if(r&Node.DOCUMENT_POSITION_FOLLOWING){return 1}else if(r&Node.DOCUMENT_POSITION_PRECEDING){return-1}return 0}))}function mv(t,n){if(nu(t)){n(t.shadowRoot)}iu(t,(function(t){return mv(t,n)}))}function gv(){var t=new WeakMap;return{set:function(n,r){if(n===document&&!document.scrollingElement){return}t.set(n===document?document.scrollingElement:n,r)},get:function(n){return t.get(n)},has:function(n){return t.has(n)}}}var wv=function(t,n,r){var e=new Map;var i={addShadowRoot:function(a){if(e.has(a)){return}var u=dv(n,t,i,a);var o=ov(t,n,a);var f=Qd(t,n,r,a);e.set(a,{flush:function(){return u.flush()},stop:function(){u.stop();o.stop();f.stop()}})},removeShadowRoot:function(t){var n=e.get(t);if(!n){return}n.stop();e.delete(t)},stop:function(){e.forEach((function(t){var n=t.stop;return n()}))},flush:function(){e.forEach((function(t){var n=t.flush;return n()}))}};return i};function yv(t,n,r,e,i,a){var u=function(r,i){if(r===void 0){r=A()}if(i===void 0){i={status:0,elementsScrollPositions:t,shadowRootsController:n}}var a=ds(),u=a.width,o=a.height;var f=[{data:{height:o,href:window.location.href,width:u},type:ld.Meta,timestamp:r},{data:{has_focus:document.hasFocus()},type:ld.Focus,timestamp:r},{data:{node:Bd(document,e,i),initialOffset:{left:us(),top:os()}},type:ld.FullSnapshot,timestamp:r}];if(window.visualViewport){f.push({data:Hd(window.visualViewport),type:ld.VisualViewport,timestamp:r})}return f};a(u());var o=r.subscribe(3,(function(r){i();a(u(r.startClocks.timeStamp,{shadowRootsController:n,status:1,elementsScrollPositions:t}))})).unsubscribe;return{stop:o}}function bv(){var t=new WeakMap;var n=1;return{getIdForEvent:function(r){if(!t.has(r)){t.set(r,n++)}return t.get(r)}}}function kv(t){var n=t.emit,r=t.configuration,e=t.lifeCycle;if(!n){throw new Error("emit function is required")}var i=function(r){n(r);le("record",{record:r});var e=t.viewContexts.findView();Ac(e.id)};var a=gv();var u=wv(r,i,a);var o=yv(a,u,e,r,f,(function(t){return t.forEach((function(t){return i(t)}))})).stop;function f(){u.flush();c.flush()}var s=bv();var c=dv(i,r,u,document);var d=[c,Gd(r,i),$d(r,i,s),Qd(r,i,a,document),tv(r,i),ov(r,i),nv(r,i),rv(i),iv(r,i),tv(r,i),av(e,i,s),uv(e,(function(t){f();i(t)}))];return{stop:function(){u.stop();d.forEach((function(t){return t.stop()}));o()},flushMutations:f,shadowRootsController:u}}function xv(t,n,r){var e=new FormData;e.append("segment",new Blob([t],{type:"application/octet-stream"}),"".concat(n.session.id,"-").concat(n.start));var i=$({raw_segment_size:r,compressed_segment_size:t.byteLength},n);var a=JSON.stringify(i);e.append("event",new Blob([a],{type:"application/json"}));return{data:e,bytesCount:t.byteLength}}var Sv=function(){function t(t,n,r){this.encoder=t;this.encodedBytesCount=0;var e=n.view.id;this.metadata=$({start:Infinity,end:-Infinity,creation_reason:r,records_count:0,has_full_snapshot:false,index_in_view:Sc(e),source:"browser"},n);Ec(e)}t.prototype.addRecord=function(t,n){var r=this;var e;this.metadata.start=Math.min(this.metadata.start,t.timestamp);this.metadata.end=Math.max(this.metadata.end,t.timestamp);this.metadata.records_count+=1;(e=this.metadata).has_full_snapshot||(e.has_full_snapshot=t.type===ld.FullSnapshot);var i=this.encoder.isEmpty?'{"records":[':",";this.encoder.write(i+JSON.stringify(t),(function(t){r.encodedBytesCount+=t;n(r.encodedBytesCount)}))};t.prototype.flush=function(t){var n=this;if(this.encoder.isEmpty){throw new Error("Empty segment flushed")}this.encoder.write("],".concat(JSON.stringify(this.metadata).slice(1),"\n"));this.encoder.finish((function(r){Rc(n.metadata.view.id,r.rawBytesCount);t(n.metadata,r)}))};return t}();var Ev=30*_;var Av=6e4;function Rv(t,n,r,e,i,a){return Cv(t,(function(){return Tv(n.applicationId,r,e)}),i,a)}function Cv(t,n,r,e){var i={status:0,nextSegmentCreationReason:"init"};var a=t.subscribe(3,(function(){o("view_change")})).unsubscribe;var u=t.subscribe(11,(function(t){o(t.reason)})).unsubscribe;function o(t){if(i.status===1){i.segment.flush((function(n,e){var i=xv(e.output,n,e.rawBytesCount);if(bi(t)){r.sendOnExit(i)}else{r.send(i)}}));lt(i.expirationTimeoutId)}if(t!=="stop"){i={status:0,nextSegmentCreationReason:t}}else{i={status:2}}}return{addRecord:function(t){if(i.status===2){return}if(i.status===0){var r=n();if(!r){return}i={status:1,segment:new Sv(e,r,i.nextSegmentCreationReason),expirationTimeoutId:vt((function(){o("segment_duration_limit")}),Ev)}}i.segment.addRecord(t,(function(t){if(t>Av){o("segment_bytes_limit")}}))},stop:function(){o("stop");a();u()}}}function Tv(t,n,r){var e=n.findTrackedSession();var i=r.findView();if(!e||!i){return undefined}return{application:{id:t},session:{id:e.id},view:{id:i.id}}}function zv(t){var n=_i();return{addRecord:function(r){var e=t.findView();n.send("record",r,e.id)}}}function Mv(t,n,r,e,i,a){var u=[];var o=function(n){t.notify(14,{error:n});Ie("Error reported to customer",{"error.message":n.message})};var f=a||fi(n,n.sessionReplayEndpointBuilder,Av,o);var s;if(!mi()){var c=Rv(t,n,r,e,f,i);s=c.addRecord;u.push(c.stop)}else{s=zv(e).addRecord}var d=kv({emit:s,configuration:n,lifeCycle:t,viewContexts:e}).stop;u.push(d);return{stop:function(){u.forEach((function(t){return t()}))}}}function Iv(){return typeof Array.from==="function"&&typeof CSSSupportsRule==="function"&&typeof URL.createObjectURL==="function"&&"forEach"in NodeList.prototype}function Ov(t,n,r,e){var i=n.findTrackedSession();var a=Lv(i,e);var u=r.findView();return wc(t,{viewContext:u,errorType:a,session:i})}function Lv(t,n){if(!Iv()){return"browser-not-supported"}if(!t){return"rum-not-tracked"}if(!t.sessionReplayAllowed){return"incorrect-session-plan"}if(!n){return"replay-not-started"}}function Uv(t,n,r){var e=0;var i=[];var a;var u=0;var o=[];var f=ie(t,n,"message",(function(t){var n=t.data;if(n.type!=="wrote"||n.streamId!==r){return}e+=n.additionalBytesCount;i.push(n.result);a=n.trailer;var u=o.shift();if(u&&u.id===n.id){if(u.writeCallback){u.writeCallback(n.result.byteLength)}else if(u.finishCallback){u.finishCallback()}}else{f();Ie("Worker responses received out of order.")}})).stop;function s(){var t=i.length===0?new Uint8Array(0):j(i.concat(a));var n={rawBytesCount:e,output:t,outputBytesCount:t.byteLength,encoding:"deflate"};e=0;i=[];return n}function c(){if(u>0){n.postMessage({action:"reset",streamId:r});u=0}}return{isAsync:true,get isEmpty(){return u===0},write:function(t,e){n.postMessage({action:"write",id:u,data:t,streamId:r});o.push({id:u,writeCallback:e,data:t});u+=1},finish:function(t){c();if(!o.length){t(s())}else{o.forEach((function(t){delete t.writeCallback}));o[o.length-1].finishCallback=function(){return t(s())}}},finishSync:function(){c();var t=o.map((function(t){delete t.writeCallback;delete t.finishCallback;return t.data})).join("");return $(s(),{pendingData:t})},estimateEncodedBytesCount:function(t){return t.length/8},stop:function(){f()}}}var Nv=10*_;function Dv(t){return new Worker(t.workerUrl||URL.createObjectURL(new Blob(['!function(){"use strict";function t(t){for(var e=t.reduce((function(t,e){return t+e.length}),0),a=new Uint8Array(e),n=0,r=0,i=t;r<i.length;r++){var s=i[r];a.set(s,n),n+=s.length}return a}function e(t){for(var e=t.length;--e>=0;)t[e]=0}var a=256,n=286,r=30,i=15,s=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),_=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),h=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),l=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=new Array(576);e(o);var d=new Array(60);e(d);var u=new Array(512);e(u);var f=new Array(256);e(f);var c=new Array(29);e(c);var p,g,w,v=new Array(r);function b(t,e,a,n,r){this.static_tree=t,this.extra_bits=e,this.extra_base=a,this.elems=n,this.max_length=r,this.has_stree=t&&t.length}function m(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}e(v);var y=function(t){return t<256?u[t]:u[256+(t>>>7)]},k=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},z=function(t,e,a){t.bi_valid>16-a?(t.bi_buf|=e<<t.bi_valid&65535,k(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=a-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=a)},x=function(t,e,a){z(t,a[2*e],a[2*e+1])},A=function(t,e){var a=0;do{a|=1&t,t>>>=1,a<<=1}while(--e>0);return a>>>1},E=function(t,e,a){var n,r,s=new Array(16),_=0;for(n=1;n<=i;n++)s[n]=_=_+a[n-1]<<1;for(r=0;r<=e;r++){var h=t[2*r+1];0!==h&&(t[2*r]=A(s[h]++,h))}},Z=function(t){var e;for(e=0;e<n;e++)t.dyn_ltree[2*e]=0;for(e=0;e<r;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},U=function(t){t.bi_valid>8?k(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},S=function(t,e,a,n){var r=2*e,i=2*a;return t[r]<t[i]||t[r]===t[i]&&n[e]<=n[a]},R=function(t,e,a){for(var n=t.heap[a],r=a<<1;r<=t.heap_len&&(r<t.heap_len&&S(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!S(e,n,t.heap[r],t.depth));)t.heap[a]=t.heap[r],a=r,r<<=1;t.heap[a]=n},L=function(t,e,n){var r,i,h,l,o=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*o]<<8|t.pending_buf[t.d_buf+2*o+1],i=t.pending_buf[t.l_buf+o],o++,0===r?x(t,i,e):(h=f[i],x(t,h+a+1,e),0!==(l=s[h])&&(i-=c[h],z(t,i,l)),r--,h=y(r),x(t,h,n),0!==(l=_[h])&&(r-=v[h],z(t,r,l)))}while(o<t.last_lit);x(t,256,e)},F=function(t,e){var a,n,r,s=e.dyn_tree,_=e.stat_desc.static_tree,h=e.stat_desc.has_stree,l=e.stat_desc.elems,o=-1;for(t.heap_len=0,t.heap_max=573,a=0;a<l;a++)0!==s[2*a]?(t.heap[++t.heap_len]=o=a,t.depth[a]=0):s[2*a+1]=0;for(;t.heap_len<2;)s[2*(r=t.heap[++t.heap_len]=o<2?++o:0)]=1,t.depth[r]=0,t.opt_len--,h&&(t.static_len-=_[2*r+1]);for(e.max_code=o,a=t.heap_len>>1;a>=1;a--)R(t,s,a);r=l;do{a=t.heap[1],t.heap[1]=t.heap[t.heap_len--],R(t,s,1),n=t.heap[1],t.heap[--t.heap_max]=a,t.heap[--t.heap_max]=n,s[2*r]=s[2*a]+s[2*n],t.depth[r]=(t.depth[a]>=t.depth[n]?t.depth[a]:t.depth[n])+1,s[2*a+1]=s[2*n+1]=r,t.heap[1]=r++,R(t,s,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var a,n,r,s,_,h,l=e.dyn_tree,o=e.max_code,d=e.stat_desc.static_tree,u=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(s=0;s<=i;s++)t.bl_count[s]=0;for(l[2*t.heap[t.heap_max]+1]=0,a=t.heap_max+1;a<573;a++)(s=l[2*l[2*(n=t.heap[a])+1]+1]+1)>p&&(s=p,g++),l[2*n+1]=s,n>o||(t.bl_count[s]++,_=0,n>=c&&(_=f[n-c]),h=l[2*n],t.opt_len+=h*(s+_),u&&(t.static_len+=h*(d[2*n+1]+_)));if(0!==g){do{for(s=p-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(s=p;0!==s;s--)for(n=t.bl_count[s];0!==n;)(r=t.heap[--a])>o||(l[2*r+1]!==s&&(t.opt_len+=(s-l[2*r+1])*l[2*r],l[2*r+1]=s),n--)}}(t,e),E(s,o,t.bl_count)},T=function(t,e,a){var n,r,i=-1,s=e[1],_=0,h=7,l=4;for(0===s&&(h=138,l=3),e[2*(a+1)+1]=65535,n=0;n<=a;n++)r=s,s=e[2*(n+1)+1],++_<h&&r===s||(_<l?t.bl_tree[2*r]+=_:0!==r?(r!==i&&t.bl_tree[2*r]++,t.bl_tree[32]++):_<=10?t.bl_tree[34]++:t.bl_tree[36]++,_=0,i=r,0===s?(h=138,l=3):r===s?(h=6,l=3):(h=7,l=4))},I=function(t,e,a){var n,r,i=-1,s=e[1],_=0,h=7,l=4;for(0===s&&(h=138,l=3),n=0;n<=a;n++)if(r=s,s=e[2*(n+1)+1],!(++_<h&&r===s)){if(_<l)do{x(t,r,t.bl_tree)}while(0!=--_);else 0!==r?(r!==i&&(x(t,r,t.bl_tree),_--),x(t,16,t.bl_tree),z(t,_-3,2)):_<=10?(x(t,17,t.bl_tree),z(t,_-3,3)):(x(t,18,t.bl_tree),z(t,_-11,7));_=0,i=r,0===s?(h=138,l=3):r===s?(h=6,l=3):(h=7,l=4)}},N=!1,O=function(t,e,a,n){z(t,0+(n?1:0),3),function(t,e,a,n){U(t),n&&(k(t,a),k(t,~a)),t.pending_buf.set(t.window.subarray(e,e+a),t.pending),t.pending+=a}(t,e,a,!0)},D=function(t,e,n,r){var i,s,_=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<a;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),F(t,t.l_desc),F(t,t.d_desc),_=function(t){var e;for(T(t,t.dyn_ltree,t.l_desc.max_code),T(t,t.dyn_dtree,t.d_desc.max_code),F(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*l[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==e?O(t,e,n,r):4===t.strategy||s===i?(z(t,2+(r?1:0),3),L(t,o,d)):(z(t,4+(r?1:0),3),function(t,e,a,n){var r;for(z(t,e-257,5),z(t,a-1,5),z(t,n-4,4),r=0;r<n;r++)z(t,t.bl_tree[2*l[r]+1],3);I(t,t.dyn_ltree,e-1),I(t,t.dyn_dtree,a-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,_+1),L(t,t.dyn_ltree,t.dyn_dtree)),Z(t),r&&U(t)},B={_tr_init:function(t){N||(!function(){var t,e,a,l,m,y=new Array(16);for(a=0,l=0;l<28;l++)for(c[l]=a,t=0;t<1<<s[l];t++)f[a++]=l;for(f[a-1]=l,m=0,l=0;l<16;l++)for(v[l]=m,t=0;t<1<<_[l];t++)u[m++]=l;for(m>>=7;l<r;l++)for(v[l]=m<<7,t=0;t<1<<_[l]-7;t++)u[256+m++]=l;for(e=0;e<=i;e++)y[e]=0;for(t=0;t<=143;)o[2*t+1]=8,t++,y[8]++;for(;t<=255;)o[2*t+1]=9,t++,y[9]++;for(;t<=279;)o[2*t+1]=7,t++,y[7]++;for(;t<=287;)o[2*t+1]=8,t++,y[8]++;for(E(o,287,y),t=0;t<r;t++)d[2*t+1]=5,d[2*t]=A(t,5);p=new b(o,s,257,n,i),g=new b(d,_,0,r,i),w=new b(new Array(0),h,0,19,7)}(),N=!0),t.l_desc=new m(t.dyn_ltree,p),t.d_desc=new m(t.dyn_dtree,g),t.bl_desc=new m(t.bl_tree,w),t.bi_buf=0,t.bi_valid=0,Z(t)},_tr_stored_block:O,_tr_flush_block:D,_tr_tally:function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(f[n]+a+1)]++,t.dyn_dtree[2*y(e)]++),t.last_lit===t.lit_bufsize-1},_tr_align:function(t){z(t,2,3),x(t,256,o),function(t){16===t.bi_valid?(k(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},C=function(t,e,a,n){for(var r=65535&t|0,i=t>>>16&65535|0,s=0;0!==a;){a-=s=a>2e3?2e3:a;do{i=i+(r=r+e[n++]|0)|0}while(--s);r%=65521,i%=65521}return r|i<<16|0},H=new Uint32Array(function(){for(var t,e=[],a=0;a<256;a++){t=a;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[a]=t}return e}()),M=function(t,e,a,n){var r=H,i=n+a;t^=-1;for(var s=n;s<i;s++)t=t>>>8^r[255&(t^e[s])];return-1^t},Y={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},K={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},P=B._tr_init,j=B._tr_stored_block,G=B._tr_flush_block,X=B._tr_tally,W=B._tr_align,q=K.Z_NO_FLUSH,J=K.Z_PARTIAL_FLUSH,Q=K.Z_FULL_FLUSH,V=K.Z_FINISH,$=K.Z_BLOCK,tt=K.Z_OK,et=K.Z_STREAM_END,at=K.Z_STREAM_ERROR,nt=K.Z_DATA_ERROR,rt=K.Z_BUF_ERROR,it=K.Z_DEFAULT_COMPRESSION,st=K.Z_FILTERED,_t=K.Z_HUFFMAN_ONLY,ht=K.Z_RLE,lt=K.Z_FIXED,ot=K.Z_DEFAULT_STRATEGY,dt=K.Z_UNKNOWN,ut=K.Z_DEFLATED,ft=258,ct=262,pt=103,gt=113,wt=666,vt=function(t,e){return t.msg=Y[e],e},bt=function(t){return(t<<1)-(t>4?9:0)},mt=function(t){for(var e=t.length;--e>=0;)t[e]=0},yt=function(t,e,a){return(e<<t.hash_shift^a)&t.hash_mask},kt=function(t){var e=t.state,a=e.pending;a>t.avail_out&&(a=t.avail_out),0!==a&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+a),t.next_out),t.next_out+=a,e.pending_out+=a,t.total_out+=a,t.avail_out-=a,e.pending-=a,0===e.pending&&(e.pending_out=0))},zt=function(t,e){G(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,kt(t.strm)},xt=function(t,e){t.pending_buf[t.pending++]=e},At=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Et=function(t,e){var a,n,r=t.max_chain_length,i=t.strstart,s=t.prev_length,_=t.nice_match,h=t.strstart>t.w_size-ct?t.strstart-(t.w_size-ct):0,l=t.window,o=t.w_mask,d=t.prev,u=t.strstart+ft,f=l[i+s-1],c=l[i+s];t.prev_length>=t.good_match&&(r>>=2),_>t.lookahead&&(_=t.lookahead);do{if(l[(a=e)+s]===c&&l[a+s-1]===f&&l[a]===l[i]&&l[++a]===l[i+1]){i+=2,a++;do{}while(l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&l[++i]===l[++a]&&i<u);if(n=ft-(u-i),i=u-ft,n>s){if(t.match_start=e,s=n,n>=_)break;f=l[i+s-1],c=l[i+s]}}}while((e=d[e&o])>h&&0!=--r);return s<=t.lookahead?s:t.lookahead},Zt=function(t){var e,a,n,r,i,s,_,h,l,o,d=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-ct)){t.window.set(t.window.subarray(d,d+d),0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=a=t.hash_size;do{n=t.head[--e],t.head[e]=n>=d?n-d:0}while(--a);e=a=d;do{n=t.prev[--e],t.prev[e]=n>=d?n-d:0}while(--a);r+=d}if(0===t.strm.avail_in)break;if(s=t.strm,_=t.window,h=t.strstart+t.lookahead,l=r,o=void 0,(o=s.avail_in)>l&&(o=l),a=0===o?0:(s.avail_in-=o,_.set(s.input.subarray(s.next_in,s.next_in+o),h),1===s.state.wrap?s.adler=C(s.adler,_,o,h):2===s.state.wrap&&(s.adler=M(s.adler,_,o,h)),s.next_in+=o,s.total_in+=o,o),t.lookahead+=a,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=yt(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=yt(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<ct&&0!==t.strm.avail_in)},Ut=function(t,e){for(var a,n;;){if(t.lookahead<ct){if(Zt(t),t.lookahead<ct&&e===q)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==a&&t.strstart-a<=t.w_size-ct&&(t.match_length=Et(t,a)),t.match_length>=3)if(n=X(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=yt(t,t.ins_h,t.window[t.strstart+1]);else n=X(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(zt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(zt(t,!1),0===t.strm.avail_out)?1:2},St=function(t,e){for(var a,n,r;;){if(t.lookahead<ct){if(Zt(t),t.lookahead<ct&&e===q)return 1;if(0===t.lookahead)break}if(a=0,t.lookahead>=3&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==a&&t.prev_length<t.max_lazy_match&&t.strstart-a<=t.w_size-ct&&(t.match_length=Et(t,a),t.match_length<=5&&(t.strategy===st||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,n=X(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),a=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(zt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((n=X(t,0,t.window[t.strstart-1]))&&zt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=X(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(zt(t,!1),0===t.strm.avail_out)?1:2};function Rt(t,e,a,n,r){this.good_length=t,this.max_lazy=e,this.nice_length=a,this.max_chain=n,this.func=r}var Lt=[new Rt(0,0,0,0,(function(t,e){var a=65535;for(a>t.pending_buf_size-5&&(a=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Zt(t),0===t.lookahead&&e===q)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+a;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,zt(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-ct&&(zt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(zt(t,!1),t.strm.avail_out),1)})),new Rt(4,4,8,4,Ut),new Rt(4,5,16,8,Ut),new Rt(4,6,32,32,Ut),new Rt(4,4,16,16,St),new Rt(8,16,32,32,St),new Rt(8,16,128,128,St),new Rt(8,32,128,256,St),new Rt(32,128,258,1024,St),new Rt(32,258,258,4096,St)];function Ft(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ut,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),mt(this.dyn_ltree),mt(this.dyn_dtree),mt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),mt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),mt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Tt=function(t){if(!t||!t.state)return vt(t,at);t.total_in=t.total_out=0,t.data_type=dt;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:gt,t.adler=2===e.wrap?0:1,e.last_flush=q,P(e),tt},It=function(t){var e,a=Tt(t);return a===tt&&((e=t.state).window_size=2*e.w_size,mt(e.head),e.max_lazy_match=Lt[e.level].max_lazy,e.good_match=Lt[e.level].good_length,e.nice_match=Lt[e.level].nice_length,e.max_chain_length=Lt[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),a},Nt=function(t,e,a,n,r,i){if(!t)return at;var s=1;if(e===it&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>9||a!==ut||n<8||n>15||e<0||e>9||i<0||i>lt)return vt(t,at);8===n&&(n=9);var _=new Ft;return t.state=_,_.strm=t,_.wrap=s,_.gzhead=null,_.w_bits=n,_.w_size=1<<_.w_bits,_.w_mask=_.w_size-1,_.hash_bits=r+7,_.hash_size=1<<_.hash_bits,_.hash_mask=_.hash_size-1,_.hash_shift=~~((_.hash_bits+3-1)/3),_.window=new Uint8Array(2*_.w_size),_.head=new Uint16Array(_.hash_size),_.prev=new Uint16Array(_.w_size),_.lit_bufsize=1<<r+6,_.pending_buf_size=4*_.lit_bufsize,_.pending_buf=new Uint8Array(_.pending_buf_size),_.d_buf=1*_.lit_bufsize,_.l_buf=3*_.lit_bufsize,_.level=e,_.strategy=i,_.method=a,It(t)},Ot={deflateInit:function(t,e){return Nt(t,e,ut,15,8,ot)},deflateInit2:Nt,deflateReset:It,deflateResetKeep:Tt,deflateSetHeader:function(t,e){return t&&t.state?2!==t.state.wrap?at:(t.state.gzhead=e,tt):at},deflate:function(t,e){var a,n;if(!t||!t.state||e>$||e<0)return t?vt(t,at):at;var r=t.state;if(!t.output||!t.input&&0!==t.avail_in||r.status===wt&&e!==V)return vt(t,0===t.avail_out?rt:at);r.strm=t;var i=r.last_flush;if(r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,xt(r,31),xt(r,139),xt(r,8),r.gzhead?(xt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),xt(r,255&r.gzhead.time),xt(r,r.gzhead.time>>8&255),xt(r,r.gzhead.time>>16&255),xt(r,r.gzhead.time>>24&255),xt(r,9===r.level?2:r.strategy>=_t||r.level<2?4:0),xt(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(xt(r,255&r.gzhead.extra.length),xt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=M(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(xt(r,0),xt(r,0),xt(r,0),xt(r,0),xt(r,0),xt(r,9===r.level?2:r.strategy>=_t||r.level<2?4:0),xt(r,3),r.status=gt);else{var s=ut+(r.w_bits-8<<4)<<8;s|=(r.strategy>=_t||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(s|=32),s+=31-s%31,r.status=gt,At(r,s),0!==r.strstart&&(At(r,t.adler>>>16),At(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),kt(t),a=r.pending,r.pending!==r.pending_buf_size));)xt(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),kt(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,xt(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),kt(t),a=r.pending,r.pending===r.pending_buf_size)){n=1;break}n=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,xt(r,n)}while(0!==n);r.gzhead.hcrc&&r.pending>a&&(t.adler=M(t.adler,r.pending_buf,r.pending-a,a)),0===n&&(r.status=pt)}else r.status=pt;if(r.status===pt&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&kt(t),r.pending+2<=r.pending_buf_size&&(xt(r,255&t.adler),xt(r,t.adler>>8&255),t.adler=0,r.status=gt)):r.status=gt),0!==r.pending){if(kt(t),0===t.avail_out)return r.last_flush=-1,tt}else if(0===t.avail_in&&bt(e)<=bt(i)&&e!==V)return vt(t,rt);if(r.status===wt&&0!==t.avail_in)return vt(t,rt);if(0!==t.avail_in||0!==r.lookahead||e!==q&&r.status!==wt){var _=r.strategy===_t?function(t,e){for(var a;;){if(0===t.lookahead&&(Zt(t),0===t.lookahead)){if(e===q)return 1;break}if(t.match_length=0,a=X(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,a&&(zt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(zt(t,!1),0===t.strm.avail_out)?1:2}(r,e):r.strategy===ht?function(t,e){for(var a,n,r,i,s=t.window;;){if(t.lookahead<=ft){if(Zt(t),t.lookahead<=ft&&e===q)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(n=s[r=t.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){i=t.strstart+ft;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<i);t.match_length=ft-(i-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(a=X(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(a=X(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),a&&(zt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===V?(zt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(zt(t,!1),0===t.strm.avail_out)?1:2}(r,e):Lt[r.level].func(r,e);if(3!==_&&4!==_||(r.status=wt),1===_||3===_)return 0===t.avail_out&&(r.last_flush=-1),tt;if(2===_&&(e===J?W(r):e!==$&&(j(r,0,0,!1),e===Q&&(mt(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),kt(t),0===t.avail_out))return r.last_flush=-1,tt}return e!==V?tt:r.wrap<=0?et:(2===r.wrap?(xt(r,255&t.adler),xt(r,t.adler>>8&255),xt(r,t.adler>>16&255),xt(r,t.adler>>24&255),xt(r,255&t.total_in),xt(r,t.total_in>>8&255),xt(r,t.total_in>>16&255),xt(r,t.total_in>>24&255)):(At(r,t.adler>>>16),At(r,65535&t.adler)),kt(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?tt:et)},deflateEnd:function(t){if(!t||!t.state)return at;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==pt&&e!==gt&&e!==wt?vt(t,at):(t.state=null,e===gt?vt(t,nt):tt)},deflateSetDictionary:function(t,e){var a=e.length;if(!t||!t.state)return at;var n=t.state,r=n.wrap;if(2===r||1===r&&42!==n.status||n.lookahead)return at;if(1===r&&(t.adler=C(t.adler,e,a,0)),n.wrap=0,a>=n.w_size){0===r&&(mt(n.head),n.strstart=0,n.block_start=0,n.insert=0);var i=new Uint8Array(n.w_size);i.set(e.subarray(a-n.w_size,a),0),e=i,a=n.w_size}var s=t.avail_in,_=t.next_in,h=t.input;for(t.avail_in=a,t.next_in=0,t.input=e,Zt(n);n.lookahead>=3;){var l=n.strstart,o=n.lookahead-2;do{n.ins_h=yt(n,n.ins_h,n.window[l+3-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++}while(--o);n.strstart=l,n.lookahead=2,Zt(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=_,t.input=h,t.avail_in=s,n.wrap=r,tt},deflateInfo:"pako deflate (from Nodeca project)"};for(var Dt=new Uint8Array(256),Bt=0;Bt<256;Bt++)Dt[Bt]=Bt>=252?6:Bt>=248?5:Bt>=240?4:Bt>=224?3:Bt>=192?2:1;Dt[254]=Dt[254]=1;var Ct=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Ht=Object.prototype.toString,Mt=K.Z_NO_FLUSH,Yt=K.Z_SYNC_FLUSH,Kt=K.Z_FULL_FLUSH,Pt=K.Z_FINISH,jt=K.Z_OK,Gt=K.Z_STREAM_END,Xt=K.Z_DEFAULT_COMPRESSION,Wt=K.Z_DEFAULT_STRATEGY,qt=K.Z_DEFLATED;function Jt(){this.options={level:Xt,method:qt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Wt};var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ct,this.strm.avail_out=0;var e=Ot.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==jt)throw new Error(Y[e]);if(t.header&&Ot.deflateSetHeader(this.strm,t.header),t.dictionary){var a;if(a="[object ArrayBuffer]"===Ht.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(e=Ot.deflateSetDictionary(this.strm,a))!==jt)throw new Error(Y[e]);this._dict_set=!0}}function Qt(t,e,a){try{t.postMessage({type:"errored",error:e,streamId:a})}catch(n){t.postMessage({type:"errored",error:String(e),streamId:a})}}function Vt(t){var e=t.strm.adler;return new Uint8Array([3,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e])}Jt.prototype.push=function(t,e){var a,n,r=this.strm,i=this.options.chunkSize;if(this.ended)return!1;for(n=e===~~e?e:!0===e?Pt:Mt,"[object ArrayBuffer]"===Ht.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(i),r.next_out=0,r.avail_out=i),(n===Yt||n===Kt)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if((a=Ot.deflate(r,n))===Gt)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=Ot.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===jt;if(0!==r.avail_out){if(n>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},Jt.prototype.onData=function(t){this.chunks.push(t)},Jt.prototype.onEnd=function(t){t===jt&&(this.result=function(t){for(var e=0,a=0,n=t.length;a<n;a++)e+=t[a].length;for(var r=new Uint8Array(e),i=0,s=0,_=t.length;i<_;i++){var h=t[i];r.set(h,s),s+=h.length}return r}(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},function(e){void 0===e&&(e=self);try{var a=new Map;e.addEventListener("message",(function(n){try{var r=function(e,a){switch(a.action){case"init":return{type:"initialized",version:"5.19.0"};case"write":var n=e.get(a.streamId);n||(n=new Jt,e.set(a.streamId,n));var r=n.chunks.length,i=function(t){if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);var e,a,n,r,i,s=t.length,_=0;for(r=0;r<s;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(n=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(n-56320),r++),_+=a<128?1:a<2048?2:a<65536?3:4;for(e=new Uint8Array(_),i=0,r=0;i<_;r++)55296==(64512&(a=t.charCodeAt(r)))&&r+1<s&&56320==(64512&(n=t.charCodeAt(r+1)))&&(a=65536+(a-55296<<10)+(n-56320),r++),a<128?e[i++]=a:a<2048?(e[i++]=192|a>>>6,e[i++]=128|63&a):a<65536?(e[i++]=224|a>>>12,e[i++]=128|a>>>6&63,e[i++]=128|63&a):(e[i++]=240|a>>>18,e[i++]=128|a>>>12&63,e[i++]=128|a>>>6&63,e[i++]=128|63&a);return e}(a.data);return n.push(i,K.Z_SYNC_FLUSH),{type:"wrote",id:a.id,streamId:a.streamId,result:t(n.chunks.slice(r)),trailer:Vt(n),additionalBytesCount:i.length};case"reset":e.delete(a.streamId)}}(a,n.data);r&&e.postMessage(r)}catch(t){Qt(e,t,n.data&&"streamId"in n.data?n.data.streamId:void 0)}}))}catch(t){Qt(e,t)}}()}();'])))}var Bv={status:0};function Pv(t,n,r,e){if(e===void 0){e=Dv}if(Bv.status===0){jv(t,n,e)}switch(Bv.status){case 1:Bv.initializationFailureCallbacks.push(r);return Bv.worker;case 3:return Bv.worker}}function Fv(){return Bv.status}function jv(t,n,r){if(r===void 0){r=Dv}try{var e=r(t);var i=ie(t,e,"error",(function(r){Hv(t,n,r)})).stop;var a=ie(t,e,"message",(function(r){var e=r.data;if(e.type==="errored"){Hv(t,n,e.error,e.streamId)}else if(e.type==="initialized"){qv(e.version)}})).stop;e.postMessage({action:"init"});vt((function(){return Zv(n)}),Nv);var u=function(){i();a()};Bv={status:1,worker:e,stop:u,initializationFailureCallbacks:[]}}catch(r){Hv(t,n,r)}}function Zv(t){if(Bv.status===1){i.error("".concat(t," failed to start: a timeout occurred while initializing the Worker"));Bv.initializationFailureCallbacks.forEach((function(t){return t()}));Bv={status:2}}}function qv(t){if(Bv.status===1){Bv={status:3,worker:Bv.worker,stop:Bv.stop,version:t}}}function Hv(t,n,r,e){if(Bv.status===1||Bv.status===0){i.error("".concat(n," failed to start: an error occurred while creating the Worker:"),r);if(r instanceof Event||r instanceof Error&&Vv(r.message)){var a=void 0;if(t.workerUrl){a="Please make sure the Worker URL ".concat(t.workerUrl," is correct and CSP is correctly configured.")}else{a="Please make sure CSP is correctly configured."}i.error("".concat(a," See documentation at https://docs.datadoghq.com/integrations/content_security_policy_logs/#use-csp-with-real-user-monitoring-and-session-replay"))}else{Oe(r)}if(Bv.status===1){Bv.initializationFailureCallbacks.forEach((function(t){return t()}))}Bv={status:2}}else{Oe(r,{worker_version:Bv.status===3&&Bv.version,stream_id:e})}}function Vv(t){return Z(t,"Content Security Policy")||Z(t,"requires 'TrustedScriptURL'")}function Kv(t,n){if(mi()&&!pi("records")||!Iv()){return{start:wt,stop:wt,getReplayStats:function(){return undefined},onRumStart:wt,isRecording:function(){return false},getSessionReplayLink:function(){return undefined}}}var r={status:1};var e=function(){r={status:1}};var i=function(){r={status:0}};var a=wt;return{start:function(){return e()},stop:function(){return i()},getSessionReplayLink:function(){return a()},onRumStart:function(u,o,f,s,c){if(o.startSessionReplayRecordingManually){r={status:0}}u.subscribe(9,(function(){if(r.status===2||r.status===3){i();r={status:1}}}));u.subscribe(11,(function(t){if(t.reason===wi.UNLOADING){i()}}));u.subscribe(10,(function(){if(r.status===1){e()}}));var d;function v(){if(!d){if(!c){c=Pv(o,"Datadog Session Replay",(function(){i()}),n)}if(c){d=Uv(o,c,1)}}return d}e=function(){var n=f.findTrackedSession();if(!n||!n.sessionReplayAllowed){r={status:1};return}if(r.status===2||r.status===3){return}r={status:2};Ti(o,"interactive",(function(){if(r.status!==2){return}var n=v();if(!n){r={status:0};return}var e=t(u,o,f,s,n).stop;r={status:3,stopRecording:e}}))};i=function(){if(r.status===0){return}if(r.status===3){r.stopRecording()}r={status:0}};a=function(){return Ov(o,f,s,r.status!==0)};if(r.status===1){e()}},isRecording:function(){return Fv()===3&&r.status===3},getReplayStats:function(t){return Fv()===3?Cc(t):undefined}}}var Gv=Kv(Mv);var Wv=Ia(pc,Gv,{startDeflateWorker:Pv,createDeflateEncoder:Uv});ne(rt(),"DD_RUM",Wv);export{ar as DefaultPrivacyLevel,Wv as datadogRum};
//# sourceMappingURL=p-b34ca94c.js.map