/**
 * Cardholder UI Web Components v0.22.0
 * (c) 2024 Marqeta
 * @license MIT
 */
import{r,k as e,i,F as t}from"./p-18a64bdb.js";import{r as a,a as s}from"./p-747ef1bd.js";import"./p-c1f7c0fa.js";import"./p-d6aded2e.js";import"./p-0462f723.js";import"./p-324125bc.js";import"./p-bc4f08b6.js";const o=".replace-card-container{background:var(--components-universal-backgroundColor);padding:var(--components-universal-padding);border-radius:var(--components-universal-borderRadius);border:var(--components-universal-borderWidth) solid var(--components-universal-borderColor)}.replace-card{background-color:var(--styles-background-surfacePrimaryColor);border-radius:var(--borderRadius-radius0)}.replace-card-container .dynamic-field-set{padding:0}.replace-card-option-icon{align-self:flex-start;margin-top:var(--spacing-spacing100)}.replace-options .mq-list-item{border:var(--styles-border-borderWidth) solid var(--styles-border-borderDefaultColor)}.replace-options>mq-list-item:nth-child(2) .mq-list-item{border-top:none;border-bottom:none}.replace-virtual-card-button{align-self:flex-end}.replace-option:hover{background:var(--styles-background-surfacePrimaryHoverColor)}.replace-option:active{background:var(--styles-background-surfacePrimaryActiveColor)}.replace-option:first-child:active{border-top-left-radius:var(--borderRadius-radius200);border-top-right-radius:var(--borderRadius-radius200)}.replace-option:last-child:active{border-bottom-left-radius:var(--borderRadius-radius200);border-bottom-right-radius:var(--borderRadius-radius200)}.replace-option:focus-visible{outline-width:2px;outline-style:solid;outline-offset:2px;outline-color:var(--styles-border-focusOutlineColor);border-radius:var(--borderRadius-radius200);background:var(--styles-background-surfacePrimaryHoverColor);z-index:1}.replace-option:first-child:focus-visible{border-top-left-radius:var(--borderRadius-radius200);border-top-right-radius:var(--borderRadius-radius200)}.replace-option:last-child:focus-visible{border-bottom-left-radius:var(--borderRadius-radius200);border-bottom-right-radius:var(--borderRadius-radius200)}.replace-option:first-child{border-bottom:0;border-top-left-radius:var(--borderRadius-radius200);border-top-right-radius:var(--borderRadius-radius200)}.replace-option:last-child{border-top:0;border-bottom-left-radius:var(--borderRadius-radius200);border-bottom-right-radius:var(--borderRadius-radius200)}.replace-card-error{padding:var(--spacing-spacing1000) var(--spacing-spacing600)}.replace-card-error-refresh{cursor:pointer;padding:var(--spacing-spacing200) var(--spacing-spacing400)}.replace-card-error-refresh:focus-visible{outline-width:2px;outline-style:solid;outline-offset:2px;outline-color:var(--styles-border-focusOutlineColor);border-radius:var(--borderRadius-radius200)}.replace-card-confirm-mailing-address{flex:1 0 0;display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:var(--spacing-spacing100)}";const d=o;const n=class{constructor(t){r(this,t);this.nextButtonClick=e(this,"nextButtonClick",7);this.backButtonClick=e(this,"backButtonClick",7);this.replaceCardButtonClick=e(this,"replaceCardButtonClick",7);this.editButtonClick=e(this,"editButtonClick",7);this.changeAddressSubmitTriggered=e(this,"changeAddressSubmitTriggered",7);this.handleEditForm=()=>{this.editButtonClick.emit()};this.handleFormSubmit=r=>{this.formData=r.detail;this.changeAddressSubmitTriggered.emit({updatedMailingAddress:this.formData,formRef:this.formRef})};this.handleValidation=r=>{const e=r.detail;this.allowSubmit=Object.keys(e).length===0};this.handlePrimaryButtonClick=()=>{if(this.isEditing){this.nextButtonClick.emit({formRef:this.formRef})}else{this.replaceCardButtonClick.emit()}};this.handleSecondaryButtonClick=()=>{this.backButtonClick.emit()};this.renderMailingAddress=r=>{if(!(r===null||r===void 0?void 0:r.address1)){return i("mq-text",{colorType:"secondary",content:"Address not found. Enter a valid address to replace your card."})}const{address1:e,address2:t,city:a,state:s,postalCode:o}=r;return i("flex-container",{flexDirection:"column",gap:"var(--spacing-spacing0)"},i("mq-text",{content:e}),t&&i("mq-text",{content:t}),i("mq-text",{content:`${a}, ${s} ${o}`}))};this.renderStepButtons=()=>{const r=this.isEditing?"Save":"Replace card";const e=!this.allowSubmit||this.isLoading;return i("mq-button-group",{primaryButton:{label:r,disabled:e,loading:this.isLoading,fixed:false,styleOverride:{"min-width":"120px"},onClick:this.handlePrimaryButtonClick},secondaryButton:{label:"Back",disabled:this.isLoading,fixed:false,styleOverride:{"min-width":"120px"},onClick:this.handleSecondaryButtonClick},showSecondaryButton:true})};this.cardToken=undefined;this.allowSubmit=true;this.deliveryTime=undefined;this.error=false;this.isLoading=false;this.isEditing=false;this.reason=undefined;this.mailingAddress=undefined;this.formData=undefined}renderChangeAddressError(){return i(t,null,i("mq-alert",{type:"error",heading:"Unable to save address"},"We are unable to save your new address at this time. Try again or contact customer support."),i("mq-vspacer",{factor:4}))}renderEditMailingAddress(){return i(t,null,this.error&&this.renderChangeAddressError(),i("mq-dynamic-form",{schema:a,uiSchema:s,initialValues:this.mailingAddress,formAttributes:{ref:r=>{this.formRef=r}},onDynamicFormSubmitTriggered:this.handleFormSubmit,onDynamicFormValidationTriggered:r=>{this.handleValidation(r)}}))}renderReviewMailingAddress(){return i("flex-container",{justifyContent:"space-between",alignItems:"center"},i("div",{class:"replace-card-confirm-mailing-address"},i("mq-text",{type:"label",colorType:"primary",content:"Mailing address"}),this.renderMailingAddress(this.mailingAddress)),i("mq-button",{kind:"tertiary",small:true,onClick:()=>this.handleEditForm()},"Edit"))}render(){var r;const e=this.isEditing?"Edit mailing address":`Replace ${(r=this.reason)===null||r===void 0?void 0:r.toLowerCase()} card`;const t=this.isEditing?"Your card will be sent to this address.":`Your card will arrive at this address ${this.deliveryTime}.`;return i("theme-provider",{key:"c63af0cf9113028c3aa37642cd5c028e1097d57d"},i("div",{key:"883c17a215326bdc61308e22e0a2d6e60bd762de",class:"replace-card-container"},i("flex-container",{key:"80a50a8853e477c1f88a477cd4918152e3ee8f97",class:"replace-card",flexDirection:"column",gap:"var(--spacing-spacing0)"},i("flex-container",{key:"fe89653548cc7a337dae5fad58eac29778464985",flexDirection:"column",gap:"var(--spacing-spacing200)"},i("mq-text",{key:"c873b5bbb80510baed56229ccc0d10dbed25d556",type:"heading",content:e}),i("mq-text",{key:"fc0f8c161530d51517368826a3ed2607453d66ac",colorType:"secondary",content:t})),i("mq-vspacer",{key:"a4fc5726fb45fe9cbf0f9dee9f4fba918c9b7cb2",factor:5}),this.isEditing?this.renderEditMailingAddress():this.renderReviewMailingAddress(),this.renderStepButtons())))}};n.style=d;export{n as mq_confirm_mailing_address};
//# sourceMappingURL=p-266e6616.entry.js.map