/**
 * Cardholder UI Web Components v0.22.0
 * (c) 2024 Marqeta
 * @license MIT
 */
import{r as t,k as e,i,F as n,j as a}from"./p-18a64bdb.js";import{m as s}from"./p-c7bc8265.js";import{C as o,H as c}from"./p-cb5bbf71.js";import{A as r}from"./p-d8508f4c.js";import"./p-675e89df.js";import"./p-0462f723.js";const d=".mq-activate-card{position:relative;box-sizing:border-box}.bones .content{flex-direction:row;gap:var(--spacing-spacing400);padding:var(--spacing-spacing600)}.bones .content>flex-container:first-child>mq-bone:nth-child(2)>.mq-bone,.bones .content>flex-container:nth-child(2)>mq-bone:nth-child(2)>.mq-bone{width:188px}.bones .footer{padding:0 var(--spacing-spacing600) var(--spacing-spacing600)}.bones .footer>mq-bone>.mq-bone{width:392px}mq-bone{width:100%}@media screen and (max-width: 480px){.bones .content{flex-direction:column;gap:var(--spacing-spacing600);padding:var(--spacing-spacing600) var(--spacing-spacing600) var(--spacing-spacing800)}.bones .content>flex-container:first-child>mq-bone:nth-child(2)>.mq-bone,.bones .content>flex-container:nth-child(2)>mq-bone:nth-child(2)>.mq-bone{width:100%}.bones .footer>mq-bone>.mq-bone{width:100%}}";const h=d;const p=class{constructor(i){t(this,i);this.mqActivateCardLoadInitiated=e(this,"mqActivateCardLoadInitiated",7);this.mqActivateCardLoadCompleted=e(this,"mqActivateCardLoadCompleted",7);this.mqActivateCardActionTriggered=e(this,"mqActivateCardActionTriggered",7);this.mqActivateCardActionCompleted=e(this,"mqActivateCardActionCompleted",7);this.mqActivateCardActionHook=e(this,"mqActivateCardActionHook",7);this.handleClose=t=>()=>{this.mqActivateCardActionHook.emit({type:t,data:{cardToken:this.cardToken}})};this.cardToken=undefined;this.showTitle=undefined;this.showDescription=undefined;this.isLoading=true;this.showSuccess=false;this.showSetPin=false;this.showError=false}connectedCallback(){this.mqActivateCardLoadInitiated.emit({data:{cardToken:this.cardToken}})}renderBodySkeleton(){return this.isLoading&&i(n,null,i("div",{class:"mq-activate-card-header",style:{display:this.showTitle||this.showDescription?"flex":"none"}},i("flex-container",{flex:"initial",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",gap:"var(--spacing-spacing200)"},i("mq-bone",{height:"28px",width:"132px"}),i("mq-bone",{height:"20px",width:"245px"}))),i("div",{class:"bones"},i("flex-container",{class:"content"},i("flex-container",{"flex-direction":"column",gap:"var(--spacing-spacing100)"},i("mq-bone",{height:"20px",width:"60px"}),i("mq-bone",{height:"40px"})),i("flex-container",{"flex-direction":"column",gap:"var(--spacing-spacing100)"},i("mq-bone",{height:"20px",width:"60px"}),i("mq-bone",{height:"40px"}))),i("flex-container",{class:"footer"},i("mq-bone",{height:"40px"}))))}handleActivateCardActionCompleted(t){const{type:e,status:i}=t===null||t===void 0?void 0:t.detail;if(e===r.ACTIVATE&&i===o.SUCCESS){this.showSuccess=true}else if(e===r.ACTIVATE&&i===o.ERROR){const{error:{code:e}}=t===null||t===void 0?void 0:t.detail;if(e==="CARD_ALREADY_ACTIVE"){this.showError=true}}}renderSuccess(){return i("div",{style:{padding:"var(--spacing-spacing600)",height:"auto"}},i("mq-activate-card-success",{cardToken:this.cardToken,style:{display:"flex",width:"100%",justifyContent:"center"},onCloseActivateCardSuccess:this.handleClose(c.SUCCESS_DONE)}))}renderError(){return i("div",{style:{padding:"var(--spacing-spacing600)",height:"auto"}},i("mq-activate-card-error",{cardToken:this.cardToken,style:{display:"flex",width:"100%",justifyContent:"center"},onCloseActivateCardError:this.handleClose(c.ERROR_DONE)}))}handleIframeLoaded(){this.isLoading=false}render(){if(!s.mqCuiReady){return null}return i("theme-provider",null,i("div",{class:"mq-activate-card"},this.showSuccess&&this.renderSuccess(),this.showError&&this.renderError(),!this.showSuccess&&!this.showError&&i("div",{class:"mq-activate-card-body"},this.renderBodySkeleton(),i("mq-iframe-component",{component:"activate-card",onMqIframeComponentLoadCompleted:()=>this.handleIframeLoaded(),iframeTitle:"Activate card form",eventProxyParent:this,props:{cardToken:this.cardToken,showTitle:this.showTitle,showDescription:this.showDescription}}))))}get el(){return a(this)}};p.style=h;export{p as mq_activate_card};
//# sourceMappingURL=p-48c46df8.entry.js.map