/**
 * Cardholder UI Web Components v0.22.0
 * (c) 2024 Marqeta
 * @license MIT
 */
import{r as e,k as i,i as t,j as r}from"./p-18a64bdb.js";import{a0 as n}from"./p-675e89df.js";import"./p-52af63d3.js";import{i as s}from"./p-fd1eb924.js";import{m as a}from"./p-c7bc8265.js";import{C as o}from"./p-cb5bbf71.js";const d=10;const l=5;const h=15;const c=".mq-reveal-pin{position:relative;border-radius:var(--components-universal-borderRadius);padding:var(--components-universal-padding);background-color:var(--components-universal-backgroundColor);border:var(--components-universal-borderWidth) solid var(--components-universal-borderColor);overflow:hidden;box-sizing:border-box}.mq-reveal-pin-header{display:flex;align-items:center;align-self:stretch;gap:var(--spacing-spacing200);background:var(--styles-background-surfacePrimaryColor)}.mq-reveal-pin-body{background:var(--styles-background-surfacePrimaryColor)}.hidden{display:none}";const p=c;var m;(function(e){e["REVEAL_PIN"]="REVEAL_PIN";e["HIDE_PIN"]="HIDE_PIN"})(m||(m={}));const v=class{constructor(t){e(this,t);this.mqRevealPinLoadInitiated=i(this,"mqRevealPinLoadInitiated",7);this.mqRevealPinLoadCompleted=i(this,"mqRevealPinLoadCompleted",7);this.mqRevealPinActionTriggered=i(this,"mqRevealPinActionTriggered",7);this.mqRevealPinActionCompleted=i(this,"mqRevealPinActionCompleted",7);this.handleIframeLoaded=()=>{this.isLoading=false};this.cardToken=undefined;this.cardholderVerificationMethod=n.OTHER;this.showTitle=undefined;this.timeout=Math.min(Math.max(d,l),h);this.activeEnvName="";this.cuiIframeBaseUrl=undefined;this.iframeSrc="";this.isLoading=true;this.isMobile=undefined;this.themeName=undefined;this.revealPinError=false}connectedCallback(){this.mqRevealPinLoadInitiated.emit();this.isMobile=s()}renderTitle(){const e="View PIN";return this.isLoading?t("mq-bone",{height:"28px",width:"132px"}):t("mq-text",{type:"heading"},e)}renderBodySkeleton(){return this.isLoading&&t("div",{class:"mq-reveal-pin-body"},t("flex-container",{"flex-direction":"column",alignItems:"center"},t("flex-container",{"flex-direction":"column",gap:"var(--spacing-spacing600)"},t("mq-bone",{height:"56px",width:"192px"})),t("mq-bone",{height:"40px",width:"128px"})))}handleMqRevealPinActionTriggered(e){const{type:i}=e.detail;if(i===m.REVEAL_PIN){this.revealPinError=false}}handleMqRevealPinActionCompleted(e){const{type:i,status:t}=e.detail;if(i===m.REVEAL_PIN&&t===o.ERROR){this.revealPinError=true}}renderErrorAlert(){return t("div",{class:{"mq-reveal-pin-body":true,hidden:!this.revealPinError}},t("mq-alert",{type:"error"},"There was a problem revealing your PIN. Try again or contact customer support."))}render(){if(!a.mqCuiReady){return null}return t("theme-provider",null,t("div",{class:"mq-reveal-pin"},t("div",{class:"mq-reveal-pin-header",style:{display:this.showTitle?"flex":"none"}},t("div",{class:"mq-reveal-pin-header-content"},this.showTitle&&this.renderTitle())),this.renderErrorAlert(),t("div",{class:"mq-reveal-pin-body"},this.renderBodySkeleton(),t("mq-iframe-component",{component:"reveal-pin",iframeTitle:"Reveal PIN",eventProxyParent:this,ref:e=>this.iframeComponent=e,onMqIframeComponentLoadCompleted:()=>this.handleIframeLoaded(),props:{cardToken:this.cardToken,timeout:this.timeout,cardholderVerificationMethod:this.cardholderVerificationMethod}}))))}get el(){return r(this)}};v.style=p;export{d as D,v as M,m as R,l as a,h as b};
//# sourceMappingURL=p-7abf3574.js.map