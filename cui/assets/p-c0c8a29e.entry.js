/**
 * Cardholder UI Web Components v0.22.0
 * (c) 2024 Marqeta
 * @license MIT
 */
import{r as t,k as e,w as o,i,H as n,j as s}from"./p-18a64bdb.js";import{a,i as r,d,r as c,f as h,p}from"./p-2e6f1e03.js";import{C as l,a as f,d as u}from"./p-65f27ffd.js";import{g as m,e as b,r as w,c as x,h as g}from"./p-a29d67e4.js";import{c as k}from"./p-25ec5224.js";import{p as v}from"./p-bd6f674d.js";import{g as y}from"./p-78bffe29.js";import{G as A,O as D,F as B,a as Y,B as j,p as E,s as M,b as C,d as S,e as O}from"./p-3cb29ec4.js";import{g as P}from"./p-100c2286.js";import{d as $,w as T}from"./p-97bf4e2e.js";import{g as I,c as z}from"./p-3970d3a9.js";import{KEYBOARD_DID_OPEN as W}from"./p-aff00c02.js";import{c as L}from"./p-1fd4aad1.js";import{g as R}from"./p-f83a4566.js";import{createGesture as N}from"./p-52ed752a.js";import{w as _}from"./p-3647f076.js";import"./p-591639ef.js";import"./p-c7ee7cfe.js";import"./p-9ac21ff8.js";
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var F;(function(t){t["Dark"]="DARK";t["Light"]="LIGHT";t["Default"]="DEFAULT"})(F||(F={}));const G={getEngine(){const t=y();if(t===null||t===void 0?void 0:t.isPluginAvailable("StatusBar")){return t.Plugins.StatusBar}return undefined},setStyle(t){const e=this.getEngine();if(!e){return}e.setStyle(t)},getStyle:async function(){const t=this.getEngine();if(!t){return F.Default}const{style:e}=await t.getInfo();return e}};
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const K=(t,e)=>{if(e===1){return 0}const o=1/(1-e);const i=-(e*o);return t*o+i};const V=()=>{if(!_||_.innerWidth>=768){return}G.setStyle({style:F.Dark})};const H=(t=F.Default)=>{if(!_||_.innerWidth>=768){return}G.setStyle({style:t})};
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Z=async(t,e)=>{if(typeof t.canDismiss!=="function"){return}const o=await t.canDismiss(undefined,A);if(!o){return}if(e.isRunning()){e.onFinish((()=>{t.dismiss(undefined,"handler")}),{oneTimeCallback:true})}else{t.dismiss(undefined,"handler")}};const U=t=>.00255275*2.71828**(-14.9619*t)-1.00255*2.71828**(-.0380968*t)+1;
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const q={MIN_PRESENTING_SCALE:.915};const J=(t,e,o,i)=>{const n=.5;const s=t.offsetHeight;let h=false;let p=false;let l=null;let f=null;const u=.2;let w=true;let x=0;const g=()=>{if(l&&r(l)){return l.scrollY}else{return true}};const k=t=>{const e=t.event.target;if(e===null||!e.closest){return true}l=a(e);if(l){if(r(l)){const t=m(l);f=t.querySelector(".inner-scroll")}else{f=l}const t=!!l.querySelector("ion-refresher");return!t&&f.scrollTop===0}const o=e.closest("ion-footer");if(o===null){return true}return false};const v=o=>{const{deltaY:i}=o;w=g();p=t.canDismiss!==undefined&&t.canDismiss!==true;if(i>0&&l){d(l)}e.progressStart(true,h?1:0)};const y=t=>{const{deltaY:i}=t;if(i>0&&l){d(l)}const a=t.deltaY/s;const r=a>=0&&p;const c=r?u:.9999;const h=r?U(a/c):a;const f=b(1e-4,h,c);e.progressStep(f);if(f>=n&&x<n){H(o)}else if(f<n&&x>=n){V()}x=f};const A=o=>{const a=o.velocityY;const r=o.deltaY/s;const d=r>=0&&p;const f=d?u:.9999;const m=d?U(r/f):r;const x=b(1e-4,m,f);const g=(o.deltaY+a*1e3)/s;const k=!d&&g>=n;let v=k?-.001:.001;if(!k){e.easing("cubic-bezier(1, 0, 0.68, 0.28)");v+=R([0,0],[1,0],[.68,.28],[1,1],x)[0]}else{e.easing("cubic-bezier(0.32, 0.72, 0, 1)");v+=R([0,0],[.32,.72],[0,1],[1,1],x)[0]}const y=k?Q(r*s,a):Q((1-x)*s,a);h=k;B.enable(false);if(l){c(l,w)}e.onFinish((()=>{if(!k){B.enable(true)}})).progressEnd(k?1:0,v,y);if(d&&x>f/4){Z(t,e)}else if(k){i()}};const B=N({el:t,gestureName:"modalSwipeToClose",gesturePriority:D,direction:"y",threshold:10,canStart:k,onStart:v,onMove:y,onEnd:A});return B};const Q=(t,e)=>b(400,t/Math.abs(e*1.1),500);
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const X=t=>{const{currentBreakpoint:e,backdropBreakpoint:o}=t;const i=o===undefined||o<e;const n=i?`calc(var(--backdrop-opacity) * ${e})`:"0";const s=L("backdropAnimation").fromTo("opacity",0,n);if(i){s.beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"])}const a=L("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:`translateY(${100-e*100}%)`}]);return{wrapperAnimation:a,backdropAnimation:s}};const tt=t=>{const{currentBreakpoint:e,backdropBreakpoint:o}=t;const i=`calc(var(--backdrop-opacity) * ${K(e,o)})`;const n=[{offset:0,opacity:i},{offset:1,opacity:0}];const s=[{offset:0,opacity:i},{offset:o,opacity:0},{offset:1,opacity:0}];const a=L("backdropAnimation").keyframes(o!==0?s:n);const r=L("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:`translateY(${100-e*100}%)`},{offset:1,opacity:1,transform:`translateY(100%)`}]);return{wrapperAnimation:r,backdropAnimation:a}};
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const et=()=>{const t=L().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);const e=L().fromTo("transform","translateY(100vh)","translateY(0vh)");return{backdropAnimation:t,wrapperAnimation:e}};const ot=(t,e)=>{const{presentingEl:o,currentBreakpoint:i}=e;const n=m(t);const{wrapperAnimation:s,backdropAnimation:a}=i!==undefined?X(e):et();a.addElement(n.querySelector("ion-backdrop"));s.addElement(n.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const r=L("entering-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation(s);if(o){const t=window.innerWidth<768;const e=o.tagName==="ION-MODAL"&&o.presentingElement!==undefined;const i=m(o);const n=L().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"});const d=document.body;if(t){const t=!CSS.supports("width","max(0px, 1px)")?"30px":"max(30px, var(--ion-safe-area-top))";const i=e?"-10px":t;const s=q.MIN_PRESENTING_SCALE;const a=`translateY(${i}) scale(${s})`;n.afterStyles({transform:a}).beforeAddWrite((()=>d.style.setProperty("background-color","black"))).addElement(o).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:a,borderRadius:"10px 10px 0 0"}]);r.addAnimation(n)}else{r.addAnimation(a);if(!e){s.fromTo("opacity","0","1")}else{const t=e?q.MIN_PRESENTING_SCALE:1;const o=`translateY(-10px) scale(${t})`;n.afterStyles({transform:o}).addElement(i.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:o}]);const s=L().afterStyles({transform:o}).addElement(i.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:o}]);r.addAnimation([n,s])}}}else{r.addAnimation(a)}return r};
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const it=()=>{const t=L().fromTo("opacity","var(--backdrop-opacity)",0);const e=L().fromTo("transform","translateY(0vh)","translateY(100vh)");return{backdropAnimation:t,wrapperAnimation:e}};const nt=(t,e,o=500)=>{const{presentingEl:i,currentBreakpoint:n}=e;const s=m(t);const{wrapperAnimation:a,backdropAnimation:r}=n!==undefined?tt(e):it();r.addElement(s.querySelector("ion-backdrop"));a.addElement(s.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const d=L("leaving-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(o).addAnimation(a);if(i){const t=window.innerWidth<768;const e=i.tagName==="ION-MODAL"&&i.presentingElement!==undefined;const o=m(i);const n=L().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish((t=>{if(t!==1){return}i.style.setProperty("overflow","");const e=Array.from(s.querySelectorAll("ion-modal:not(.overlay-hidden)")).filter((t=>t.presentingElement!==undefined)).length;if(e<=1){s.style.setProperty("background-color","")}}));const s=document.body;if(t){const t=!CSS.supports("width","max(0px, 1px)")?"30px":"max(30px, var(--ion-safe-area-top))";const o=e?"-10px":t;const s=q.MIN_PRESENTING_SCALE;const a=`translateY(${o}) scale(${s})`;n.addElement(i).keyframes([{offset:0,filter:"contrast(0.85)",transform:a,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]);d.addAnimation(n)}else{d.addAnimation(r);if(!e){a.fromTo("opacity","1","0")}else{const t=e?q.MIN_PRESENTING_SCALE:1;const i=`translateY(-10px) scale(${t})`;n.addElement(o.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:i},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);const s=L().addElement(o.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:i},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);d.addAnimation([n,s])}}}else{d.addAnimation(r)}return d};
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const st=()=>{const t=L().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);const e=L().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:`translateY(0px)`}]);return{backdropAnimation:t,wrapperAnimation:e}};const at=(t,e)=>{const{currentBreakpoint:o}=e;const i=m(t);const{wrapperAnimation:n,backdropAnimation:s}=o!==undefined?X(e):st();s.addElement(i.querySelector("ion-backdrop"));n.addElement(i.querySelector(".modal-wrapper"));return L().addElement(t).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([s,n])};
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const rt=()=>{const t=L().fromTo("opacity","var(--backdrop-opacity)",0);const e=L().keyframes([{offset:0,opacity:.99,transform:`translateY(0px)`},{offset:1,opacity:0,transform:"translateY(40px)"}]);return{backdropAnimation:t,wrapperAnimation:e}};const dt=(t,e)=>{const{currentBreakpoint:o}=e;const i=m(t);const{wrapperAnimation:n,backdropAnimation:s}=o!==undefined?tt(e):rt();s.addElement(i.querySelector("ion-backdrop"));n.addElement(i.querySelector(".modal-wrapper"));return L().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([s,n])};
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ct=(t,e,o,i,n,s,d=[],c,h,p)=>{const l=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}];const f=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-n,opacity:0},{offset:1,opacity:0}];const u={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:n!==0?f:l};const x=t.querySelector("ion-content");const g=o.clientHeight;let k=i;let v=0;let y=false;const A=.95;const D=s.childAnimations.find((t=>t.id==="wrapperAnimation"));const Y=s.childAnimations.find((t=>t.id==="backdropAnimation"));const j=d[d.length-1];const E=d[0];const M=()=>{t.style.setProperty("pointer-events","auto");e.style.setProperty("pointer-events","auto");t.classList.remove(B)};const C=()=>{t.style.setProperty("pointer-events","none");e.style.setProperty("pointer-events","none");t.classList.add(B)};if(D&&Y){D.keyframes([...u.WRAPPER_KEYFRAMES]);Y.keyframes([...u.BACKDROP_KEYFRAMES]);s.progressStart(true,1-k);const t=k>n;if(t){M()}else{C()}}if(x&&k!==j){x.scrollY=false}const S=t=>{const e=a(t.event.target);k=c();if(k===1&&e){const t=r(e)?m(e).querySelector(".inner-scroll"):e;const o=!!e.querySelector("ion-refresher");return!o&&t.scrollTop===0}return true};const O=e=>{y=t.canDismiss!==undefined&&t.canDismiss!==true&&E===0;if(e.deltaY>0&&x){x.scrollY=false}w((()=>{t.focus()}));s.progressStart(true,1-k)};const P=t=>{if(t.deltaY>0&&x){x.scrollY=false}const e=1-k;const o=d.length>1?1-d[1]:undefined;const i=e+t.deltaY/g;const n=o!==undefined&&i>=o&&y;const a=n?A:.9999;const r=n&&o!==undefined?o+U((i-o)/(a-o)):i;v=b(1e-4,r,a);s.progressStep(v)};const $=t=>{const e=t.velocityY;const o=(t.deltaY+e*350)/g;const i=k-o;const n=d.reduce(((t,e)=>Math.abs(e-i)<Math.abs(t-i)?e:t));T({breakpoint:n,breakpointOffset:v,canDismiss:y,animated:true})};const T=e=>{const{breakpoint:o,canDismiss:i,breakpointOffset:a,animated:r}=e;const c=i&&o===0;const l=c?k:o;const f=l!==0;k=0;if(D&&Y){D.keyframes([{offset:0,transform:`translateY(${a*100}%)`},{offset:1,transform:`translateY(${(1-l)*100}%)`}]);Y.keyframes([{offset:0,opacity:`calc(var(--backdrop-opacity) * ${K(1-a,n)})`},{offset:1,opacity:`calc(var(--backdrop-opacity) * ${K(l,n)})`}]);s.progressStep(0)}I.enable(false);if(c){Z(t,s)}else if(!f){h()}if(x&&l===d[d.length-1]){x.scrollY=true}return new Promise((t=>{s.onFinish((()=>{if(f){if(D&&Y){w((()=>{D.keyframes([...u.WRAPPER_KEYFRAMES]);Y.keyframes([...u.BACKDROP_KEYFRAMES]);s.progressStart(true,1-l);k=l;p(k);const e=k>n;if(e){M()}else{C()}I.enable(true);t()}))}else{I.enable(true);t()}}else{t()}}),{oneTimeCallback:true}).progressEnd(1,0,r?500:0)}))};const I=N({el:o,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:S,onStart:O,onMove:P,onEnd:$});return{gesture:I,moveSheetToBreakpoint:T}};const ht=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:flex;position:absolute;align-items:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{box-shadow:none}:host(.modal-card) .modal-shadow{box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}';const pt=ht;const lt=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:flex;position:absolute;align-items:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{transform:translate3d(0,  40px,  0);opacity:0.01}';const ft=lt;const ut=class{constructor(o){t(this,o);this.didPresent=e(this,"ionModalDidPresent",7);this.willPresent=e(this,"ionModalWillPresent",7);this.willDismiss=e(this,"ionModalWillDismiss",7);this.didDismiss=e(this,"ionModalDidDismiss",7);this.ionBreakpointDidChange=e(this,"ionBreakpointDidChange",7);this.didPresentShorthand=e(this,"didPresent",7);this.willPresentShorthand=e(this,"willPresent",7);this.willDismissShorthand=e(this,"willDismiss",7);this.didDismissShorthand=e(this,"didDismiss",7);this.ionMount=e(this,"ionMount",7);this.lockController=k();this.triggerController=Y();this.coreDelegate=l();this.isSheetModal=false;this.inheritedAttributes={};this.inline=false;this.gestureAnimationDismissing=false;this.onHandleClick=()=>{const{sheetTransition:t,handleBehavior:e}=this;if(e!=="cycle"||t!==undefined){return}this.moveToNextBreakpoint()};this.onBackdropTap=()=>{const{sheetTransition:t}=this;if(t!==undefined){return}this.dismiss(undefined,j)};this.onLifecycle=t=>{const e=this.usersElement;const o=mt[t.type];if(e&&o){const i=new CustomEvent(o,{bubbles:false,cancelable:false,detail:t.detail});e.dispatchEvent(i)}};this.presented=false;this.hasController=false;this.overlayIndex=undefined;this.delegate=undefined;this.keyboardClose=true;this.enterAnimation=undefined;this.leaveAnimation=undefined;this.breakpoints=undefined;this.initialBreakpoint=undefined;this.backdropBreakpoint=0;this.handle=undefined;this.handleBehavior="none";this.component=undefined;this.componentProps=undefined;this.cssClass=undefined;this.backdropDismiss=true;this.showBackdrop=true;this.animated=true;this.presentingElement=undefined;this.htmlAttributes=undefined;this.isOpen=false;this.trigger=undefined;this.keepContentsMounted=false;this.focusTrap=true;this.canDismiss=true}onIsOpenChange(t,e){if(t===true&&e===false){this.present()}else if(t===false&&e===true){this.dismiss()}}triggerChanged(){const{trigger:t,el:e,triggerController:o}=this;if(t){o.addClickListener(e,t)}}breakpointsChanged(t){if(t!==undefined){this.sortedBreakpoints=t.sort(((t,e)=>t-e))}}connectedCallback(){const{el:t}=this;E(t);this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){var t;const{breakpoints:e,initialBreakpoint:o,el:i,htmlAttributes:n}=this;const s=this.isSheetModal=e!==undefined&&o!==undefined;const a=["aria-label","role"];this.inheritedAttributes=x(i,a);if(n!==undefined){a.forEach((t=>{const e=n[t];if(e){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{[t]:n[t]});delete n[t]}}))}if(s){this.currentBreakpoint=this.initialBreakpoint}if(e!==undefined&&o!==undefined&&!e.includes(o)){v("Your breakpoints array must include the initialBreakpoint value.")}if(!((t=this.htmlAttributes)===null||t===void 0?void 0:t.id)){M(this.el)}}componentDidLoad(){if(this.isOpen===true){w((()=>this.present()))}this.breakpointsChanged(this.breakpoints);this.triggerChanged()}getDelegate(t=false){if(this.workingDelegate&&!t){return{delegate:this.workingDelegate,inline:this.inline}}const e=this.el.parentNode;const o=this.inline=e!==null&&!this.hasController;const i=this.workingDelegate=o?this.delegate||this.coreDelegate:this.delegate;return{inline:o,delegate:i}}async checkCanDismiss(t,e){const{canDismiss:o}=this;if(typeof o==="function"){return o(t,e)}return o}async present(){const t=await this.lockController.lock();if(this.presented){t();return}const{presentingElement:e,el:i}=this;this.currentBreakpoint=this.initialBreakpoint;const{inline:n,delegate:s}=this.getDelegate(true);this.ionMount.emit();this.usersElement=await f(s,i,this.component,["ion-page"],this.componentProps,n);if(g(i)){await $(this.usersElement)}else if(!this.keepContentsMounted){await T()}o((()=>this.el.classList.add("show-modal")));const a=e!==undefined;if(a&&I(this)==="ios"){this.statusBarStyle=await G.getStyle();V()}await C(this,"modalEnter",ot,at,{presentingEl:e,currentBreakpoint:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint});if(typeof window!=="undefined"){this.keyboardOpenCallback=()=>{if(this.gesture){this.gesture.enable(false);w((()=>{if(this.gesture){this.gesture.enable(true)}}))}};window.addEventListener(W,this.keyboardOpenCallback)}if(this.isSheetModal){this.initSheetGesture()}else if(a){this.initSwipeToClose()}t()}initSwipeToClose(){var t;if(I(this)!=="ios"){return}const{el:e}=this;const o=this.leaveAnimation||z.get("modalLeave",nt);const i=this.animation=o(e,{presentingEl:this.presentingElement});const n=h(e);if(!n){p(e);return}const s=(t=this.statusBarStyle)!==null&&t!==void 0?t:F.Default;this.gesture=J(e,i,s,(()=>{this.gestureAnimationDismissing=true;H(this.statusBarStyle);this.animation.onFinish((async()=>{await this.dismiss(undefined,A);this.gestureAnimationDismissing=false}))}));this.gesture.enable(true)}initSheetGesture(){const{wrapperEl:t,initialBreakpoint:e,backdropBreakpoint:o}=this;if(!t||e===undefined){return}const i=this.enterAnimation||z.get("modalEnter",ot);const n=this.animation=i(this.el,{presentingEl:this.presentingElement,currentBreakpoint:e,backdropBreakpoint:o});n.progressStart(true,1);const{gesture:s,moveSheetToBreakpoint:a}=ct(this.el,this.backdropEl,t,e,o,n,this.sortedBreakpoints,(()=>{var t;return(t=this.currentBreakpoint)!==null&&t!==void 0?t:0}),(()=>this.sheetOnDismiss()),(t=>{if(this.currentBreakpoint!==t){this.currentBreakpoint=t;this.ionBreakpointDidChange.emit({breakpoint:t})}}));this.gesture=s;this.moveSheetToBreakpoint=a;this.gesture.enable(true)}sheetOnDismiss(){this.gestureAnimationDismissing=true;this.animation.onFinish((async()=>{this.currentBreakpoint=0;this.ionBreakpointDidChange.emit({breakpoint:this.currentBreakpoint});await this.dismiss(undefined,A);this.gestureAnimationDismissing=false}))}async dismiss(t,e){var i;if(this.gestureAnimationDismissing&&e!==A){return false}const n=await this.lockController.lock();if(e!=="handler"&&!await this.checkCanDismiss(t,e)){n();return false}const{presentingElement:s}=this;const a=s!==undefined;if(a&&I(this)==="ios"){H(this.statusBarStyle)}if(typeof window!=="undefined"&&this.keyboardOpenCallback){window.removeEventListener(W,this.keyboardOpenCallback);this.keyboardOpenCallback=undefined}const r=await S(this,t,e,"modalLeave",nt,dt,{presentingEl:s,currentBreakpoint:(i=this.currentBreakpoint)!==null&&i!==void 0?i:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint});if(r){const{delegate:t}=this.getDelegate();await u(t,this.usersElement);o((()=>this.el.classList.remove("show-modal")));if(this.animation){this.animation.destroy()}if(this.gesture){this.gesture.destroy()}}this.currentBreakpoint=undefined;this.animation=undefined;n();return r}onDidDismiss(){return O(this.el,"ionModalDidDismiss")}onWillDismiss(){return O(this.el,"ionModalWillDismiss")}async setCurrentBreakpoint(t){if(!this.isSheetModal){v("setCurrentBreakpoint is only supported on sheet modals.");return}if(!this.breakpoints.includes(t)){v(`Attempted to set invalid breakpoint value ${t}. Please double check that the breakpoint value is part of your defined breakpoints.`);return}const{currentBreakpoint:e,moveSheetToBreakpoint:o,canDismiss:i,breakpoints:n,animated:s}=this;if(e===t){return}if(o){this.sheetTransition=o({breakpoint:t,breakpointOffset:1-e,canDismiss:i!==undefined&&i!==true&&n[0]===0,animated:s});await this.sheetTransition;this.sheetTransition=undefined}}async getCurrentBreakpoint(){return this.currentBreakpoint}async moveToNextBreakpoint(){const{breakpoints:t,currentBreakpoint:e}=this;if(!t||e==null){return false}const o=t.filter((t=>t!==0));const i=o.indexOf(e);const n=(i+1)%o.length;const s=o[n];await this.setCurrentBreakpoint(s);return true}render(){const{handle:t,isSheetModal:e,presentingElement:o,htmlAttributes:s,handleBehavior:a,inheritedAttributes:r,focusTrap:d}=this;const c=t!==false&&e;const h=I(this);const p=o!==undefined&&h==="ios";const l=a==="cycle";return i(n,Object.assign({key:"013ba4864ca4d2c1052c512f6a4b0732b8decff7","no-router":true,tabindex:"-1"},s,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign({[h]:true,["modal-default"]:!p&&!e,[`modal-card`]:p,[`modal-sheet`]:e,"overlay-hidden":true,[B]:d===false},P(this.cssClass)),onIonBackdropTap:this.onBackdropTap,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle}),i("ion-backdrop",{key:"498b1c0a03836d6799dcf3b8e9315805c70f6480",ref:t=>this.backdropEl=t,visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),h==="ios"&&i("div",{key:"ce22e4caf1096e87248926fe2477f0d5a4c8a5cf",class:"modal-shadow"}),i("div",Object.assign({key:"540e47b15d8290166c39b022c725182114a75682",role:"dialog"},r,{"aria-modal":"true",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:t=>this.wrapperEl=t}),c&&i("button",{key:"f3b352ec9a63a7ec801462aacfd8295b4302d115",class:"modal-handle",tabIndex:!l?-1:0,"aria-label":"Activate to adjust the size of the dialog overlaying the screen",onClick:l?this.onHandleClick:undefined,part:"handle"}),i("slot",{key:"31a3f58f4c733ffdf736523c154200874a96b1d0"})))}get el(){return s(this)}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}};const mt={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"};ut.style={ios:pt,md:ft};export{ut as ion_modal};
//# sourceMappingURL=p-c0c8a29e.entry.js.map