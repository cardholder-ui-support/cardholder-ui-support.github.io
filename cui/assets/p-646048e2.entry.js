/**
 * Cardholder UI Web Components v0.22.0
 * (c) 2024 Marqeta
 * @license MIT
 */
import{r as e,i as t,k as r,H as s,j as i}from"./p-18a64bdb.js";import"./p-52af63d3.js";import{ac as n}from"./p-675e89df.js";import"./p-0462f723.js";function o({address1:e,address2:t="",city:r,state:s,postalCode:i}){if(!e||!r||!s||!i){return""}let n=e;if(t){n+=` ${t}`}const o=`${n}, ${r} ${s} ${i}`;return o}function a(e,t){if(t.length!==9){return""}const r=e===n.Ssn;if(r){return`***-**-${t.slice(-4)}`}else{return`**-${t.slice(-7)}`}}function c(e){if(e.length!==10){return""}const t=e.slice(0,3);const r=e.slice(3,6);const s=e.slice(6);return`${t}-${r}-${s}`}function l(e){let t;if(typeof e==="string"){const[r,s,i]=e.split("-");t=new Date(Number(r),Number(s)-1,Number(i))}else if(e instanceof Date){t=e}else{return""}const r=String(t.getMonth()+1).padStart(2,"0");const s=String(t.getDate()).padStart(2,"0");const i=t.getFullYear();return`${r}/${s}/${i}`}const d=class{constructor(t){e(this,t);this.reviewData=undefined;this.formattedAddress=undefined;this.formattedPhone=undefined;this.formattedBirthDate=undefined;this.formattedIdentifier=undefined}setFormattedValues(e){if(e){const{address1:t,address2:r,city:s,state:i,postalCode:n}=e;this.formattedAddress=o({address1:t,address2:r,city:s,state:i,postalCode:n});this.formattedPhone=c(e.phone);this.formattedBirthDate=l(e.birthDate);this.formattedIdentifier=a(e.identifierType,e.identifierValue)}}render(){if(!this.reviewData){return null}return t("flex-container",{flexDirection:"column",gap:"var(--spacing-spacing600)"},t("flex-container",{flexDirection:"row",justifyContent:"space-between"},t("mq-text",{colorType:"primary",class:"account-holder-review-key",bold:true},"First name"),t("mq-text",{colorType:"secondary",class:"account-holder-review-value"},this.reviewData.firstName)),t("flex-container",{flexDirection:"row",justifyContent:"space-between"},t("mq-text",{colorType:"primary",class:"account-holder-review-key",bold:true},"Last name"),t("mq-text",{colorType:"secondary",class:"account-holder-review-value"},this.reviewData.lastName)),t("flex-container",{flexDirection:"row",justifyContent:"space-between"},t("mq-text",{colorType:"primary",class:"account-holder-review-key",bold:true},"Phone"),t("mq-text",{colorType:"secondary",class:"account-holder-review-value"},this.formattedPhone)),t("flex-container",{flexDirection:"row",justifyContent:"space-between"},t("mq-text",{colorType:"primary",class:"account-holder-review-key",bold:true},"Email"),t("mq-text",{colorType:"secondary",class:"account-holder-review-value"},this.reviewData.email)),t("flex-container",{flexDirection:"row",justifyContent:"space-between"},t("mq-text",{colorType:"primary",class:"account-holder-review-key",bold:true},"Date of birth"),t("mq-text",{colorType:"secondary",class:"account-holder-review-value"},this.formattedBirthDate)),t("flex-container",{flexDirection:"row",justifyContent:"space-between"},t("mq-text",{colorType:"primary",class:"account-holder-review-key",bold:true},"Address"),t("mq-text",{colorType:"secondary",class:"account-holder-review-value"},this.formattedAddress)),t("flex-container",{flexDirection:"row",justifyContent:"space-between"},t("mq-text",{colorType:"primary",class:"account-holder-review-key",bold:true},this.reviewData.identifierType),t("mq-text",{colorType:"secondary",class:"account-holder-review-value"},this.formattedIdentifier)))}static get watchers(){return{reviewData:["setFormattedValues"]}}};const u={properties:{terms:{type:"boolean",title:"I agree to the terms and conditions",const:true}},required:["terms"]};const p={"ui:rootFieldId":"terms"};const h=class{constructor(t){e(this,t);this.mqKycTermsValid=r(this,"mqKycTermsValid",7);this.validateForm=e=>{const t=e.detail;let r=true;if(Object.keys(t).length){r=false}this.mqKycTermsValid.emit(r)};this.disclosures=[]}render(){return t("flex-container",{key:"a6fdbb71e7e780a2943bde35fc6139bfe7d445da",flexDirection:"column",gap:"var(--spacing-spacing200)"},t("mq-dynamic-form",{key:"c66619d62d66131ba1b5bedb901b5de1ad474ff8",schema:u,uiSchema:p,onDynamicFormValidationTriggered:this.validateForm}),t("flex-container",{key:"1b9b4750856b0a6db6dd326c9b66f2dc334e95ae",flexDirection:"column",gap:"var(--spacing-spacing200)",styleOverride:{marginLeft:"var(--spacing-spacing800)"}},this.disclosures.map((e=>t("mq-hyperlink",{href:e.src,target:"_blank"},e.title||e.src)))))}};const f=".stepper-title{margin-bottom:var(--spacing-spacing800)}.progress-container{border-radius:var(--borderRadius-radius100);background-color:var(--elements-progress-progressBarTrack);overflow:hidden;width:100%}.progress-bar{border-radius:0;background-color:var(--elements-progress-progressBar);transition:width 0.25s linear;animation-name:progress;animation-duration:10s;animation-direction:reverse;animation-timing-function:linear;animation-fill-mode:forwards;animation-delay:0}.progress-container,.progress-bar{height:8px;max-width:655px}";const m=f;const y=class{constructor(t){e(this,t);this.totalSteps=undefined;this.initialStep=0;this.actionProps=undefined;this.rawActionProps=undefined;this.onNextStepChange=undefined;this.onPrevStepChange=undefined;this.onSubmit=undefined;this.currentStep=this.initialStep||0}componentWillLoad(){if(!this.actionProps&&this.rawActionProps){this.parseActionProps(this.rawActionProps)}}parseActionProps(e){if(!e){return}try{this.actionProps=JSON.parse(e)}catch(e){throw new Error("Unable to parse raw-action-props")}}async validateCurrentStep(){let e=true;if(this.onNextStepChange){const t=new CustomEvent("validateStep",{detail:{step:this.currentStep},bubbles:true,composed:true,cancelable:true});e=await this.onNextStepChange(t)}return e}async nextStep(){const e=await this.validateCurrentStep();if(e&&this.currentStep<this.totalSteps-1){this.currentStep++}}prevStep(){if(this.currentStep>0){this.currentStep--;this.onPrevStepChange&&this.onPrevStepChange()}}render(){if(!this.totalSteps){return null}return t(s,null,t("flex-container",{flexDirection:"column",gap:"0"},t("stepper-title",{totalSteps:this.totalSteps,currentStep:this.currentStep,onPrev:()=>this.prevStep()}),t("slot",{name:`step-${this.currentStep}`}),t("stepper-actions",Object.assign({},this.actionProps,{currentStep:this.currentStep,totalSteps:this.totalSteps,onNext:()=>this.nextStep(),onPrev:()=>this.prevStep(),onSubmit:()=>this.onSubmit()}))))}get el(){return i(this)}static get watchers(){return{rawActionProps:["parseActionProps"]}}};y.style=m;export{d as mq_onboard_account_holder_review,h as mq_onboard_account_holder_terms,y as mq_stepper};
//# sourceMappingURL=p-646048e2.entry.js.map