/**
 * Cardholder UI Web Components v0.22.0
 * (c) 2024 Marqeta
 * @license MIT
 */
import{r as t,i,F as e,H as s,j as o}from"./p-18a64bdb.js";import{m as a}from"./p-c7bc8265.js";import"./p-675e89df.js";import"./p-0462f723.js";const l=(t,i)=>{i.forEach((i=>{if(!t.includes(i)){if(!i.hasAttribute("data-prev-tabindex")){i.dataset.prevTabindex=i.getAttribute("tabindex");i.setAttribute("tabindex","-1");i.style.outline="none"}}}))};const n=t=>{document.body.style.overflow="";t.forEach((t=>{if(t.dataset.prevTabindex!=="null"){t.setAttribute("tabindex",t.dataset.prevTabindex)}else{t.removeAttribute("tabindex")}delete t.dataset.prevTabindex;t.style.outline=""}))};const d=":host{display:none;position:fixed;top:0;left:0;width:100vw;height:100vh;align-items:center;justify-content:center;z-index:1000;background-color:var(--colors-overlay-overlay500)}div{box-sizing:border-box}.modal{position:relative;background-color:var(--styles-background-surfacePrimaryColor);border-radius:var(--borderRadius-radius200);box-shadow:var(--elevation-elevation2);width:35rem;box-sizing:border-box}.modal.small{width:27.5rem}.modal.large{width:38.75rem}.fullWidth{width:100vw;height:100vh;display:flex;flex-direction:column}.fullWidth .modal-body{width:34.75rem;align-self:center}.modal-header{display:flex;align-items:center;align-self:stretch;padding:var(--spacing-spacing600) var(--spacing-spacing1000);gap:var(--spacing-spacing200)}.modal-header-content{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:var(--spacing-spacing200);flex:1 0 0}.modal .close-button{position:absolute;top:4px;right:0;padding:0;color:var(--styles-icons-iconDefaultColor);background:none;border:none;cursor:pointer;transform:translate(-24px, 24px)}.close-button:focus-visible{border-radius:100%;outline-style:solid;outline-width:0.125rem;outline-offset:0.125rem;outline-color:var(--styles-border-focusOutlineColor)}.close-button mq-icon{display:block}.modal-body{padding:var(--spacing-spacing600) var(--spacing-spacing1000)}@media (max-width: 480px){.modal,.modal.small,.modal.large{height:100vh;display:flex;flex-direction:column;width:100vw;border-radius:0}.modal-header{padding:var(--spacing-spacing600)}.modal-body{padding:var(--spacing-spacing600)}.modal-body{flex:1;display:flex;flex-direction:column}.fullWidth .modal-body{height:100vh;width:100vw;padding:0 var(--spacing-spacing600)}}";const r=d;const h=class{constructor(s){t(this,s);this.modalNodes=Array.from(document.querySelectorAll("mq-modal *"));this.nonModalNodes=document.querySelectorAll('body *:not(mq-modal):not([tabindex="-1"])');this.renderModalHeader=()=>{if(this.isLoading){return i(e,null,i("mq-bone",{height:"28px",width:"132px"}),this.description&&i("mq-bone",{height:"20px",width:"245px"}))}else if(typeof this.title==="string"){return i(e,null,i("mq-text",{type:"heading"},this.title),this.description&&i("mq-text",{styleOverride:{color:"var(--styles-text-textSecondaryColor)"}},this.description))}else{return i(e,null,this.title)}};this.closeIcon=undefined;this.content=null;this.contentloadingSkeleton=undefined;this.description="";this.disableHeader=false;this.fullWidth=false;this.isLoading=false;this.isOpen=false;this.isReady=false;this.modalHeaderStyleOverride={};this.size="";this.theme=null;this.title=""}componentDidRender(){const t=this.el.shadowRoot.querySelector(".close-button");if(t)t.focus()}handleRouteChange(){this.hideModal()}handleKeyDown(t){if(t.key==="Escape"&&this.isOpen){this.hideModal()}}async showModal(t,i,e="",s=false,o=false,a="",n={},d){document.body.style.overflow="hidden";this.isOpen=true;this.title=t;this.content=i;this.description=e;this.fullWidth=s;this.disableHeader=o;this.size=a;this.modalHeaderStyleOverride=n;this.contentloadingSkeleton=d;this.isLoading=d;l(this.modalNodes,this.nonModalNodes)}async hideModal(){this.isOpen=false;this.title="";this.content=null;this.description="";document.body.style.overflow="auto";n(this.nonModalNodes)}async setLoading(t){this.isLoading=t}async updateModalBodyHeight(t){const i=this.el.shadowRoot.querySelector(".modal-body");i.style.height=t}render(){if(!a.mqCuiReady){return null}return i(s,{style:{display:this.isOpen?"flex":"none"}},i("theme-provider",null,this.isOpen&&i("div",{class:{modal:true,fullWidth:this.fullWidth,[this.size]:!!this.size}},!this.disableHeader&&i("div",{class:"modal-header",style:this.modalHeaderStyleOverride},i("div",{class:"modal-header-content"},this.renderModalHeader())),i("div",{class:"modal-body"},this.isLoading?this.contentloadingSkeleton:this.content),!this.disableHeader&&i("button",{id:"CloseModalButton",class:"close-button","aria-label":"Close",tabindex:"0",onClick:()=>this.hideModal()},i("mq-icon",{name:"modal-header-icon-close",size:"md"})))))}get el(){return o(this)}};h.style=r;export{h as mq_modal};
//# sourceMappingURL=p-2b1866f3.entry.js.map